var AG=Object.defineProperty;var eT=mn=>{throw TypeError(mn)};var xG=(mn,qt,Mn)=>qt in mn?AG(mn,qt,{enumerable:!0,configurable:!0,writable:!0,value:Mn}):mn[qt]=Mn;var mr=(mn,qt,Mn)=>xG(mn,typeof qt!="symbol"?qt+"":qt,Mn),db=(mn,qt,Mn)=>qt.has(mn)||eT("Cannot "+Mn);var ie=(mn,qt,Mn)=>(db(mn,qt,"read from private field"),Mn?Mn.call(mn):qt.get(mn)),bt=(mn,qt,Mn)=>qt.has(mn)?eT("Cannot add the same private member more than once"):qt instanceof WeakSet?qt.add(mn):qt.set(mn,Mn),ut=(mn,qt,Mn,nl)=>(db(mn,qt,"write to private field"),nl?nl.call(mn,Mn):qt.set(mn,Mn),Mn),Ut=(mn,qt,Mn)=>(db(mn,qt,"access private method"),Mn);var Mm=(mn,qt,Mn,nl)=>({set _(ou){ut(mn,qt,ou,Mn)},get _(){return ie(mn,qt,nl)}});(function(){"use strict";var Ma,Tx,OM,Ll,Ra,ec,LM,tc,Ta,nc,PM,Pl,FM,Fl,rc,Ao,Bl,Nr,gd,Nl,Lo,ea,BM,Fi,Zt,md,yi,_l,ic,Ns,Oa,yd,oc,sc,jl,zl,La,ac,un,th,hb,pb,gb,mb,yb,vb,Ab,tT,NM,vd,os,ii,Hl,ss,tl,_M,_s,Po,Ad,jM,js,Pa,Bi,zs,Hs,Rm,xb,zM,as,HM,Yn,Fa,Ba,lc,uc,Na,cc,fc,UM;function mn(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=typeof document<"u"&&document.createElement("link").relList;return t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"})();var qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nl={exports:{}},ou={},bb={exports:{}},$t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zc=Symbol.for("react.element"),nT=Symbol.for("react.portal"),rT=Symbol.for("react.fragment"),iT=Symbol.for("react.strict_mode"),oT=Symbol.for("react.profiler"),sT=Symbol.for("react.provider"),aT=Symbol.for("react.context"),lT=Symbol.for("react.forward_ref"),uT=Symbol.for("react.suspense"),cT=Symbol.for("react.memo"),fT=Symbol.for("react.lazy"),wb=Symbol.iterator;function dT(e){return e===null||typeof e!="object"?null:(e=wb&&e[wb]||e["@@iterator"],typeof e=="function"?e:null)}var Sb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cb=Object.assign,kb={};function su(e,t,n){this.props=e,this.context=t,this.refs=kb,this.updater=n||Sb}su.prototype.isReactComponent={},su.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},su.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ib(){}Ib.prototype=su.prototype;function Tm(e,t,n){this.props=e,this.context=t,this.refs=kb,this.updater=n||Sb}var Om=Tm.prototype=new Ib;Om.constructor=Tm,Cb(Om,su.prototype),Om.isPureReactComponent=!0;var Eb=Array.isArray,Db=Object.prototype.hasOwnProperty,Lm={current:null},Mb={key:!0,ref:!0,__self:!0,__source:!0};function Rb(e,t,n){var r,i={},s=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)Db.call(t,r)&&!Mb.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),h=0;h<u;h++)c[h]=arguments[h+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:zc,type:e,key:s,ref:l,props:i,_owner:Lm.current}}function hT(e,t){return{$$typeof:zc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pm(e){return typeof e=="object"&&e!==null&&e.$$typeof===zc}function pT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Tb=/\/+/g;function Fm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pT(""+e.key):t.toString(36)}function nh(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case zc:case nT:l=!0}}if(l)return l=e,i=i(l),e=r===""?"."+Fm(l,0):r,Eb(i)?(n="",e!=null&&(n=e.replace(Tb,"$&/")+"/"),nh(i,t,n,"",function(h){return h})):i!=null&&(Pm(i)&&(i=hT(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Tb,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=r===""?".":r+":",Eb(e))for(var u=0;u<e.length;u++){s=e[u];var c=r+Fm(s,u);l+=nh(s,t,n,c,i)}else if(c=dT(e),typeof c=="function")for(e=c.call(e),u=0;!(s=e.next()).done;)s=s.value,c=r+Fm(s,u++),l+=nh(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function rh(e,t,n){if(e==null)return e;var r=[],i=0;return nh(e,r,"","",function(s){return t.call(n,s,i++)}),r}function gT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ci={current:null},ih={transition:null},mT={ReactCurrentDispatcher:ci,ReactCurrentBatchConfig:ih,ReactCurrentOwner:Lm};function Ob(){throw Error("act(...) is not supported in production builds of React.")}$t.Children={map:rh,forEach:function(e,t,n){rh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return rh(e,function(){t++}),t},toArray:function(e){return rh(e,function(t){return t})||[]},only:function(e){if(!Pm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},$t.Component=su,$t.Fragment=rT,$t.Profiler=oT,$t.PureComponent=Tm,$t.StrictMode=iT,$t.Suspense=uT,$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mT,$t.act=Ob,$t.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Cb({},e.props),i=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=Lm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)Db.call(t,c)&&!Mb.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:zc,type:e.type,key:i,ref:s,props:r,_owner:l}},$t.createContext=function(e){return e={$$typeof:aT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sT,_context:e},e.Consumer=e},$t.createElement=Rb,$t.createFactory=function(e){var t=Rb.bind(null,e);return t.type=e,t},$t.createRef=function(){return{current:null}},$t.forwardRef=function(e){return{$$typeof:lT,render:e}},$t.isValidElement=Pm,$t.lazy=function(e){return{$$typeof:fT,_payload:{_status:-1,_result:e},_init:gT}},$t.memo=function(e,t){return{$$typeof:cT,type:e,compare:t===void 0?null:t}},$t.startTransition=function(e){var t=ih.transition;ih.transition={};try{e()}finally{ih.transition=t}},$t.unstable_act=Ob,$t.useCallback=function(e,t){return ci.current.useCallback(e,t)},$t.useContext=function(e){return ci.current.useContext(e)},$t.useDebugValue=function(){},$t.useDeferredValue=function(e){return ci.current.useDeferredValue(e)},$t.useEffect=function(e,t){return ci.current.useEffect(e,t)},$t.useId=function(){return ci.current.useId()},$t.useImperativeHandle=function(e,t,n){return ci.current.useImperativeHandle(e,t,n)},$t.useInsertionEffect=function(e,t){return ci.current.useInsertionEffect(e,t)},$t.useLayoutEffect=function(e,t){return ci.current.useLayoutEffect(e,t)},$t.useMemo=function(e,t){return ci.current.useMemo(e,t)},$t.useReducer=function(e,t,n){return ci.current.useReducer(e,t,n)},$t.useRef=function(e){return ci.current.useRef(e)},$t.useState=function(e){return ci.current.useState(e)},$t.useSyncExternalStore=function(e,t,n){return ci.current.useSyncExternalStore(e,t,n)},$t.useTransition=function(){return ci.current.useTransition()},$t.version="18.3.1",bb.exports=$t;var H=bb.exports;const tr=Mn(H),Lb=mn({__proto__:null,default:tr},[H]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT=H,vT=Symbol.for("react.element"),AT=Symbol.for("react.fragment"),xT=Object.prototype.hasOwnProperty,bT=yT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wT={key:!0,ref:!0,__self:!0,__source:!0};function Pb(e,t,n){var r,i={},s=null,l=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)xT.call(t,r)&&!wT.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:vT,type:e,key:s,ref:l,props:i,_owner:bT.current}}ou.Fragment=AT,ou.jsx=Pb,ou.jsxs=Pb,nl.exports=ou;var T=nl.exports,Bm={},Fb={exports:{}},Qi={},Bb={exports:{}},Nb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(me,ae){var N=me.length;me.push(ae);e:for(;0<N;){var de=N-1>>>1,ve=me[de];if(0<i(ve,ae))me[de]=ae,me[N]=ve,N=de;else break e}}function n(me){return me.length===0?null:me[0]}function r(me){if(me.length===0)return null;var ae=me[0],N=me.pop();if(N!==ae){me[0]=N;e:for(var de=0,ve=me.length,G=ve>>>1;de<G;){var _e=2*(de+1)-1,Be=me[_e],Oe=_e+1,Ue=me[Oe];if(0>i(Be,N))Oe<ve&&0>i(Ue,Be)?(me[de]=Ue,me[Oe]=N,de=Oe):(me[de]=Be,me[_e]=N,de=_e);else if(Oe<ve&&0>i(Ue,N))me[de]=Ue,me[Oe]=N,de=Oe;else break e}}return ae}function i(me,ae){var N=me.sortIndex-ae.sortIndex;return N!==0?N:me.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var c=[],h=[],g=1,m=null,v=3,x=!1,w=!1,E=!1,R=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(me){for(var ae=n(h);ae!==null;){if(ae.callback===null)r(h);else if(ae.startTime<=me)r(h),ae.sortIndex=ae.expirationTime,t(c,ae);else break;ae=n(h)}}function P(me){if(E=!1,M(me),!w)if(n(c)!==null)w=!0,Re(W);else{var ae=n(h);ae!==null&&Te(P,ae.startTime-me)}}function W(me,ae){w=!1,E&&(E=!1,S($),$=-1),x=!0;var N=v;try{for(M(ae),m=n(c);m!==null&&(!(m.expirationTime>ae)||me&&!Y());){var de=m.callback;if(typeof de=="function"){m.callback=null,v=m.priorityLevel;var ve=de(m.expirationTime<=ae);ae=e.unstable_now(),typeof ve=="function"?m.callback=ve:m===n(c)&&r(c),M(ae)}else r(c);m=n(c)}if(m!==null)var G=!0;else{var _e=n(h);_e!==null&&Te(P,_e.startTime-ae),G=!1}return G}finally{m=null,v=N,x=!1}}var z=!1,Q=null,$=-1,se=5,F=-1;function Y(){return!(e.unstable_now()-F<se)}function re(){if(Q!==null){var me=e.unstable_now();F=me;var ae=!0;try{ae=Q(!0,me)}finally{ae?J():(z=!1,Q=null)}}else z=!1}var J;if(typeof k=="function")J=function(){k(re)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,B=V.port2;V.port1.onmessage=re,J=function(){B.postMessage(null)}}else J=function(){R(re,0)};function Re(me){Q=me,z||(z=!0,J())}function Te(me,ae){$=R(function(){me(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(me){me.callback=null},e.unstable_continueExecution=function(){w||x||(w=!0,Re(W))},e.unstable_forceFrameRate=function(me){0>me||125<me?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<me?Math.floor(1e3/me):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(me){switch(v){case 1:case 2:case 3:var ae=3;break;default:ae=v}var N=v;v=ae;try{return me()}finally{v=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(me,ae){switch(me){case 1:case 2:case 3:case 4:case 5:break;default:me=3}var N=v;v=me;try{return ae()}finally{v=N}},e.unstable_scheduleCallback=function(me,ae,N){var de=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?de+N:de):N=de,me){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=N+ve,me={id:g++,callback:ae,priorityLevel:me,startTime:N,expirationTime:ve,sortIndex:-1},N>de?(me.sortIndex=N,t(h,me),n(c)===null&&me===n(h)&&(E?(S($),$=-1):E=!0,Te(P,N-de))):(me.sortIndex=ve,t(c,me),w||x||(w=!0,Re(W))),me},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(me){var ae=v;return function(){var N=v;v=ae;try{return me.apply(this,arguments)}finally{v=N}}}})(Nb),Bb.exports=Nb;var ST=Bb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CT=H,$i=ST;function $e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _b=new Set,Hc={};function rl(e,t){au(e,t),au(e+"Capture",t)}function au(e,t){for(Hc[e]=t,e=0;e<t.length;e++)_b.add(t[e])}var vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nm=Object.prototype.hasOwnProperty,kT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jb={},zb={};function IT(e){return Nm.call(zb,e)?!0:Nm.call(jb,e)?!1:kT.test(e)?zb[e]=!0:(jb[e]=!0,!1)}function ET(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function DT(e,t,n,r){if(t===null||typeof t>"u"||ET(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fi(e,t,n,r,i,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var Ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ur[e]=new fi(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ur[t]=new fi(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ur[e]=new fi(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ur[e]=new fi(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ur[e]=new fi(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Ur[e]=new fi(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Ur[e]=new fi(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Ur[e]=new fi(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Ur[e]=new fi(e,5,!1,e.toLowerCase(),null,!1,!1)});var _m=/[\-:]([a-z])/g;function jm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_m,jm);Ur[t]=new fi(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_m,jm);Ur[t]=new fi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_m,jm);Ur[t]=new fi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Ur[e]=new fi(e,1,!1,e.toLowerCase(),null,!1,!1)}),Ur.xlinkHref=new fi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Ur[e]=new fi(e,1,!1,e.toLowerCase(),null,!0,!0)});function zm(e,t,n,r){var i=Ur.hasOwnProperty(t)?Ur[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(DT(t,n,i,r)&&(n=null),r||i===null?IT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var As=CT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oh=Symbol.for("react.element"),lu=Symbol.for("react.portal"),uu=Symbol.for("react.fragment"),Hm=Symbol.for("react.strict_mode"),Um=Symbol.for("react.profiler"),Hb=Symbol.for("react.provider"),Ub=Symbol.for("react.context"),Wm=Symbol.for("react.forward_ref"),Km=Symbol.for("react.suspense"),Qm=Symbol.for("react.suspense_list"),$m=Symbol.for("react.memo"),ta=Symbol.for("react.lazy"),Wb=Symbol.for("react.offscreen"),Kb=Symbol.iterator;function Uc(e){return e===null||typeof e!="object"?null:(e=Kb&&e[Kb]||e["@@iterator"],typeof e=="function"?e:null)}var jn=Object.assign,Gm;function Wc(e){if(Gm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gm=t&&t[1]||""}return`
`+Gm+e}var Vm=!1;function Ym(e,t){if(!e||Vm)return"";Vm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),l=i.length-1,u=s.length-1;1<=l&&0<=u&&i[l]!==s[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==s[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==s[u]){var c=`
`+i[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=u);break}}}finally{Vm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Wc(e):""}function MT(e){switch(e.tag){case 5:return Wc(e.type);case 16:return Wc("Lazy");case 13:return Wc("Suspense");case 19:return Wc("SuspenseList");case 0:case 2:case 15:return e=Ym(e.type,!1),e;case 11:return e=Ym(e.type.render,!1),e;case 1:return e=Ym(e.type,!0),e;default:return""}}function Jm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case uu:return"Fragment";case lu:return"Portal";case Um:return"Profiler";case Hm:return"StrictMode";case Km:return"Suspense";case Qm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ub:return(e.displayName||"Context")+".Consumer";case Hb:return(e._context.displayName||"Context")+".Provider";case Wm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $m:return t=e.displayName||null,t!==null?t:Jm(e.type)||"Memo";case ta:t=e._payload,e=e._init;try{return Jm(e(t))}catch{}}return null}function RT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jm(t);case 8:return t===Hm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function na(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function TT(e){var t=Qb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sh(e){e._valueTracker||(e._valueTracker=TT(e))}function $b(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Qb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ah(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qm(e,t){var n=t.checked;return jn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Gb(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=na(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vb(e,t){t=t.checked,t!=null&&zm(e,"checked",t,!1)}function Zm(e,t){Vb(e,t);var n=na(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xm(e,t.type,na(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yb(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xm(e,t,n){(t!=="number"||ah(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Kc=Array.isArray;function cu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+na(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ey(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($e(91));return jn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jb(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($e(92));if(Kc(n)){if(1<n.length)throw Error($e(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:na(n)}}function qb(e,t){var n=na(t.value),r=na(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Zb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ty(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var lh,e1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(lh=lh||document.createElement("div"),lh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=lh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $c={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OT=["Webkit","ms","Moz","O"];Object.keys($c).forEach(function(e){OT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$c[t]=$c[e]})});function t1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||$c.hasOwnProperty(e)&&$c[e]?(""+t).trim():t+"px"}function n1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=t1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var LT=jn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ny(e,t){if(t){if(LT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($e(61))}if(t.style!=null&&typeof t.style!="object")throw Error($e(62))}}function ry(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iy=null;function oy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sy=null,fu=null,du=null;function r1(e){if(e=gf(e)){if(typeof sy!="function")throw Error($e(280));var t=e.stateNode;t&&(t=Th(t),sy(e.stateNode,e.type,t))}}function i1(e){fu?du?du.push(e):du=[e]:fu=e}function o1(){if(fu){var e=fu,t=du;if(du=fu=null,r1(e),t)for(e=0;e<t.length;e++)r1(t[e])}}function s1(e,t){return e(t)}function a1(){}var ay=!1;function l1(e,t,n){if(ay)return e(t,n);ay=!0;try{return s1(e,t,n)}finally{ay=!1,(fu!==null||du!==null)&&(a1(),o1())}}function Gc(e,t){var n=e.stateNode;if(n===null)return null;var r=Th(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($e(231,t,typeof n));return n}var ly=!1;if(vs)try{var Vc={};Object.defineProperty(Vc,"passive",{get:function(){ly=!0}}),window.addEventListener("test",Vc,Vc),window.removeEventListener("test",Vc,Vc)}catch{ly=!1}function PT(e,t,n,r,i,s,l,u,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(g){this.onError(g)}}var Yc=!1,uh=null,ch=!1,uy=null,FT={onError:function(e){Yc=!0,uh=e}};function BT(e,t,n,r,i,s,l,u,c){Yc=!1,uh=null,PT.apply(FT,arguments)}function NT(e,t,n,r,i,s,l,u,c){if(BT.apply(this,arguments),Yc){if(Yc){var h=uh;Yc=!1,uh=null}else throw Error($e(198));ch||(ch=!0,uy=h)}}function il(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function u1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c1(e){if(il(e)!==e)throw Error($e(188))}function _T(e){var t=e.alternate;if(!t){if(t=il(e),t===null)throw Error($e(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return c1(i),e;if(s===r)return c1(i),t;s=s.sibling}throw Error($e(188))}if(n.return!==r.return)n=i,r=s;else{for(var l=!1,u=i.child;u;){if(u===n){l=!0,n=i,r=s;break}if(u===r){l=!0,r=i,n=s;break}u=u.sibling}if(!l){for(u=s.child;u;){if(u===n){l=!0,n=s,r=i;break}if(u===r){l=!0,r=s,n=i;break}u=u.sibling}if(!l)throw Error($e(189))}}if(n.alternate!==r)throw Error($e(190))}if(n.tag!==3)throw Error($e(188));return n.stateNode.current===n?e:t}function f1(e){return e=_T(e),e!==null?d1(e):null}function d1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=d1(e);if(t!==null)return t;e=e.sibling}return null}var h1=$i.unstable_scheduleCallback,p1=$i.unstable_cancelCallback,jT=$i.unstable_shouldYield,zT=$i.unstable_requestPaint,nr=$i.unstable_now,HT=$i.unstable_getCurrentPriorityLevel,cy=$i.unstable_ImmediatePriority,g1=$i.unstable_UserBlockingPriority,fh=$i.unstable_NormalPriority,UT=$i.unstable_LowPriority,m1=$i.unstable_IdlePriority,dh=null,Ho=null;function WT(e){if(Ho&&typeof Ho.onCommitFiberRoot=="function")try{Ho.onCommitFiberRoot(dh,e,void 0,(e.current.flags&128)===128)}catch{}}var ko=Math.clz32?Math.clz32:$T,KT=Math.log,QT=Math.LN2;function $T(e){return e>>>=0,e===0?32:31-(KT(e)/QT|0)|0}var hh=64,ph=4194304;function Jc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~i;u!==0?r=Jc(u):(s&=l,s!==0&&(r=Jc(s)))}else l=n&~i,l!==0?r=Jc(l):s!==0&&(r=Jc(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ko(t),i=1<<n,r|=e[n],t&=~i;return r}function GT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-ko(s),u=1<<l,c=i[l];c===-1?(!(u&n)||u&r)&&(i[l]=GT(u,t)):c<=t&&(e.expiredLanes|=u),s&=~u}}function fy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function y1(){var e=hh;return hh<<=1,!(hh&4194240)&&(hh=64),e}function dy(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ko(t),e[t]=n}function YT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ko(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function hy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ko(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var dn=0;function v1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var A1,py,x1,b1,w1,gy=!1,mh=[],ra=null,ia=null,oa=null,Zc=new Map,Xc=new Map,sa=[],JT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S1(e,t){switch(e){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":Zc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xc.delete(t.pointerId)}}function ef(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=gf(t),t!==null&&py(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function qT(e,t,n,r,i){switch(t){case"focusin":return ra=ef(ra,e,t,n,r,i),!0;case"dragenter":return ia=ef(ia,e,t,n,r,i),!0;case"mouseover":return oa=ef(oa,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Zc.set(s,ef(Zc.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Xc.set(s,ef(Xc.get(s)||null,e,t,n,r,i)),!0}return!1}function C1(e){var t=ol(e.target);if(t!==null){var n=il(t);if(n!==null){if(t=n.tag,t===13){if(t=u1(n),t!==null){e.blockedOn=t,w1(e.priority,function(){x1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);iy=r,n.target.dispatchEvent(r),iy=null}else return t=gf(n),t!==null&&py(t),e.blockedOn=n,!1;t.shift()}return!0}function k1(e,t,n){yh(e)&&n.delete(t)}function ZT(){gy=!1,ra!==null&&yh(ra)&&(ra=null),ia!==null&&yh(ia)&&(ia=null),oa!==null&&yh(oa)&&(oa=null),Zc.forEach(k1),Xc.forEach(k1)}function tf(e,t){e.blockedOn===t&&(e.blockedOn=null,gy||(gy=!0,$i.unstable_scheduleCallback($i.unstable_NormalPriority,ZT)))}function nf(e){function t(i){return tf(i,e)}if(0<mh.length){tf(mh[0],e);for(var n=1;n<mh.length;n++){var r=mh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ra!==null&&tf(ra,e),ia!==null&&tf(ia,e),oa!==null&&tf(oa,e),Zc.forEach(t),Xc.forEach(t),n=0;n<sa.length;n++)r=sa[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<sa.length&&(n=sa[0],n.blockedOn===null);)C1(n),n.blockedOn===null&&sa.shift()}var hu=As.ReactCurrentBatchConfig,vh=!0;function XT(e,t,n,r){var i=dn,s=hu.transition;hu.transition=null;try{dn=1,my(e,t,n,r)}finally{dn=i,hu.transition=s}}function eO(e,t,n,r){var i=dn,s=hu.transition;hu.transition=null;try{dn=4,my(e,t,n,r)}finally{dn=i,hu.transition=s}}function my(e,t,n,r){if(vh){var i=yy(e,t,n,r);if(i===null)Py(e,t,r,Ah,n),S1(e,r);else if(qT(i,e,t,n,r))r.stopPropagation();else if(S1(e,r),t&4&&-1<JT.indexOf(e)){for(;i!==null;){var s=gf(i);if(s!==null&&A1(s),s=yy(e,t,n,r),s===null&&Py(e,t,r,Ah,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Py(e,t,r,null,n)}}var Ah=null;function yy(e,t,n,r){if(Ah=null,e=oy(r),e=ol(e),e!==null)if(t=il(e),t===null)e=null;else if(n=t.tag,n===13){if(e=u1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ah=e,null}function I1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HT()){case cy:return 1;case g1:return 4;case fh:case UT:return 16;case m1:return 536870912;default:return 16}default:return 16}}var aa=null,vy=null,xh=null;function E1(){if(xh)return xh;var e,t=vy,n=t.length,r,i="value"in aa?aa.value:aa.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===i[s-r];r++);return xh=i.slice(e,1<r?1-r:void 0)}function bh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wh(){return!0}function D1(){return!1}function Gi(e){function t(n,r,i,s,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wh:D1,this.isPropagationStopped=D1,this}return jn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wh)},persist:function(){},isPersistent:wh}),t}var pu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ay=Gi(pu),rf=jn({},pu,{view:0,detail:0}),tO=Gi(rf),xy,by,of,Sh=jn({},rf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==of&&(of&&e.type==="mousemove"?(xy=e.screenX-of.screenX,by=e.screenY-of.screenY):by=xy=0,of=e),xy)},movementY:function(e){return"movementY"in e?e.movementY:by}}),M1=Gi(Sh),nO=jn({},Sh,{dataTransfer:0}),rO=Gi(nO),iO=jn({},rf,{relatedTarget:0}),wy=Gi(iO),oO=jn({},pu,{animationName:0,elapsedTime:0,pseudoElement:0}),sO=Gi(oO),aO=jn({},pu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lO=Gi(aO),uO=jn({},pu,{data:0}),R1=Gi(uO),cO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dO[e])?!!t[e]:!1}function Sy(){return hO}var pO=jn({},rf,{key:function(e){if(e.key){var t=cO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sy,charCode:function(e){return e.type==="keypress"?bh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gO=Gi(pO),mO=jn({},Sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T1=Gi(mO),yO=jn({},rf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sy}),vO=Gi(yO),AO=jn({},pu,{propertyName:0,elapsedTime:0,pseudoElement:0}),xO=Gi(AO),bO=jn({},Sh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wO=Gi(bO),SO=[9,13,27,32],Cy=vs&&"CompositionEvent"in window,sf=null;vs&&"documentMode"in document&&(sf=document.documentMode);var CO=vs&&"TextEvent"in window&&!sf,O1=vs&&(!Cy||sf&&8<sf&&11>=sf),L1=" ",P1=!1;function F1(e,t){switch(e){case"keyup":return SO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gu=!1;function kO(e,t){switch(e){case"compositionend":return B1(t);case"keypress":return t.which!==32?null:(P1=!0,L1);case"textInput":return e=t.data,e===L1&&P1?null:e;default:return null}}function IO(e,t){if(gu)return e==="compositionend"||!Cy&&F1(e,t)?(e=E1(),xh=vy=aa=null,gu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return O1&&t.locale!=="ko"?null:t.data;default:return null}}var EO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!EO[e.type]:t==="textarea"}function _1(e,t,n,r){i1(r),t=Dh(t,"onChange"),0<t.length&&(n=new Ay("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var af=null,lf=null;function DO(e){nw(e,0)}function Ch(e){var t=xu(e);if($b(t))return e}function MO(e,t){if(e==="change")return t}var j1=!1;if(vs){var ky;if(vs){var Iy="oninput"in document;if(!Iy){var z1=document.createElement("div");z1.setAttribute("oninput","return;"),Iy=typeof z1.oninput=="function"}ky=Iy}else ky=!1;j1=ky&&(!document.documentMode||9<document.documentMode)}function H1(){af&&(af.detachEvent("onpropertychange",U1),lf=af=null)}function U1(e){if(e.propertyName==="value"&&Ch(lf)){var t=[];_1(t,lf,e,oy(e)),l1(DO,t)}}function RO(e,t,n){e==="focusin"?(H1(),af=t,lf=n,af.attachEvent("onpropertychange",U1)):e==="focusout"&&H1()}function TO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ch(lf)}function OO(e,t){if(e==="click")return Ch(t)}function LO(e,t){if(e==="input"||e==="change")return Ch(t)}function PO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Io=typeof Object.is=="function"?Object.is:PO;function uf(e,t){if(Io(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Nm.call(t,i)||!Io(e[i],t[i]))return!1}return!0}function W1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function K1(e,t){var n=W1(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=W1(n)}}function Q1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Q1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $1(){for(var e=window,t=ah();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ah(e.document)}return t}function Ey(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function FO(e){var t=$1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Q1(n.ownerDocument.documentElement,n)){if(r!==null&&Ey(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=K1(n,s);var l=K1(n,r);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var BO=vs&&"documentMode"in document&&11>=document.documentMode,mu=null,Dy=null,cf=null,My=!1;function G1(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;My||mu==null||mu!==ah(r)||(r=mu,"selectionStart"in r&&Ey(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cf&&uf(cf,r)||(cf=r,r=Dh(Dy,"onSelect"),0<r.length&&(t=new Ay("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mu)))}function kh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yu={animationend:kh("Animation","AnimationEnd"),animationiteration:kh("Animation","AnimationIteration"),animationstart:kh("Animation","AnimationStart"),transitionend:kh("Transition","TransitionEnd")},Ry={},V1={};vs&&(V1=document.createElement("div").style,"AnimationEvent"in window||(delete yu.animationend.animation,delete yu.animationiteration.animation,delete yu.animationstart.animation),"TransitionEvent"in window||delete yu.transitionend.transition);function Ih(e){if(Ry[e])return Ry[e];if(!yu[e])return e;var t=yu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in V1)return Ry[e]=t[n];return e}var Y1=Ih("animationend"),J1=Ih("animationiteration"),q1=Ih("animationstart"),Z1=Ih("transitionend"),X1=new Map,ew="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function la(e,t){X1.set(e,t),rl(t,[e])}for(var Ty=0;Ty<ew.length;Ty++){var Oy=ew[Ty],NO=Oy.toLowerCase(),_O=Oy[0].toUpperCase()+Oy.slice(1);la(NO,"on"+_O)}la(Y1,"onAnimationEnd"),la(J1,"onAnimationIteration"),la(q1,"onAnimationStart"),la("dblclick","onDoubleClick"),la("focusin","onFocus"),la("focusout","onBlur"),la(Z1,"onTransitionEnd"),au("onMouseEnter",["mouseout","mouseover"]),au("onMouseLeave",["mouseout","mouseover"]),au("onPointerEnter",["pointerout","pointerover"]),au("onPointerLeave",["pointerout","pointerover"]),rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rl("onBeforeInput",["compositionend","keypress","textInput","paste"]),rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ff="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jO=new Set("cancel close invalid load scroll toggle".split(" ").concat(ff));function tw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,NT(r,t,void 0,e),e.currentTarget=null}function nw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var u=r[l],c=u.instance,h=u.currentTarget;if(u=u.listener,c!==s&&i.isPropagationStopped())break e;tw(i,u,h),s=c}else for(l=0;l<r.length;l++){if(u=r[l],c=u.instance,h=u.currentTarget,u=u.listener,c!==s&&i.isPropagationStopped())break e;tw(i,u,h),s=c}}}if(ch)throw e=uy,ch=!1,uy=null,e}function Rn(e,t){var n=t[zy];n===void 0&&(n=t[zy]=new Set);var r=e+"__bubble";n.has(r)||(rw(t,e,2,!1),n.add(r))}function Ly(e,t,n){var r=0;t&&(r|=4),rw(n,e,r,t)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function df(e){if(!e[Eh]){e[Eh]=!0,_b.forEach(function(n){n!=="selectionchange"&&(jO.has(n)||Ly(n,!1,e),Ly(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Eh]||(t[Eh]=!0,Ly("selectionchange",!1,t))}}function rw(e,t,n,r){switch(I1(t)){case 1:var i=XT;break;case 4:i=eO;break;default:i=my}n=i.bind(null,t,n,e),i=void 0,!ly||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Py(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;u!==null;){if(l=ol(u),l===null)return;if(c=l.tag,c===5||c===6){r=s=l;continue e}u=u.parentNode}}r=r.return}l1(function(){var h=s,g=oy(n),m=[];e:{var v=X1.get(e);if(v!==void 0){var x=Ay,w=e;switch(e){case"keypress":if(bh(n)===0)break e;case"keydown":case"keyup":x=gO;break;case"focusin":w="focus",x=wy;break;case"focusout":w="blur",x=wy;break;case"beforeblur":case"afterblur":x=wy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=M1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=rO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=vO;break;case Y1:case J1:case q1:x=sO;break;case Z1:x=xO;break;case"scroll":x=tO;break;case"wheel":x=wO;break;case"copy":case"cut":case"paste":x=lO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=T1}var E=(t&4)!==0,R=!E&&e==="scroll",S=E?v!==null?v+"Capture":null:v;E=[];for(var k=h,M;k!==null;){M=k;var P=M.stateNode;if(M.tag===5&&P!==null&&(M=P,S!==null&&(P=Gc(k,S),P!=null&&E.push(hf(k,P,M)))),R)break;k=k.return}0<E.length&&(v=new x(v,w,null,n,g),m.push({event:v,listeners:E}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",v&&n!==iy&&(w=n.relatedTarget||n.fromElement)&&(ol(w)||w[xs]))break e;if((x||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,x?(w=n.relatedTarget||n.toElement,x=h,w=w?ol(w):null,w!==null&&(R=il(w),w!==R||w.tag!==5&&w.tag!==6)&&(w=null)):(x=null,w=h),x!==w)){if(E=M1,P="onMouseLeave",S="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(E=T1,P="onPointerLeave",S="onPointerEnter",k="pointer"),R=x==null?v:xu(x),M=w==null?v:xu(w),v=new E(P,k+"leave",x,n,g),v.target=R,v.relatedTarget=M,P=null,ol(g)===h&&(E=new E(S,k+"enter",w,n,g),E.target=M,E.relatedTarget=R,P=E),R=P,x&&w)t:{for(E=x,S=w,k=0,M=E;M;M=vu(M))k++;for(M=0,P=S;P;P=vu(P))M++;for(;0<k-M;)E=vu(E),k--;for(;0<M-k;)S=vu(S),M--;for(;k--;){if(E===S||S!==null&&E===S.alternate)break t;E=vu(E),S=vu(S)}E=null}else E=null;x!==null&&iw(m,v,x,E,!1),w!==null&&R!==null&&iw(m,R,w,E,!0)}}e:{if(v=h?xu(h):window,x=v.nodeName&&v.nodeName.toLowerCase(),x==="select"||x==="input"&&v.type==="file")var W=MO;else if(N1(v))if(j1)W=LO;else{W=TO;var z=RO}else(x=v.nodeName)&&x.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(W=OO);if(W&&(W=W(e,h))){_1(m,W,n,g);break e}z&&z(e,v,h),e==="focusout"&&(z=v._wrapperState)&&z.controlled&&v.type==="number"&&Xm(v,"number",v.value)}switch(z=h?xu(h):window,e){case"focusin":(N1(z)||z.contentEditable==="true")&&(mu=z,Dy=h,cf=null);break;case"focusout":cf=Dy=mu=null;break;case"mousedown":My=!0;break;case"contextmenu":case"mouseup":case"dragend":My=!1,G1(m,n,g);break;case"selectionchange":if(BO)break;case"keydown":case"keyup":G1(m,n,g)}var Q;if(Cy)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else gu?F1(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(O1&&n.locale!=="ko"&&(gu||$!=="onCompositionStart"?$==="onCompositionEnd"&&gu&&(Q=E1()):(aa=g,vy="value"in aa?aa.value:aa.textContent,gu=!0)),z=Dh(h,$),0<z.length&&($=new R1($,e,null,n,g),m.push({event:$,listeners:z}),Q?$.data=Q:(Q=B1(n),Q!==null&&($.data=Q)))),(Q=CO?kO(e,n):IO(e,n))&&(h=Dh(h,"onBeforeInput"),0<h.length&&(g=new R1("onBeforeInput","beforeinput",null,n,g),m.push({event:g,listeners:h}),g.data=Q))}nw(m,t)})}function hf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dh(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Gc(e,n),s!=null&&r.unshift(hf(e,s,i)),s=Gc(e,t),s!=null&&r.push(hf(e,s,i))),e=e.return}return r}function vu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function iw(e,t,n,r,i){for(var s=t._reactName,l=[];n!==null&&n!==r;){var u=n,c=u.alternate,h=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&h!==null&&(u=h,i?(c=Gc(n,s),c!=null&&l.unshift(hf(n,c,u))):i||(c=Gc(n,s),c!=null&&l.push(hf(n,c,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var zO=/\r\n?/g,HO=/\u0000|\uFFFD/g;function ow(e){return(typeof e=="string"?e:""+e).replace(zO,`
`).replace(HO,"")}function Mh(e,t,n){if(t=ow(t),ow(e)!==t&&n)throw Error($e(425))}function Rh(){}var Fy=null,By=null;function Ny(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _y=typeof setTimeout=="function"?setTimeout:void 0,UO=typeof clearTimeout=="function"?clearTimeout:void 0,sw=typeof Promise=="function"?Promise:void 0,WO=typeof queueMicrotask=="function"?queueMicrotask:typeof sw<"u"?function(e){return sw.resolve(null).then(e).catch(KO)}:_y;function KO(e){setTimeout(function(){throw e})}function jy(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),nf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);nf(t)}function ua(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function aw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Au=Math.random().toString(36).slice(2),Uo="__reactFiber$"+Au,pf="__reactProps$"+Au,xs="__reactContainer$"+Au,zy="__reactEvents$"+Au,QO="__reactListeners$"+Au,$O="__reactHandles$"+Au;function ol(e){var t=e[Uo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xs]||n[Uo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=aw(e);e!==null;){if(n=e[Uo])return n;e=aw(e)}return t}e=n,n=e.parentNode}return null}function gf(e){return e=e[Uo]||e[xs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($e(33))}function Th(e){return e[pf]||null}var Hy=[],bu=-1;function ca(e){return{current:e}}function Tn(e){0>bu||(e.current=Hy[bu],Hy[bu]=null,bu--)}function kn(e,t){bu++,Hy[bu]=e.current,e.current=t}var fa={},Jr=ca(fa),Ei=ca(!1),sl=fa;function wu(e,t){var n=e.type.contextTypes;if(!n)return fa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Di(e){return e=e.childContextTypes,e!=null}function Oh(){Tn(Ei),Tn(Jr)}function lw(e,t,n){if(Jr.current!==fa)throw Error($e(168));kn(Jr,t),kn(Ei,n)}function uw(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error($e(108,RT(e)||"Unknown",i));return jn({},n,r)}function Lh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fa,sl=Jr.current,kn(Jr,e),kn(Ei,Ei.current),!0}function cw(e,t,n){var r=e.stateNode;if(!r)throw Error($e(169));n?(e=uw(e,t,sl),r.__reactInternalMemoizedMergedChildContext=e,Tn(Ei),Tn(Jr),kn(Jr,e)):Tn(Ei),kn(Ei,n)}var bs=null,Ph=!1,Uy=!1;function fw(e){bs===null?bs=[e]:bs.push(e)}function GO(e){Ph=!0,fw(e)}function da(){if(!Uy&&bs!==null){Uy=!0;var e=0,t=dn;try{var n=bs;for(dn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}bs=null,Ph=!1}catch(i){throw bs!==null&&(bs=bs.slice(e+1)),h1(cy,da),i}finally{dn=t,Uy=!1}}return null}var Su=[],Cu=0,Fh=null,Bh=0,co=[],fo=0,al=null,ws=1,Ss="";function ll(e,t){Su[Cu++]=Bh,Su[Cu++]=Fh,Fh=e,Bh=t}function dw(e,t,n){co[fo++]=ws,co[fo++]=Ss,co[fo++]=al,al=e;var r=ws;e=Ss;var i=32-ko(r)-1;r&=~(1<<i),n+=1;var s=32-ko(t)+i;if(30<s){var l=i-i%5;s=(r&(1<<l)-1).toString(32),r>>=l,i-=l,ws=1<<32-ko(t)+i|n<<i|r,Ss=s+e}else ws=1<<s|n<<i|r,Ss=e}function Wy(e){e.return!==null&&(ll(e,1),dw(e,1,0))}function Ky(e){for(;e===Fh;)Fh=Su[--Cu],Su[Cu]=null,Bh=Su[--Cu],Su[Cu]=null;for(;e===al;)al=co[--fo],co[fo]=null,Ss=co[--fo],co[fo]=null,ws=co[--fo],co[fo]=null}var Vi=null,Yi=null,Fn=!1,Eo=null;function hw(e,t){var n=mo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function pw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vi=e,Yi=ua(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vi=e,Yi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=al!==null?{id:ws,overflow:Ss}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mo(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Vi=e,Yi=null,!0):!1;default:return!1}}function Qy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $y(e){if(Fn){var t=Yi;if(t){var n=t;if(!pw(e,t)){if(Qy(e))throw Error($e(418));t=ua(n.nextSibling);var r=Vi;t&&pw(e,t)?hw(r,n):(e.flags=e.flags&-4097|2,Fn=!1,Vi=e)}}else{if(Qy(e))throw Error($e(418));e.flags=e.flags&-4097|2,Fn=!1,Vi=e}}}function gw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vi=e}function Nh(e){if(e!==Vi)return!1;if(!Fn)return gw(e),Fn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ny(e.type,e.memoizedProps)),t&&(t=Yi)){if(Qy(e))throw mw(),Error($e(418));for(;t;)hw(e,t),t=ua(t.nextSibling)}if(gw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Yi=ua(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Yi=null}}else Yi=Vi?ua(e.stateNode.nextSibling):null;return!0}function mw(){for(var e=Yi;e;)e=ua(e.nextSibling)}function ku(){Yi=Vi=null,Fn=!1}function Gy(e){Eo===null?Eo=[e]:Eo.push(e)}var VO=As.ReactCurrentBatchConfig;function mf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($e(309));var r=n.stateNode}if(!r)throw Error($e(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var u=i.refs;l===null?delete u[s]:u[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error($e(284));if(!n._owner)throw Error($e(290,e))}return e}function _h(e,t){throw e=Object.prototype.toString.call(t),Error($e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yw(e){var t=e._init;return t(e._payload)}function vw(e){function t(S,k){if(e){var M=S.deletions;M===null?(S.deletions=[k],S.flags|=16):M.push(k)}}function n(S,k){if(!e)return null;for(;k!==null;)t(S,k),k=k.sibling;return null}function r(S,k){for(S=new Map;k!==null;)k.key!==null?S.set(k.key,k):S.set(k.index,k),k=k.sibling;return S}function i(S,k){return S=xa(S,k),S.index=0,S.sibling=null,S}function s(S,k,M){return S.index=M,e?(M=S.alternate,M!==null?(M=M.index,M<k?(S.flags|=2,k):M):(S.flags|=2,k)):(S.flags|=1048576,k)}function l(S){return e&&S.alternate===null&&(S.flags|=2),S}function u(S,k,M,P){return k===null||k.tag!==6?(k=_v(M,S.mode,P),k.return=S,k):(k=i(k,M),k.return=S,k)}function c(S,k,M,P){var W=M.type;return W===uu?g(S,k,M.props.children,P,M.key):k!==null&&(k.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ta&&yw(W)===k.type)?(P=i(k,M.props),P.ref=mf(S,k,M),P.return=S,P):(P=lp(M.type,M.key,M.props,null,S.mode,P),P.ref=mf(S,k,M),P.return=S,P)}function h(S,k,M,P){return k===null||k.tag!==4||k.stateNode.containerInfo!==M.containerInfo||k.stateNode.implementation!==M.implementation?(k=jv(M,S.mode,P),k.return=S,k):(k=i(k,M.children||[]),k.return=S,k)}function g(S,k,M,P,W){return k===null||k.tag!==7?(k=ml(M,S.mode,P,W),k.return=S,k):(k=i(k,M),k.return=S,k)}function m(S,k,M){if(typeof k=="string"&&k!==""||typeof k=="number")return k=_v(""+k,S.mode,M),k.return=S,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case oh:return M=lp(k.type,k.key,k.props,null,S.mode,M),M.ref=mf(S,null,k),M.return=S,M;case lu:return k=jv(k,S.mode,M),k.return=S,k;case ta:var P=k._init;return m(S,P(k._payload),M)}if(Kc(k)||Uc(k))return k=ml(k,S.mode,M,null),k.return=S,k;_h(S,k)}return null}function v(S,k,M,P){var W=k!==null?k.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return W!==null?null:u(S,k,""+M,P);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case oh:return M.key===W?c(S,k,M,P):null;case lu:return M.key===W?h(S,k,M,P):null;case ta:return W=M._init,v(S,k,W(M._payload),P)}if(Kc(M)||Uc(M))return W!==null?null:g(S,k,M,P,null);_h(S,M)}return null}function x(S,k,M,P,W){if(typeof P=="string"&&P!==""||typeof P=="number")return S=S.get(M)||null,u(k,S,""+P,W);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case oh:return S=S.get(P.key===null?M:P.key)||null,c(k,S,P,W);case lu:return S=S.get(P.key===null?M:P.key)||null,h(k,S,P,W);case ta:var z=P._init;return x(S,k,M,z(P._payload),W)}if(Kc(P)||Uc(P))return S=S.get(M)||null,g(k,S,P,W,null);_h(k,P)}return null}function w(S,k,M,P){for(var W=null,z=null,Q=k,$=k=0,se=null;Q!==null&&$<M.length;$++){Q.index>$?(se=Q,Q=null):se=Q.sibling;var F=v(S,Q,M[$],P);if(F===null){Q===null&&(Q=se);break}e&&Q&&F.alternate===null&&t(S,Q),k=s(F,k,$),z===null?W=F:z.sibling=F,z=F,Q=se}if($===M.length)return n(S,Q),Fn&&ll(S,$),W;if(Q===null){for(;$<M.length;$++)Q=m(S,M[$],P),Q!==null&&(k=s(Q,k,$),z===null?W=Q:z.sibling=Q,z=Q);return Fn&&ll(S,$),W}for(Q=r(S,Q);$<M.length;$++)se=x(Q,S,$,M[$],P),se!==null&&(e&&se.alternate!==null&&Q.delete(se.key===null?$:se.key),k=s(se,k,$),z===null?W=se:z.sibling=se,z=se);return e&&Q.forEach(function(Y){return t(S,Y)}),Fn&&ll(S,$),W}function E(S,k,M,P){var W=Uc(M);if(typeof W!="function")throw Error($e(150));if(M=W.call(M),M==null)throw Error($e(151));for(var z=W=null,Q=k,$=k=0,se=null,F=M.next();Q!==null&&!F.done;$++,F=M.next()){Q.index>$?(se=Q,Q=null):se=Q.sibling;var Y=v(S,Q,F.value,P);if(Y===null){Q===null&&(Q=se);break}e&&Q&&Y.alternate===null&&t(S,Q),k=s(Y,k,$),z===null?W=Y:z.sibling=Y,z=Y,Q=se}if(F.done)return n(S,Q),Fn&&ll(S,$),W;if(Q===null){for(;!F.done;$++,F=M.next())F=m(S,F.value,P),F!==null&&(k=s(F,k,$),z===null?W=F:z.sibling=F,z=F);return Fn&&ll(S,$),W}for(Q=r(S,Q);!F.done;$++,F=M.next())F=x(Q,S,$,F.value,P),F!==null&&(e&&F.alternate!==null&&Q.delete(F.key===null?$:F.key),k=s(F,k,$),z===null?W=F:z.sibling=F,z=F);return e&&Q.forEach(function(re){return t(S,re)}),Fn&&ll(S,$),W}function R(S,k,M,P){if(typeof M=="object"&&M!==null&&M.type===uu&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case oh:e:{for(var W=M.key,z=k;z!==null;){if(z.key===W){if(W=M.type,W===uu){if(z.tag===7){n(S,z.sibling),k=i(z,M.props.children),k.return=S,S=k;break e}}else if(z.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ta&&yw(W)===z.type){n(S,z.sibling),k=i(z,M.props),k.ref=mf(S,z,M),k.return=S,S=k;break e}n(S,z);break}else t(S,z);z=z.sibling}M.type===uu?(k=ml(M.props.children,S.mode,P,M.key),k.return=S,S=k):(P=lp(M.type,M.key,M.props,null,S.mode,P),P.ref=mf(S,k,M),P.return=S,S=P)}return l(S);case lu:e:{for(z=M.key;k!==null;){if(k.key===z)if(k.tag===4&&k.stateNode.containerInfo===M.containerInfo&&k.stateNode.implementation===M.implementation){n(S,k.sibling),k=i(k,M.children||[]),k.return=S,S=k;break e}else{n(S,k);break}else t(S,k);k=k.sibling}k=jv(M,S.mode,P),k.return=S,S=k}return l(S);case ta:return z=M._init,R(S,k,z(M._payload),P)}if(Kc(M))return w(S,k,M,P);if(Uc(M))return E(S,k,M,P);_h(S,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,k!==null&&k.tag===6?(n(S,k.sibling),k=i(k,M),k.return=S,S=k):(n(S,k),k=_v(M,S.mode,P),k.return=S,S=k),l(S)):n(S,k)}return R}var Iu=vw(!0),Aw=vw(!1),jh=ca(null),zh=null,Eu=null,Vy=null;function Yy(){Vy=Eu=zh=null}function Jy(e){var t=jh.current;Tn(jh),e._currentValue=t}function qy(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Du(e,t){zh=e,Vy=Eu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Mi=!0),e.firstContext=null)}function ho(e){var t=e._currentValue;if(Vy!==e)if(e={context:e,memoizedValue:t,next:null},Eu===null){if(zh===null)throw Error($e(308));Eu=e,zh.dependencies={lanes:0,firstContext:e}}else Eu=Eu.next=e;return t}var ul=null;function Zy(e){ul===null?ul=[e]:ul.push(e)}function xw(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Zy(t)):(n.next=i.next,i.next=n),t.interleaved=n,Cs(e,r)}function Cs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ha=!1;function Xy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ks(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,tn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Cs(e,n)}return i=r.interleaved,i===null?(t.next=t,Zy(r)):(t.next=i.next,i.next=t),r.interleaved=t,Cs(e,n)}function Hh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hy(e,n)}}function ww(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Uh(e,t,n,r){var i=e.updateQueue;ha=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,h=c.next;c.next=null,l===null?s=h:l.next=h,l=c;var g=e.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==l&&(u===null?g.firstBaseUpdate=h:u.next=h,g.lastBaseUpdate=c))}if(s!==null){var m=i.baseState;l=0,g=h=c=null,u=s;do{var v=u.lane,x=u.eventTime;if((r&v)===v){g!==null&&(g=g.next={eventTime:x,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var w=e,E=u;switch(v=t,x=n,E.tag){case 1:if(w=E.payload,typeof w=="function"){m=w.call(x,m,v);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=E.payload,v=typeof w=="function"?w.call(x,m,v):w,v==null)break e;m=jn({},m,v);break e;case 2:ha=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,v=i.effects,v===null?i.effects=[u]:v.push(u))}else x={eventTime:x,lane:v,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(h=g=x,c=m):g=g.next=x,l|=v;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;v=u,u=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(g===null&&(c=m),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=g,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);dl|=l,e.lanes=l,e.memoizedState=m}}function Sw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($e(191,i));i.call(r)}}}var yf={},Wo=ca(yf),vf=ca(yf),Af=ca(yf);function cl(e){if(e===yf)throw Error($e(174));return e}function ev(e,t){switch(kn(Af,t),kn(vf,e),kn(Wo,yf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ty(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ty(t,e)}Tn(Wo),kn(Wo,t)}function Mu(){Tn(Wo),Tn(vf),Tn(Af)}function Cw(e){cl(Af.current);var t=cl(Wo.current),n=ty(t,e.type);t!==n&&(kn(vf,e),kn(Wo,n))}function tv(e){vf.current===e&&(Tn(Wo),Tn(vf))}var zn=ca(0);function Wh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nv=[];function rv(){for(var e=0;e<nv.length;e++)nv[e]._workInProgressVersionPrimary=null;nv.length=0}var Kh=As.ReactCurrentDispatcher,iv=As.ReactCurrentBatchConfig,fl=0,Hn=null,yr=null,Tr=null,Qh=!1,xf=!1,bf=0,YO=0;function qr(){throw Error($e(321))}function ov(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Io(e[n],t[n]))return!1;return!0}function sv(e,t,n,r,i,s){if(fl=s,Hn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Kh.current=e===null||e.memoizedState===null?XO:eL,e=n(r,i),xf){s=0;do{if(xf=!1,bf=0,25<=s)throw Error($e(301));s+=1,Tr=yr=null,t.updateQueue=null,Kh.current=tL,e=n(r,i)}while(xf)}if(Kh.current=Vh,t=yr!==null&&yr.next!==null,fl=0,Tr=yr=Hn=null,Qh=!1,t)throw Error($e(300));return e}function av(){var e=bf!==0;return bf=0,e}function Ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?Hn.memoizedState=Tr=e:Tr=Tr.next=e,Tr}function po(){if(yr===null){var e=Hn.alternate;e=e!==null?e.memoizedState:null}else e=yr.next;var t=Tr===null?Hn.memoizedState:Tr.next;if(t!==null)Tr=t,yr=e;else{if(e===null)throw Error($e(310));yr=e,e={memoizedState:yr.memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},Tr===null?Hn.memoizedState=Tr=e:Tr=Tr.next=e}return Tr}function wf(e,t){return typeof t=="function"?t(e):t}function lv(e){var t=po(),n=t.queue;if(n===null)throw Error($e(311));n.lastRenderedReducer=e;var r=yr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=l=null,c=null,h=s;do{var g=h.lane;if((fl&g)===g)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var m={lane:g,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(u=c=m,l=r):c=c.next=m,Hn.lanes|=g,dl|=g}h=h.next}while(h!==null&&h!==s);c===null?l=r:c.next=u,Io(r,t.memoizedState)||(Mi=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Hn.lanes|=s,dl|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function uv(e){var t=po(),n=t.queue;if(n===null)throw Error($e(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do s=e(s,l.action),l=l.next;while(l!==i);Io(s,t.memoizedState)||(Mi=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function kw(){}function Iw(e,t){var n=Hn,r=po(),i=t(),s=!Io(r.memoizedState,i);if(s&&(r.memoizedState=i,Mi=!0),r=r.queue,cv(Mw.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Tr!==null&&Tr.memoizedState.tag&1){if(n.flags|=2048,Sf(9,Dw.bind(null,n,r,i,t),void 0,null),Or===null)throw Error($e(349));fl&30||Ew(n,t,i)}return i}function Ew(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Hn.updateQueue,t===null?(t={lastEffect:null,stores:null},Hn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Dw(e,t,n,r){t.value=n,t.getSnapshot=r,Rw(t)&&Tw(e)}function Mw(e,t,n){return n(function(){Rw(t)&&Tw(e)})}function Rw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Io(e,n)}catch{return!0}}function Tw(e){var t=Cs(e,1);t!==null&&To(t,e,1,-1)}function Ow(e){var t=Ko();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wf,lastRenderedState:e},t.queue=e,e=e.dispatch=ZO.bind(null,Hn,e),[t.memoizedState,e]}function Sf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Hn.updateQueue,t===null?(t={lastEffect:null,stores:null},Hn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Lw(){return po().memoizedState}function $h(e,t,n,r){var i=Ko();Hn.flags|=e,i.memoizedState=Sf(1|t,n,void 0,r===void 0?null:r)}function Gh(e,t,n,r){var i=po();r=r===void 0?null:r;var s=void 0;if(yr!==null){var l=yr.memoizedState;if(s=l.destroy,r!==null&&ov(r,l.deps)){i.memoizedState=Sf(t,n,s,r);return}}Hn.flags|=e,i.memoizedState=Sf(1|t,n,s,r)}function Pw(e,t){return $h(8390656,8,e,t)}function cv(e,t){return Gh(2048,8,e,t)}function Fw(e,t){return Gh(4,2,e,t)}function Bw(e,t){return Gh(4,4,e,t)}function Nw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _w(e,t,n){return n=n!=null?n.concat([e]):null,Gh(4,4,Nw.bind(null,t,e),n)}function fv(){}function jw(e,t){var n=po();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ov(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zw(e,t){var n=po();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ov(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hw(e,t,n){return fl&21?(Io(n,t)||(n=y1(),Hn.lanes|=n,dl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Mi=!0),e.memoizedState=n)}function JO(e,t){var n=dn;dn=n!==0&&4>n?n:4,e(!0);var r=iv.transition;iv.transition={};try{e(!1),t()}finally{dn=n,iv.transition=r}}function Uw(){return po().memoizedState}function qO(e,t,n){var r=va(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ww(e))Kw(t,n);else if(n=xw(e,t,n,r),n!==null){var i=hi();To(n,e,r,i),Qw(n,t,r)}}function ZO(e,t,n){var r=va(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ww(e))Kw(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,u=s(l,n);if(i.hasEagerState=!0,i.eagerState=u,Io(u,l)){var c=t.interleaved;c===null?(i.next=i,Zy(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=xw(e,t,i,r),n!==null&&(i=hi(),To(n,e,r,i),Qw(n,t,r))}}function Ww(e){var t=e.alternate;return e===Hn||t!==null&&t===Hn}function Kw(e,t){xf=Qh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hy(e,n)}}var Vh={readContext:ho,useCallback:qr,useContext:qr,useEffect:qr,useImperativeHandle:qr,useInsertionEffect:qr,useLayoutEffect:qr,useMemo:qr,useReducer:qr,useRef:qr,useState:qr,useDebugValue:qr,useDeferredValue:qr,useTransition:qr,useMutableSource:qr,useSyncExternalStore:qr,useId:qr,unstable_isNewReconciler:!1},XO={readContext:ho,useCallback:function(e,t){return Ko().memoizedState=[e,t===void 0?null:t],e},useContext:ho,useEffect:Pw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$h(4194308,4,Nw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $h(4194308,4,e,t)},useInsertionEffect:function(e,t){return $h(4,2,e,t)},useMemo:function(e,t){var n=Ko();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ko();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qO.bind(null,Hn,e),[r.memoizedState,e]},useRef:function(e){var t=Ko();return e={current:e},t.memoizedState=e},useState:Ow,useDebugValue:fv,useDeferredValue:function(e){return Ko().memoizedState=e},useTransition:function(){var e=Ow(!1),t=e[0];return e=JO.bind(null,e[1]),Ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Hn,i=Ko();if(Fn){if(n===void 0)throw Error($e(407));n=n()}else{if(n=t(),Or===null)throw Error($e(349));fl&30||Ew(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Pw(Mw.bind(null,r,s,e),[e]),r.flags|=2048,Sf(9,Dw.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ko(),t=Or.identifierPrefix;if(Fn){var n=Ss,r=ws;n=(r&~(1<<32-ko(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=bf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=YO++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eL={readContext:ho,useCallback:jw,useContext:ho,useEffect:cv,useImperativeHandle:_w,useInsertionEffect:Fw,useLayoutEffect:Bw,useMemo:zw,useReducer:lv,useRef:Lw,useState:function(){return lv(wf)},useDebugValue:fv,useDeferredValue:function(e){var t=po();return Hw(t,yr.memoizedState,e)},useTransition:function(){var e=lv(wf)[0],t=po().memoizedState;return[e,t]},useMutableSource:kw,useSyncExternalStore:Iw,useId:Uw,unstable_isNewReconciler:!1},tL={readContext:ho,useCallback:jw,useContext:ho,useEffect:cv,useImperativeHandle:_w,useInsertionEffect:Fw,useLayoutEffect:Bw,useMemo:zw,useReducer:uv,useRef:Lw,useState:function(){return uv(wf)},useDebugValue:fv,useDeferredValue:function(e){var t=po();return yr===null?t.memoizedState=e:Hw(t,yr.memoizedState,e)},useTransition:function(){var e=uv(wf)[0],t=po().memoizedState;return[e,t]},useMutableSource:kw,useSyncExternalStore:Iw,useId:Uw,unstable_isNewReconciler:!1};function Do(e,t){if(e&&e.defaultProps){t=jn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function dv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:jn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yh={isMounted:function(e){return(e=e._reactInternals)?il(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hi(),i=va(e),s=ks(r,i);s.payload=t,n!=null&&(s.callback=n),t=pa(e,s,i),t!==null&&(To(t,e,i,r),Hh(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hi(),i=va(e),s=ks(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=pa(e,s,i),t!==null&&(To(t,e,i,r),Hh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hi(),r=va(e),i=ks(n,r);i.tag=2,t!=null&&(i.callback=t),t=pa(e,i,r),t!==null&&(To(t,e,r,n),Hh(t,e,r))}};function $w(e,t,n,r,i,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,l):t.prototype&&t.prototype.isPureReactComponent?!uf(n,r)||!uf(i,s):!0}function Gw(e,t,n){var r=!1,i=fa,s=t.contextType;return typeof s=="object"&&s!==null?s=ho(s):(i=Di(t)?sl:Jr.current,r=t.contextTypes,s=(r=r!=null)?wu(e,i):fa),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Vw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Yh.enqueueReplaceState(t,t.state,null)}function hv(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Xy(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ho(s):(s=Di(t)?sl:Jr.current,i.context=wu(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(dv(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Yh.enqueueReplaceState(i,i.state,null),Uh(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ru(e,t){try{var n="",r=t;do n+=MT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function pv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function gv(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var nL=typeof WeakMap=="function"?WeakMap:Map;function Yw(e,t,n){n=ks(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){np||(np=!0,Rv=r),gv(e,t)},n}function Jw(e,t,n){n=ks(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){gv(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){gv(e,t),typeof r!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function qw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new nL;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=mL.bind(null,e,t,n),t.then(e,e))}function Zw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ks(-1,1),t.tag=2,pa(n,t,1))),n.lanes|=1),e)}var rL=As.ReactCurrentOwner,Mi=!1;function di(e,t,n,r){t.child=e===null?Aw(t,null,n,r):Iu(t,e.child,n,r)}function eS(e,t,n,r,i){n=n.render;var s=t.ref;return Du(t,i),r=sv(e,t,n,r,s,i),n=av(),e!==null&&!Mi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Is(e,t,i)):(Fn&&n&&Wy(t),t.flags|=1,di(e,t,r,i),t.child)}function tS(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Nv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,nS(e,t,s,r,i)):(e=lp(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:uf,n(l,r)&&e.ref===t.ref)return Is(e,t,i)}return t.flags|=1,e=xa(s,r),e.ref=t.ref,e.return=t,t.child=e}function nS(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(uf(s,r)&&e.ref===t.ref)if(Mi=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Mi=!0);else return t.lanes=e.lanes,Is(e,t,i)}return mv(e,t,n,r,i)}function rS(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kn(Ou,Ji),Ji|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kn(Ou,Ji),Ji|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,kn(Ou,Ji),Ji|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,kn(Ou,Ji),Ji|=r;return di(e,t,i,n),t.child}function iS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mv(e,t,n,r,i){var s=Di(n)?sl:Jr.current;return s=wu(t,s),Du(t,i),n=sv(e,t,n,r,s,i),r=av(),e!==null&&!Mi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Is(e,t,i)):(Fn&&r&&Wy(t),t.flags|=1,di(e,t,n,i),t.child)}function oS(e,t,n,r,i){if(Di(n)){var s=!0;Lh(t)}else s=!1;if(Du(t,i),t.stateNode===null)qh(e,t),Gw(t,n,r),hv(t,n,r,i),r=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var c=l.context,h=n.contextType;typeof h=="object"&&h!==null?h=ho(h):(h=Di(n)?sl:Jr.current,h=wu(t,h));var g=n.getDerivedStateFromProps,m=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||c!==h)&&Vw(t,l,r,h),ha=!1;var v=t.memoizedState;l.state=v,Uh(t,r,l,i),c=t.memoizedState,u!==r||v!==c||Ei.current||ha?(typeof g=="function"&&(dv(t,n,g,r),c=t.memoizedState),(u=ha||$w(t,n,u,r,v,c,h))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=h,r=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,bw(e,t),u=t.memoizedProps,h=t.type===t.elementType?u:Do(t.type,u),l.props=h,m=t.pendingProps,v=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=ho(c):(c=Di(n)?sl:Jr.current,c=wu(t,c));var x=n.getDerivedStateFromProps;(g=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==m||v!==c)&&Vw(t,l,r,c),ha=!1,v=t.memoizedState,l.state=v,Uh(t,r,l,i);var w=t.memoizedState;u!==m||v!==w||Ei.current||ha?(typeof x=="function"&&(dv(t,n,x,r),w=t.memoizedState),(h=ha||$w(t,n,h,r,v,w,c)||!1)?(g||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,w,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,w,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),l.props=r,l.state=w,l.context=c,r=h):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return yv(e,t,n,r,s,i)}function yv(e,t,n,r,i,s){iS(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return i&&cw(t,n,!1),Is(e,t,s);r=t.stateNode,rL.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Iu(t,e.child,null,s),t.child=Iu(t,null,u,s)):di(e,t,u,s),t.memoizedState=r.state,i&&cw(t,n,!0),t.child}function sS(e){var t=e.stateNode;t.pendingContext?lw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lw(e,t.context,!1),ev(e,t.containerInfo)}function aS(e,t,n,r,i){return ku(),Gy(i),t.flags|=256,di(e,t,n,r),t.child}var vv={dehydrated:null,treeContext:null,retryLane:0};function Av(e){return{baseLanes:e,cachePool:null,transitions:null}}function lS(e,t,n){var r=t.pendingProps,i=zn.current,s=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),kn(zn,i&1),e===null)return $y(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=up(l,r,0,null),e=ml(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Av(n),t.memoizedState=vv,e):xv(t,l));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return iL(e,t,l,r,u,i,n);if(s){s=r.fallback,l=t.mode,i=e.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=xa(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=xa(u,s):(s=ml(s,l,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=e.child.memoizedState,l=l===null?Av(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=vv,r}return s=e.child,e=s.sibling,r=xa(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function xv(e,t){return t=up({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jh(e,t,n,r){return r!==null&&Gy(r),Iu(t,e.child,null,n),e=xv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function iL(e,t,n,r,i,s,l){if(n)return t.flags&256?(t.flags&=-257,r=pv(Error($e(422))),Jh(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=up({mode:"visible",children:r.children},i,0,null),s=ml(s,i,l,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Iu(t,e.child,null,l),t.child.memoizedState=Av(l),t.memoizedState=vv,s);if(!(t.mode&1))return Jh(e,t,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error($e(419)),r=pv(s,r,void 0),Jh(e,t,l,r)}if(u=(l&e.childLanes)!==0,Mi||u){if(r=Or,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Cs(e,i),To(r,e,i,-1))}return Bv(),r=pv(Error($e(421))),Jh(e,t,l,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=yL.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Yi=ua(i.nextSibling),Vi=t,Fn=!0,Eo=null,e!==null&&(co[fo++]=ws,co[fo++]=Ss,co[fo++]=al,ws=e.id,Ss=e.overflow,al=t),t=xv(t,r.children),t.flags|=4096,t)}function uS(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qy(e.return,t,n)}function bv(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function cS(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(di(e,t,r.children,n),r=zn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uS(e,n,t);else if(e.tag===19)uS(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(kn(zn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Wh(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),bv(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Wh(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}bv(t,!0,n,null,s);break;case"together":bv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Is(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),dl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($e(153));if(t.child!==null){for(e=t.child,n=xa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function oL(e,t,n){switch(t.tag){case 3:sS(t),ku();break;case 5:Cw(t);break;case 1:Di(t.type)&&Lh(t);break;case 4:ev(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;kn(jh,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(kn(zn,zn.current&1),t.flags|=128,null):n&t.child.childLanes?lS(e,t,n):(kn(zn,zn.current&1),e=Is(e,t,n),e!==null?e.sibling:null);kn(zn,zn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return cS(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),kn(zn,zn.current),r)break;return null;case 22:case 23:return t.lanes=0,rS(e,t,n)}return Is(e,t,n)}var fS,wv,dS,hS;fS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},wv=function(){},dS=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,cl(Wo.current);var s=null;switch(n){case"input":i=qm(e,i),r=qm(e,r),s=[];break;case"select":i=jn({},i,{value:void 0}),r=jn({},r,{value:void 0}),s=[];break;case"textarea":i=ey(e,i),r=ey(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Rh)}ny(n,r);var l;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var u=i[h];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Hc.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(u=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(c!=null||u!=null))if(h==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Hc.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Rn("scroll",e),s||u===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},hS=function(e,t,n,r){n!==r&&(t.flags|=4)};function Cf(e,t){if(!Fn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Zr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function sL(e,t,n){var r=t.pendingProps;switch(Ky(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zr(t),null;case 1:return Di(t.type)&&Oh(),Zr(t),null;case 3:return r=t.stateNode,Mu(),Tn(Ei),Tn(Jr),rv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Nh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Eo!==null&&(Lv(Eo),Eo=null))),wv(e,t),Zr(t),null;case 5:tv(t);var i=cl(Af.current);if(n=t.type,e!==null&&t.stateNode!=null)dS(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($e(166));return Zr(t),null}if(e=cl(Wo.current),Nh(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Uo]=t,r[pf]=s,e=(t.mode&1)!==0,n){case"dialog":Rn("cancel",r),Rn("close",r);break;case"iframe":case"object":case"embed":Rn("load",r);break;case"video":case"audio":for(i=0;i<ff.length;i++)Rn(ff[i],r);break;case"source":Rn("error",r);break;case"img":case"image":case"link":Rn("error",r),Rn("load",r);break;case"details":Rn("toggle",r);break;case"input":Gb(r,s),Rn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Rn("invalid",r);break;case"textarea":Jb(r,s),Rn("invalid",r)}ny(n,s),i=null;for(var l in s)if(s.hasOwnProperty(l)){var u=s[l];l==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&Mh(r.textContent,u,e),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Mh(r.textContent,u,e),i=["children",""+u]):Hc.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Rn("scroll",r)}switch(n){case"input":sh(r),Yb(r,s,!0);break;case"textarea":sh(r),Zb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Rh)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Uo]=t,e[pf]=r,fS(e,t,!1,!1),t.stateNode=e;e:{switch(l=ry(n,r),n){case"dialog":Rn("cancel",e),Rn("close",e),i=r;break;case"iframe":case"object":case"embed":Rn("load",e),i=r;break;case"video":case"audio":for(i=0;i<ff.length;i++)Rn(ff[i],e);i=r;break;case"source":Rn("error",e),i=r;break;case"img":case"image":case"link":Rn("error",e),Rn("load",e),i=r;break;case"details":Rn("toggle",e),i=r;break;case"input":Gb(e,r),i=qm(e,r),Rn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=jn({},r,{value:void 0}),Rn("invalid",e);break;case"textarea":Jb(e,r),i=ey(e,r),Rn("invalid",e);break;default:i=r}ny(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?n1(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&e1(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Qc(e,c):typeof c=="number"&&Qc(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Hc.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Rn("scroll",e):c!=null&&zm(e,s,c,l))}switch(n){case"input":sh(e),Yb(e,r,!1);break;case"textarea":sh(e),Zb(e);break;case"option":r.value!=null&&e.setAttribute("value",""+na(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?cu(e,!!r.multiple,s,!1):r.defaultValue!=null&&cu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Rh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zr(t),null;case 6:if(e&&t.stateNode!=null)hS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($e(166));if(n=cl(Af.current),cl(Wo.current),Nh(t)){if(r=t.stateNode,n=t.memoizedProps,r[Uo]=t,(s=r.nodeValue!==n)&&(e=Vi,e!==null))switch(e.tag){case 3:Mh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mh(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Uo]=t,t.stateNode=r}return Zr(t),null;case 13:if(Tn(zn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fn&&Yi!==null&&t.mode&1&&!(t.flags&128))mw(),ku(),t.flags|=98560,s=!1;else if(s=Nh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error($e(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($e(317));s[Uo]=t}else ku(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Zr(t),s=!1}else Eo!==null&&(Lv(Eo),Eo=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||zn.current&1?vr===0&&(vr=3):Bv())),t.updateQueue!==null&&(t.flags|=4),Zr(t),null);case 4:return Mu(),wv(e,t),e===null&&df(t.stateNode.containerInfo),Zr(t),null;case 10:return Jy(t.type._context),Zr(t),null;case 17:return Di(t.type)&&Oh(),Zr(t),null;case 19:if(Tn(zn),s=t.memoizedState,s===null)return Zr(t),null;if(r=(t.flags&128)!==0,l=s.rendering,l===null)if(r)Cf(s,!1);else{if(vr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Wh(e),l!==null){for(t.flags|=128,Cf(s,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return kn(zn,zn.current&1|2),t.child}e=e.sibling}s.tail!==null&&nr()>Lu&&(t.flags|=128,r=!0,Cf(s,!1),t.lanes=4194304)}else{if(!r)if(e=Wh(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Cf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!Fn)return Zr(t),null}else 2*nr()-s.renderingStartTime>Lu&&n!==1073741824&&(t.flags|=128,r=!0,Cf(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(n=s.last,n!==null?n.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=nr(),t.sibling=null,n=zn.current,kn(zn,r?n&1|2:n&1),t):(Zr(t),null);case 22:case 23:return Fv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ji&1073741824&&(Zr(t),t.subtreeFlags&6&&(t.flags|=8192)):Zr(t),null;case 24:return null;case 25:return null}throw Error($e(156,t.tag))}function aL(e,t){switch(Ky(t),t.tag){case 1:return Di(t.type)&&Oh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mu(),Tn(Ei),Tn(Jr),rv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tv(t),null;case 13:if(Tn(zn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($e(340));ku()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Tn(zn),null;case 4:return Mu(),null;case 10:return Jy(t.type._context),null;case 22:case 23:return Fv(),null;case 24:return null;default:return null}}var Zh=!1,Xr=!1,lL=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Tu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gn(e,t,r)}else n.current=null}function Sv(e,t,n){try{n()}catch(r){Gn(e,t,r)}}var pS=!1;function uL(e,t){if(Fy=vh,e=$1(),Ey(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,u=-1,c=-1,h=0,g=0,m=e,v=null;t:for(;;){for(var x;m!==n||i!==0&&m.nodeType!==3||(u=l+i),m!==s||r!==0&&m.nodeType!==3||(c=l+r),m.nodeType===3&&(l+=m.nodeValue.length),(x=m.firstChild)!==null;)v=m,m=x;for(;;){if(m===e)break t;if(v===n&&++h===i&&(u=l),v===s&&++g===r&&(c=l),(x=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=x}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(By={focusedElem:e,selectionRange:n},vh=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){t=ft;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var E=w.memoizedProps,R=w.memoizedState,S=t.stateNode,k=S.getSnapshotBeforeUpdate(t.elementType===t.type?E:Do(t.type,E),R);S.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var M=t.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($e(163))}}catch(P){Gn(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}return w=pS,pS=!1,w}function kf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Sv(t,n,s)}i=i.next}while(i!==r)}}function Xh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Cv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gS(e){var t=e.alternate;t!==null&&(e.alternate=null,gS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Uo],delete t[pf],delete t[zy],delete t[QO],delete t[$O])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mS(e){return e.tag===5||e.tag===3||e.tag===4}function yS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Rh));else if(r!==4&&(e=e.child,e!==null))for(kv(e,t,n),e=e.sibling;e!==null;)kv(e,t,n),e=e.sibling}function Iv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Iv(e,t,n),e=e.sibling;e!==null;)Iv(e,t,n),e=e.sibling}var Wr=null,Mo=!1;function ga(e,t,n){for(n=n.child;n!==null;)vS(e,t,n),n=n.sibling}function vS(e,t,n){if(Ho&&typeof Ho.onCommitFiberUnmount=="function")try{Ho.onCommitFiberUnmount(dh,n)}catch{}switch(n.tag){case 5:Xr||Tu(n,t);case 6:var r=Wr,i=Mo;Wr=null,ga(e,t,n),Wr=r,Mo=i,Wr!==null&&(Mo?(e=Wr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Wr.removeChild(n.stateNode));break;case 18:Wr!==null&&(Mo?(e=Wr,n=n.stateNode,e.nodeType===8?jy(e.parentNode,n):e.nodeType===1&&jy(e,n),nf(e)):jy(Wr,n.stateNode));break;case 4:r=Wr,i=Mo,Wr=n.stateNode.containerInfo,Mo=!0,ga(e,t,n),Wr=r,Mo=i;break;case 0:case 11:case 14:case 15:if(!Xr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&Sv(n,t,l),i=i.next}while(i!==r)}ga(e,t,n);break;case 1:if(!Xr&&(Tu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Gn(n,t,u)}ga(e,t,n);break;case 21:ga(e,t,n);break;case 22:n.mode&1?(Xr=(r=Xr)||n.memoizedState!==null,ga(e,t,n),Xr=r):ga(e,t,n);break;default:ga(e,t,n)}}function AS(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new lL),t.forEach(function(r){var i=vL.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ro(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:Wr=u.stateNode,Mo=!1;break e;case 3:Wr=u.stateNode.containerInfo,Mo=!0;break e;case 4:Wr=u.stateNode.containerInfo,Mo=!0;break e}u=u.return}if(Wr===null)throw Error($e(160));vS(s,l,i),Wr=null,Mo=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){Gn(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xS(t,e),t=t.sibling}function xS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ro(t,e),Qo(e),r&4){try{kf(3,e,e.return),Xh(3,e)}catch(E){Gn(e,e.return,E)}try{kf(5,e,e.return)}catch(E){Gn(e,e.return,E)}}break;case 1:Ro(t,e),Qo(e),r&512&&n!==null&&Tu(n,n.return);break;case 5:if(Ro(t,e),Qo(e),r&512&&n!==null&&Tu(n,n.return),e.flags&32){var i=e.stateNode;try{Qc(i,"")}catch(E){Gn(e,e.return,E)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,l=n!==null?n.memoizedProps:s,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&Vb(i,s),ry(u,l);var h=ry(u,s);for(l=0;l<c.length;l+=2){var g=c[l],m=c[l+1];g==="style"?n1(i,m):g==="dangerouslySetInnerHTML"?e1(i,m):g==="children"?Qc(i,m):zm(i,g,m,h)}switch(u){case"input":Zm(i,s);break;case"textarea":qb(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var x=s.value;x!=null?cu(i,!!s.multiple,x,!1):v!==!!s.multiple&&(s.defaultValue!=null?cu(i,!!s.multiple,s.defaultValue,!0):cu(i,!!s.multiple,s.multiple?[]:"",!1))}i[pf]=s}catch(E){Gn(e,e.return,E)}}break;case 6:if(Ro(t,e),Qo(e),r&4){if(e.stateNode===null)throw Error($e(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(E){Gn(e,e.return,E)}}break;case 3:if(Ro(t,e),Qo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nf(t.containerInfo)}catch(E){Gn(e,e.return,E)}break;case 4:Ro(t,e),Qo(e);break;case 13:Ro(t,e),Qo(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Mv=nr())),r&4&&AS(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(Xr=(h=Xr)||g,Ro(t,e),Xr=h):Ro(t,e),Qo(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!g&&e.mode&1)for(ft=e,g=e.child;g!==null;){for(m=ft=g;ft!==null;){switch(v=ft,x=v.child,v.tag){case 0:case 11:case 14:case 15:kf(4,v,v.return);break;case 1:Tu(v,v.return);var w=v.stateNode;if(typeof w.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(E){Gn(r,n,E)}}break;case 5:Tu(v,v.return);break;case 22:if(v.memoizedState!==null){SS(m);continue}}x!==null?(x.return=v,ft=x):SS(m)}g=g.sibling}e:for(g=null,m=e;;){if(m.tag===5){if(g===null){g=m;try{i=m.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=t1("display",l))}catch(E){Gn(e,e.return,E)}}}else if(m.tag===6){if(g===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(E){Gn(e,e.return,E)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;g===m&&(g=null),m=m.return}g===m&&(g=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ro(t,e),Qo(e),r&4&&AS(e);break;case 21:break;default:Ro(t,e),Qo(e)}}function Qo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(mS(n)){var r=n;break e}n=n.return}throw Error($e(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qc(i,""),r.flags&=-33);var s=yS(e);Iv(e,s,i);break;case 3:case 4:var l=r.stateNode.containerInfo,u=yS(e);kv(e,u,l);break;default:throw Error($e(161))}}catch(c){Gn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cL(e,t,n){ft=e,bS(e)}function bS(e,t,n){for(var r=(e.mode&1)!==0;ft!==null;){var i=ft,s=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Zh;if(!l){var u=i.alternate,c=u!==null&&u.memoizedState!==null||Xr;u=Zh;var h=Xr;if(Zh=l,(Xr=c)&&!h)for(ft=i;ft!==null;)l=ft,c=l.child,l.tag===22&&l.memoizedState!==null?CS(i):c!==null?(c.return=l,ft=c):CS(i);for(;s!==null;)ft=s,bS(s),s=s.sibling;ft=i,Zh=u,Xr=h}wS(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ft=s):wS(e)}}function wS(e){for(;ft!==null;){var t=ft;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xr||Xh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Xr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Do(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Sw(t,s,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Sw(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var g=h.memoizedState;if(g!==null){var m=g.dehydrated;m!==null&&nf(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($e(163))}Xr||t.flags&512&&Cv(t)}catch(v){Gn(t,t.return,v)}}if(t===e){ft=null;break}if(n=t.sibling,n!==null){n.return=t.return,ft=n;break}ft=t.return}}function SS(e){for(;ft!==null;){var t=ft;if(t===e){ft=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ft=n;break}ft=t.return}}function CS(e){for(;ft!==null;){var t=ft;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Xh(4,t)}catch(c){Gn(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){Gn(t,i,c)}}var s=t.return;try{Cv(t)}catch(c){Gn(t,s,c)}break;case 5:var l=t.return;try{Cv(t)}catch(c){Gn(t,l,c)}}}catch(c){Gn(t,t.return,c)}if(t===e){ft=null;break}var u=t.sibling;if(u!==null){u.return=t.return,ft=u;break}ft=t.return}}var fL=Math.ceil,ep=As.ReactCurrentDispatcher,Ev=As.ReactCurrentOwner,go=As.ReactCurrentBatchConfig,tn=0,Or=null,ar=null,Kr=0,Ji=0,Ou=ca(0),vr=0,If=null,dl=0,tp=0,Dv=0,Ef=null,Ri=null,Mv=0,Lu=1/0,Es=null,np=!1,Rv=null,ma=null,rp=!1,ya=null,ip=0,Df=0,Tv=null,op=-1,sp=0;function hi(){return tn&6?nr():op!==-1?op:op=nr()}function va(e){return e.mode&1?tn&2&&Kr!==0?Kr&-Kr:VO.transition!==null?(sp===0&&(sp=y1()),sp):(e=dn,e!==0||(e=window.event,e=e===void 0?16:I1(e.type)),e):1}function To(e,t,n,r){if(50<Df)throw Df=0,Tv=null,Error($e(185));qc(e,n,r),(!(tn&2)||e!==Or)&&(e===Or&&(!(tn&2)&&(tp|=n),vr===4&&Aa(e,Kr)),Ti(e,r),n===1&&tn===0&&!(t.mode&1)&&(Lu=nr()+500,Ph&&da()))}function Ti(e,t){var n=e.callbackNode;VT(e,t);var r=gh(e,e===Or?Kr:0);if(r===0)n!==null&&p1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&p1(n),t===1)e.tag===0?GO(IS.bind(null,e)):fw(IS.bind(null,e)),WO(function(){!(tn&6)&&da()}),n=null;else{switch(v1(r)){case 1:n=cy;break;case 4:n=g1;break;case 16:n=fh;break;case 536870912:n=m1;break;default:n=fh}n=PS(n,kS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function kS(e,t){if(op=-1,sp=0,tn&6)throw Error($e(327));var n=e.callbackNode;if(Pu()&&e.callbackNode!==n)return null;var r=gh(e,e===Or?Kr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ap(e,r);else{t=r;var i=tn;tn|=2;var s=DS();(Or!==e||Kr!==t)&&(Es=null,Lu=nr()+500,pl(e,t));do try{pL();break}catch(u){ES(e,u)}while(!0);Yy(),ep.current=s,tn=i,ar!==null?t=0:(Or=null,Kr=0,t=vr)}if(t!==0){if(t===2&&(i=fy(e),i!==0&&(r=i,t=Ov(e,i))),t===1)throw n=If,pl(e,0),Aa(e,r),Ti(e,nr()),n;if(t===6)Aa(e,r);else{if(i=e.current.alternate,!(r&30)&&!dL(i)&&(t=ap(e,r),t===2&&(s=fy(e),s!==0&&(r=s,t=Ov(e,s))),t===1))throw n=If,pl(e,0),Aa(e,r),Ti(e,nr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error($e(345));case 2:gl(e,Ri,Es);break;case 3:if(Aa(e,r),(r&130023424)===r&&(t=Mv+500-nr(),10<t)){if(gh(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){hi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=_y(gl.bind(null,e,Ri,Es),t);break}gl(e,Ri,Es);break;case 4:if(Aa(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-ko(r);s=1<<l,l=t[l],l>i&&(i=l),r&=~s}if(r=i,r=nr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fL(r/1960))-r,10<r){e.timeoutHandle=_y(gl.bind(null,e,Ri,Es),r);break}gl(e,Ri,Es);break;case 5:gl(e,Ri,Es);break;default:throw Error($e(329))}}}return Ti(e,nr()),e.callbackNode===n?kS.bind(null,e):null}function Ov(e,t){var n=Ef;return e.current.memoizedState.isDehydrated&&(pl(e,t).flags|=256),e=ap(e,t),e!==2&&(t=Ri,Ri=n,t!==null&&Lv(t)),e}function Lv(e){Ri===null?Ri=e:Ri.push.apply(Ri,e)}function dL(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Io(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Aa(e,t){for(t&=~Dv,t&=~tp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ko(t),r=1<<n;e[n]=-1,t&=~r}}function IS(e){if(tn&6)throw Error($e(327));Pu();var t=gh(e,0);if(!(t&1))return Ti(e,nr()),null;var n=ap(e,t);if(e.tag!==0&&n===2){var r=fy(e);r!==0&&(t=r,n=Ov(e,r))}if(n===1)throw n=If,pl(e,0),Aa(e,t),Ti(e,nr()),n;if(n===6)throw Error($e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gl(e,Ri,Es),Ti(e,nr()),null}function Pv(e,t){var n=tn;tn|=1;try{return e(t)}finally{tn=n,tn===0&&(Lu=nr()+500,Ph&&da())}}function hl(e){ya!==null&&ya.tag===0&&!(tn&6)&&Pu();var t=tn;tn|=1;var n=go.transition,r=dn;try{if(go.transition=null,dn=1,e)return e()}finally{dn=r,go.transition=n,tn=t,!(tn&6)&&da()}}function Fv(){Ji=Ou.current,Tn(Ou)}function pl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,UO(n)),ar!==null)for(n=ar.return;n!==null;){var r=n;switch(Ky(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Oh();break;case 3:Mu(),Tn(Ei),Tn(Jr),rv();break;case 5:tv(r);break;case 4:Mu();break;case 13:Tn(zn);break;case 19:Tn(zn);break;case 10:Jy(r.type._context);break;case 22:case 23:Fv()}n=n.return}if(Or=e,ar=e=xa(e.current,null),Kr=Ji=t,vr=0,If=null,Dv=tp=dl=0,Ri=Ef=null,ul!==null){for(t=0;t<ul.length;t++)if(n=ul[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=i,r.next=l}n.pending=r}ul=null}return e}function ES(e,t){do{var n=ar;try{if(Yy(),Kh.current=Vh,Qh){for(var r=Hn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qh=!1}if(fl=0,Tr=yr=Hn=null,xf=!1,bf=0,Ev.current=null,n===null||n.return===null){vr=1,If=t,ar=null;break}e:{var s=e,l=n.return,u=n,c=t;if(t=Kr,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,g=u,m=g.tag;if(!(g.mode&1)&&(m===0||m===11||m===15)){var v=g.alternate;v?(g.updateQueue=v.updateQueue,g.memoizedState=v.memoizedState,g.lanes=v.lanes):(g.updateQueue=null,g.memoizedState=null)}var x=Zw(l);if(x!==null){x.flags&=-257,Xw(x,l,u,s,t),x.mode&1&&qw(s,h,t),t=x,c=h;var w=t.updateQueue;if(w===null){var E=new Set;E.add(c),t.updateQueue=E}else w.add(c);break e}else{if(!(t&1)){qw(s,h,t),Bv();break e}c=Error($e(426))}}else if(Fn&&u.mode&1){var R=Zw(l);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Xw(R,l,u,s,t),Gy(Ru(c,u));break e}}s=c=Ru(c,u),vr!==4&&(vr=2),Ef===null?Ef=[s]:Ef.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var S=Yw(s,c,t);ww(s,S);break e;case 1:u=c;var k=s.type,M=s.stateNode;if(!(s.flags&128)&&(typeof k.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(ma===null||!ma.has(M)))){s.flags|=65536,t&=-t,s.lanes|=t;var P=Jw(s,u,t);ww(s,P);break e}}s=s.return}while(s!==null)}RS(n)}catch(W){t=W,ar===n&&n!==null&&(ar=n=n.return);continue}break}while(!0)}function DS(){var e=ep.current;return ep.current=Vh,e===null?Vh:e}function Bv(){(vr===0||vr===3||vr===2)&&(vr=4),Or===null||!(dl&268435455)&&!(tp&268435455)||Aa(Or,Kr)}function ap(e,t){var n=tn;tn|=2;var r=DS();(Or!==e||Kr!==t)&&(Es=null,pl(e,t));do try{hL();break}catch(i){ES(e,i)}while(!0);if(Yy(),tn=n,ep.current=r,ar!==null)throw Error($e(261));return Or=null,Kr=0,vr}function hL(){for(;ar!==null;)MS(ar)}function pL(){for(;ar!==null&&!jT();)MS(ar)}function MS(e){var t=LS(e.alternate,e,Ji);e.memoizedProps=e.pendingProps,t===null?RS(e):ar=t,Ev.current=null}function RS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=aL(n,t),n!==null){n.flags&=32767,ar=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vr=6,ar=null;return}}else if(n=sL(n,t,Ji),n!==null){ar=n;return}if(t=t.sibling,t!==null){ar=t;return}ar=t=e}while(t!==null);vr===0&&(vr=5)}function gl(e,t,n){var r=dn,i=go.transition;try{go.transition=null,dn=1,gL(e,t,n,r)}finally{go.transition=i,dn=r}return null}function gL(e,t,n,r){do Pu();while(ya!==null);if(tn&6)throw Error($e(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($e(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(YT(e,s),e===Or&&(ar=Or=null,Kr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rp||(rp=!0,PS(fh,function(){return Pu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=go.transition,go.transition=null;var l=dn;dn=1;var u=tn;tn|=4,Ev.current=null,uL(e,n),xS(n,e),FO(By),vh=!!Fy,By=Fy=null,e.current=n,cL(n),zT(),tn=u,dn=l,go.transition=s}else e.current=n;if(rp&&(rp=!1,ya=e,ip=i),s=e.pendingLanes,s===0&&(ma=null),WT(n.stateNode),Ti(e,nr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(np)throw np=!1,e=Rv,Rv=null,e;return ip&1&&e.tag!==0&&Pu(),s=e.pendingLanes,s&1?e===Tv?Df++:(Df=0,Tv=e):Df=0,da(),null}function Pu(){if(ya!==null){var e=v1(ip),t=go.transition,n=dn;try{if(go.transition=null,dn=16>e?16:e,ya===null)var r=!1;else{if(e=ya,ya=null,ip=0,tn&6)throw Error($e(331));var i=tn;for(tn|=4,ft=e.current;ft!==null;){var s=ft,l=s.child;if(ft.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var h=u[c];for(ft=h;ft!==null;){var g=ft;switch(g.tag){case 0:case 11:case 15:kf(8,g,s)}var m=g.child;if(m!==null)m.return=g,ft=m;else for(;ft!==null;){g=ft;var v=g.sibling,x=g.return;if(gS(g),g===h){ft=null;break}if(v!==null){v.return=x,ft=v;break}ft=x}}}var w=s.alternate;if(w!==null){var E=w.child;if(E!==null){w.child=null;do{var R=E.sibling;E.sibling=null,E=R}while(E!==null)}}ft=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,ft=l;else e:for(;ft!==null;){if(s=ft,s.flags&2048)switch(s.tag){case 0:case 11:case 15:kf(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,ft=S;break e}ft=s.return}}var k=e.current;for(ft=k;ft!==null;){l=ft;var M=l.child;if(l.subtreeFlags&2064&&M!==null)M.return=l,ft=M;else e:for(l=k;ft!==null;){if(u=ft,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Xh(9,u)}}catch(W){Gn(u,u.return,W)}if(u===l){ft=null;break e}var P=u.sibling;if(P!==null){P.return=u.return,ft=P;break e}ft=u.return}}if(tn=i,da(),Ho&&typeof Ho.onPostCommitFiberRoot=="function")try{Ho.onPostCommitFiberRoot(dh,e)}catch{}r=!0}return r}finally{dn=n,go.transition=t}}return!1}function TS(e,t,n){t=Ru(n,t),t=Yw(e,t,1),e=pa(e,t,1),t=hi(),e!==null&&(qc(e,1,t),Ti(e,t))}function Gn(e,t,n){if(e.tag===3)TS(e,e,n);else for(;t!==null;){if(t.tag===3){TS(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ma===null||!ma.has(r))){e=Ru(n,e),e=Jw(t,e,1),t=pa(t,e,1),e=hi(),t!==null&&(qc(t,1,e),Ti(t,e));break}}t=t.return}}function mL(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=hi(),e.pingedLanes|=e.suspendedLanes&n,Or===e&&(Kr&n)===n&&(vr===4||vr===3&&(Kr&130023424)===Kr&&500>nr()-Mv?pl(e,0):Dv|=n),Ti(e,t)}function OS(e,t){t===0&&(e.mode&1?(t=ph,ph<<=1,!(ph&130023424)&&(ph=4194304)):t=1);var n=hi();e=Cs(e,t),e!==null&&(qc(e,t,n),Ti(e,n))}function yL(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),OS(e,n)}function vL(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($e(314))}r!==null&&r.delete(t),OS(e,n)}var LS;LS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ei.current)Mi=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Mi=!1,oL(e,t,n);Mi=!!(e.flags&131072)}else Mi=!1,Fn&&t.flags&1048576&&dw(t,Bh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qh(e,t),e=t.pendingProps;var i=wu(t,Jr.current);Du(t,n),i=sv(null,t,r,e,i,n);var s=av();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(s=!0,Lh(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xy(t),i.updater=Yh,t.stateNode=i,i._reactInternals=t,hv(t,r,e,n),t=yv(null,t,r,!0,s,n)):(t.tag=0,Fn&&s&&Wy(t),di(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qh(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=xL(r),e=Do(r,e),i){case 0:t=mv(null,t,r,e,n);break e;case 1:t=oS(null,t,r,e,n);break e;case 11:t=eS(null,t,r,e,n);break e;case 14:t=tS(null,t,r,Do(r.type,e),n);break e}throw Error($e(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Do(r,i),mv(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Do(r,i),oS(e,t,r,i,n);case 3:e:{if(sS(t),e===null)throw Error($e(387));r=t.pendingProps,s=t.memoizedState,i=s.element,bw(e,t),Uh(t,r,null,n);var l=t.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ru(Error($e(423)),t),t=aS(e,t,r,n,i);break e}else if(r!==i){i=Ru(Error($e(424)),t),t=aS(e,t,r,n,i);break e}else for(Yi=ua(t.stateNode.containerInfo.firstChild),Vi=t,Fn=!0,Eo=null,n=Aw(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ku(),r===i){t=Is(e,t,n);break e}di(e,t,r,n)}t=t.child}return t;case 5:return Cw(t),e===null&&$y(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,l=i.children,Ny(r,i)?l=null:s!==null&&Ny(r,s)&&(t.flags|=32),iS(e,t),di(e,t,l,n),t.child;case 6:return e===null&&$y(t),null;case 13:return lS(e,t,n);case 4:return ev(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Iu(t,null,r,n):di(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Do(r,i),eS(e,t,r,i,n);case 7:return di(e,t,t.pendingProps,n),t.child;case 8:return di(e,t,t.pendingProps.children,n),t.child;case 12:return di(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,l=i.value,kn(jh,r._currentValue),r._currentValue=l,s!==null)if(Io(s.value,l)){if(s.children===i.children&&!Ei.current){t=Is(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){l=s.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=ks(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var g=h.pending;g===null?c.next=c:(c.next=g.next,g.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),qy(s.return,n,t),u.lanes|=n;break}c=c.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error($e(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),qy(l,n,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}di(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Du(t,n),i=ho(i),r=r(i),t.flags|=1,di(e,t,r,n),t.child;case 14:return r=t.type,i=Do(r,t.pendingProps),i=Do(r.type,i),tS(e,t,r,i,n);case 15:return nS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Do(r,i),qh(e,t),t.tag=1,Di(r)?(e=!0,Lh(t)):e=!1,Du(t,n),Gw(t,r,i),hv(t,r,i,n),yv(null,t,r,!0,e,n);case 19:return cS(e,t,n);case 22:return rS(e,t,n)}throw Error($e(156,t.tag))};function PS(e,t){return h1(e,t)}function AL(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mo(e,t,n,r){return new AL(e,t,n,r)}function Nv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xL(e){if(typeof e=="function")return Nv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wm)return 11;if(e===$m)return 14}return 2}function xa(e,t){var n=e.alternate;return n===null?(n=mo(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function lp(e,t,n,r,i,s){var l=2;if(r=e,typeof e=="function")Nv(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case uu:return ml(n.children,i,s,t);case Hm:l=8,i|=8;break;case Um:return e=mo(12,n,t,i|2),e.elementType=Um,e.lanes=s,e;case Km:return e=mo(13,n,t,i),e.elementType=Km,e.lanes=s,e;case Qm:return e=mo(19,n,t,i),e.elementType=Qm,e.lanes=s,e;case Wb:return up(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hb:l=10;break e;case Ub:l=9;break e;case Wm:l=11;break e;case $m:l=14;break e;case ta:l=16,r=null;break e}throw Error($e(130,e==null?e:typeof e,""))}return t=mo(l,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ml(e,t,n,r){return e=mo(7,e,r,t),e.lanes=n,e}function up(e,t,n,r){return e=mo(22,e,r,t),e.elementType=Wb,e.lanes=n,e.stateNode={isHidden:!1},e}function _v(e,t,n){return e=mo(6,e,null,t),e.lanes=n,e}function jv(e,t,n){return t=mo(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bL(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dy(0),this.expirationTimes=dy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zv(e,t,n,r,i,s,l,u,c){return e=new bL(e,t,n,u,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=mo(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xy(s),e}function wL(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function FS(e){if(!e)return fa;e=e._reactInternals;e:{if(il(e)!==e||e.tag!==1)throw Error($e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($e(171))}if(e.tag===1){var n=e.type;if(Di(n))return uw(e,n,t)}return t}function BS(e,t,n,r,i,s,l,u,c){return e=zv(n,r,!0,e,i,s,l,u,c),e.context=FS(null),n=e.current,r=hi(),i=va(n),s=ks(r,i),s.callback=t??null,pa(n,s,i),e.current.lanes=i,qc(e,i,r),Ti(e,r),e}function cp(e,t,n,r){var i=t.current,s=hi(),l=va(i);return n=FS(n),t.context===null?t.context=n:t.pendingContext=n,t=ks(s,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=pa(i,t,l),e!==null&&(To(e,i,l,s),Hh(e,i,l)),l}function fp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function NS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hv(e,t){NS(e,t),(e=e.alternate)&&NS(e,t)}function SL(){return null}var _S=typeof reportError=="function"?reportError:function(e){console.error(e)};function Uv(e){this._internalRoot=e}dp.prototype.render=Uv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($e(409));cp(e,t,null,null)},dp.prototype.unmount=Uv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hl(function(){cp(null,e,null,null)}),t[xs]=null}};function dp(e){this._internalRoot=e}dp.prototype.unstable_scheduleHydration=function(e){if(e){var t=b1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sa.length&&t!==0&&t<sa[n].priority;n++);sa.splice(n,0,e),n===0&&C1(e)}};function Wv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jS(){}function CL(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=fp(l);s.call(h)}}var l=BS(t,r,e,0,null,!1,!1,"",jS);return e._reactRootContainer=l,e[xs]=l.current,df(e.nodeType===8?e.parentNode:e),hl(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var h=fp(c);u.call(h)}}var c=zv(e,0,!1,null,null,!1,!1,"",jS);return e._reactRootContainer=c,e[xs]=c.current,df(e.nodeType===8?e.parentNode:e),hl(function(){cp(t,c,n,r)}),c}function pp(e,t,n,r,i){var s=n._reactRootContainer;if(s){var l=s;if(typeof i=="function"){var u=i;i=function(){var c=fp(l);u.call(c)}}cp(t,l,e,i)}else l=CL(n,t,e,i,r);return fp(l)}A1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jc(t.pendingLanes);n!==0&&(hy(t,n|1),Ti(t,nr()),!(tn&6)&&(Lu=nr()+500,da()))}break;case 13:hl(function(){var r=Cs(e,1);if(r!==null){var i=hi();To(r,e,1,i)}}),Hv(e,1)}},py=function(e){if(e.tag===13){var t=Cs(e,134217728);if(t!==null){var n=hi();To(t,e,134217728,n)}Hv(e,134217728)}},x1=function(e){if(e.tag===13){var t=va(e),n=Cs(e,t);if(n!==null){var r=hi();To(n,e,t,r)}Hv(e,t)}},b1=function(){return dn},w1=function(e,t){var n=dn;try{return dn=e,t()}finally{dn=n}},sy=function(e,t,n){switch(t){case"input":if(Zm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Th(r);if(!i)throw Error($e(90));$b(r),Zm(r,i)}}}break;case"textarea":qb(e,n);break;case"select":t=n.value,t!=null&&cu(e,!!n.multiple,t,!1)}},s1=Pv,a1=hl;var kL={usingClientEntryPoint:!1,Events:[gf,xu,Th,i1,o1,Pv]},Mf={findFiberByHostInstance:ol,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IL={bundleType:Mf.bundleType,version:Mf.version,rendererPackageName:Mf.rendererPackageName,rendererConfig:Mf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:As.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=f1(e),e===null?null:e.stateNode},findFiberByHostInstance:Mf.findFiberByHostInstance||SL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gp.isDisabled&&gp.supportsFiber)try{dh=gp.inject(IL),Ho=gp}catch{}}Qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kL,Qi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wv(t))throw Error($e(200));return wL(e,t,null,n)},Qi.createRoot=function(e,t){if(!Wv(e))throw Error($e(299));var n=!1,r="",i=_S;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=zv(e,1,!1,null,null,n,!1,r,i),e[xs]=t.current,df(e.nodeType===8?e.parentNode:e),new Uv(t)},Qi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($e(188)):(e=Object.keys(e).join(","),Error($e(268,e)));return e=f1(t),e=e===null?null:e.stateNode,e},Qi.flushSync=function(e){return hl(e)},Qi.hydrate=function(e,t,n){if(!hp(t))throw Error($e(200));return pp(null,e,t,!0,n)},Qi.hydrateRoot=function(e,t,n){if(!Wv(e))throw Error($e(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",l=_S;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=BS(t,null,e,1,n??null,i,!1,s,l),e[xs]=t.current,df(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new dp(t)},Qi.render=function(e,t,n){if(!hp(t))throw Error($e(200));return pp(null,e,t,!1,n)},Qi.unmountComponentAtNode=function(e){if(!hp(e))throw Error($e(40));return e._reactRootContainer?(hl(function(){pp(null,null,e,!1,function(){e._reactRootContainer=null,e[xs]=null})}),!0):!1},Qi.unstable_batchedUpdates=Pv,Qi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!hp(n))throw Error($e(200));if(e==null||e._reactInternals===void 0)throw Error($e(38));return pp(e,t,n,!1,r)},Qi.version="18.3.1-next-f1338f8080-20240426";function zS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zS)}catch(e){console.error(e)}}zS(),Fb.exports=Qi;var Kv=Fb.exports,HS=Kv;Bm.createRoot=HS.createRoot,Bm.hydrateRoot=HS.hydrateRoot;var Fu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},EL={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},DL=(OM=class{constructor(){bt(this,Ma,EL);bt(this,Tx,!1)}setTimeoutProvider(e){ut(this,Ma,e)}setTimeout(e,t){return ie(this,Ma).setTimeout(e,t)}clearTimeout(e){ie(this,Ma).clearTimeout(e)}setInterval(e,t){return ie(this,Ma).setInterval(e,t)}clearInterval(e){ie(this,Ma).clearInterval(e)}},Ma=new WeakMap,Tx=new WeakMap,OM),yl=new DL;function ML(e){setTimeout(e,0)}var vl=typeof window>"u"||"Deno"in globalThis;function pi(){}function RL(e,t){return typeof e=="function"?e(t):e}function Qv(e){return typeof e=="number"&&e>=0&&e!==1/0}function US(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ba(e,t){return typeof e=="function"?e(t):e}function yo(e,t){return typeof e=="function"?e(t):e}function WS(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:l,stale:u}=e;if(l){if(r){if(t.queryHash!==$v(l,t.options))return!1}else if(!Rf(t.queryKey,l))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||i&&i!==t.state.fetchStatus||s&&!s(t))}function KS(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Al(t.options.mutationKey)!==Al(s))return!1}else if(!Rf(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function $v(e,t){return((t==null?void 0:t.queryKeyHashFn)||Al)(e)}function Al(e){return JSON.stringify(e,(t,n)=>Gv(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Rf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Rf(e[n],t[n])):!1}var TL=Object.prototype.hasOwnProperty;function QS(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=$S(e)&&$S(t);if(!r&&!(Gv(e)&&Gv(t)))return t;const s=(r?e:Object.keys(e)).length,l=r?t:Object.keys(t),u=l.length,c=r?new Array(u):{};let h=0;for(let g=0;g<u;g++){const m=r?g:l[g],v=e[m],x=t[m];if(v===x){c[m]=v,(r?g<s:TL.call(e,m))&&h++;continue}if(v===null||x===null||typeof v!="object"||typeof x!="object"){c[m]=x;continue}const w=QS(v,x,n+1);c[m]=w,w===v&&h++}return s===u&&h===s?e:c}function mp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function $S(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Gv(e){if(!GS(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!GS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function GS(e){return Object.prototype.toString.call(e)==="[object Object]"}function OL(e){return new Promise(t=>{yl.setTimeout(t,e)})}function Vv(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?QS(e,t):t}function LL(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function PL(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Yv=Symbol();function VS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Yv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Jv(e,t){return typeof e=="function"?e(...t):!!e}function FL(e,t,n){let r=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??(i=t()),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),e}var BL=(LM=class extends Fu{constructor(){super();bt(this,Ll);bt(this,Ra);bt(this,ec);ut(this,ec,t=>{if(!vl&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ie(this,Ra)||this.setEventListener(ie(this,ec))}onUnsubscribe(){var t;this.hasListeners()||((t=ie(this,Ra))==null||t.call(this),ut(this,Ra,void 0))}setEventListener(t){var n;ut(this,ec,t),(n=ie(this,Ra))==null||n.call(this),ut(this,Ra,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ie(this,Ll)!==t&&(ut(this,Ll,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ie(this,Ll)=="boolean"?ie(this,Ll):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ll=new WeakMap,Ra=new WeakMap,ec=new WeakMap,LM),qv=new BL;function Zv(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var NL=ML;function _L(){let e=[],t=0,n=u=>{u()},r=u=>{u()},i=NL;const s=u=>{t?e.push(u):i(()=>{n(u)})},l=()=>{const u=e;e=[],u.length&&i(()=>{r(()=>{u.forEach(c=>{n(c)})})})};return{batch:u=>{let c;t++;try{c=u()}finally{t--,t||l()}return c},batchCalls:u=>(...c)=>{s(()=>{u(...c)})},schedule:s,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var Ar=_L(),jL=(PM=class extends Fu{constructor(){super();bt(this,tc,!0);bt(this,Ta);bt(this,nc);ut(this,nc,t=>{if(!vl&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ie(this,Ta)||this.setEventListener(ie(this,nc))}onUnsubscribe(){var t;this.hasListeners()||((t=ie(this,Ta))==null||t.call(this),ut(this,Ta,void 0))}setEventListener(t){var n;ut(this,nc,t),(n=ie(this,Ta))==null||n.call(this),ut(this,Ta,t(this.setOnline.bind(this)))}setOnline(t){ie(this,tc)!==t&&(ut(this,tc,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ie(this,tc)}},tc=new WeakMap,Ta=new WeakMap,nc=new WeakMap,PM),yp=new jL;function zL(e){return Math.min(1e3*2**e,3e4)}function YS(e){return(e??"online")==="online"?yp.isOnline():!0}var Xv=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function JS(e){let t=!1,n=0,r;const i=Zv(),s=()=>i.status!=="pending",l=E=>{var R;if(!s()){const S=new Xv(E);v(S),(R=e.onCancel)==null||R.call(e,S)}},u=()=>{t=!0},c=()=>{t=!1},h=()=>qv.isFocused()&&(e.networkMode==="always"||yp.isOnline())&&e.canRun(),g=()=>YS(e.networkMode)&&e.canRun(),m=E=>{s()||(r==null||r(),i.resolve(E))},v=E=>{s()||(r==null||r(),i.reject(E))},x=()=>new Promise(E=>{var R;r=S=>{(s()||h())&&E(S)},(R=e.onPause)==null||R.call(e)}).then(()=>{var E;r=void 0,s()||(E=e.onContinue)==null||E.call(e)}),w=()=>{if(s())return;let E;const R=n===0?e.initialPromise:void 0;try{E=R??e.fn()}catch(S){E=Promise.reject(S)}Promise.resolve(E).then(m).catch(S=>{var z;if(s())return;const k=e.retry??(vl?0:3),M=e.retryDelay??zL,P=typeof M=="function"?M(n,S):M,W=k===!0||typeof k=="number"&&n<k||typeof k=="function"&&k(n,S);if(t||!W){v(S);return}n++,(z=e.onFail)==null||z.call(e,n,S),OL(P).then(()=>h()?void 0:x()).then(()=>{t?v(S):w()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(r==null||r(),i),cancelRetry:u,continueRetry:c,canStart:g,start:()=>(g()?w():x().then(w),i)}}var qS=(FM=class{constructor(){bt(this,Pl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qv(this.gcTime)&&ut(this,Pl,yl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(vl?1/0:5*60*1e3))}clearGcTimeout(){ie(this,Pl)&&(yl.clearTimeout(ie(this,Pl)),ut(this,Pl,void 0))}},Pl=new WeakMap,FM),HL=(BM=class extends qS{constructor(t){super();bt(this,Lo);bt(this,Fl);bt(this,rc);bt(this,Ao);bt(this,Bl);bt(this,Nr);bt(this,gd);bt(this,Nl);ut(this,Nl,!1),ut(this,gd,t.defaultOptions),this.setOptions(t.options),this.observers=[],ut(this,Bl,t.client),ut(this,Ao,ie(this,Bl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ut(this,Fl,eC(this.options)),this.state=t.state??ie(this,Fl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ie(this,Nr))==null?void 0:t.promise}setOptions(t){if(this.options={...ie(this,gd),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=eC(this.options);n.data!==void 0&&(this.setState(XS(n.data,n.dataUpdatedAt)),ut(this,Fl,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ie(this,Ao).remove(this)}setData(t,n){const r=Vv(this.state.data,t,this.options);return Ut(this,Lo,ea).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ut(this,Lo,ea).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=ie(this,Nr))==null?void 0:r.promise;return(i=ie(this,Nr))==null||i.cancel(t),n?n.then(pi).catch(pi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ie(this,Fl))}isActive(){return this.observers.some(t=>yo(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Yv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ba(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!US(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ie(this,Nr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ie(this,Nr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ie(this,Ao).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ie(this,Nr)&&(ie(this,Nl)?ie(this,Nr).cancel({revert:!0}):ie(this,Nr).cancelRetry()),this.scheduleGc()),ie(this,Ao).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ut(this,Lo,ea).call(this,{type:"invalidate"})}async fetch(t,n){var c,h,g,m,v,x,w,E,R,S,k,M;if(this.state.fetchStatus!=="idle"&&((c=ie(this,Nr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ie(this,Nr))return ie(this,Nr).continueRetry(),ie(this,Nr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const P=this.observers.find(W=>W.options.queryFn);P&&this.setOptions(P.options)}const r=new AbortController,i=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(ut(this,Nl,!0),r.signal)})},s=()=>{const P=VS(this.options,n),z=(()=>{const Q={client:ie(this,Bl),queryKey:this.queryKey,meta:this.meta};return i(Q),Q})();return ut(this,Nl,!1),this.options.persister?this.options.persister(P,z,this):P(z)},u=(()=>{const P={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ie(this,Bl),state:this.state,fetchFn:s};return i(P),P})();(h=this.options.behavior)==null||h.onFetch(u,this),ut(this,rc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=u.fetchOptions)==null?void 0:g.meta))&&Ut(this,Lo,ea).call(this,{type:"fetch",meta:(m=u.fetchOptions)==null?void 0:m.meta}),ut(this,Nr,JS({initialPromise:n==null?void 0:n.initialPromise,fn:u.fetchFn,onCancel:P=>{P instanceof Xv&&P.revert&&this.setState({...ie(this,rc),fetchStatus:"idle"}),r.abort()},onFail:(P,W)=>{Ut(this,Lo,ea).call(this,{type:"failed",failureCount:P,error:W})},onPause:()=>{Ut(this,Lo,ea).call(this,{type:"pause"})},onContinue:()=>{Ut(this,Lo,ea).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const P=await ie(this,Nr).start();if(P===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(P),(x=(v=ie(this,Ao).config).onSuccess)==null||x.call(v,P,this),(E=(w=ie(this,Ao).config).onSettled)==null||E.call(w,P,this.state.error,this),P}catch(P){if(P instanceof Xv){if(P.silent)return ie(this,Nr).promise;if(P.revert){if(this.state.data===void 0)throw P;return this.state.data}}throw Ut(this,Lo,ea).call(this,{type:"error",error:P}),(S=(R=ie(this,Ao).config).onError)==null||S.call(R,P,this),(M=(k=ie(this,Ao).config).onSettled)==null||M.call(k,this.state.data,P,this),P}finally{this.scheduleGc()}}},Fl=new WeakMap,rc=new WeakMap,Ao=new WeakMap,Bl=new WeakMap,Nr=new WeakMap,gd=new WeakMap,Nl=new WeakMap,Lo=new WeakSet,ea=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...ZS(r.data,this.options),fetchMeta:t.meta??null};case"success":const i={...r,...XS(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ut(this,rc,t.manual?i:void 0),i;case"error":const s=t.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ar.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ie(this,Ao).notify({query:this,type:"updated",action:t})})},BM);function ZS(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:YS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function XS(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function eC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var UL=(NM=class extends Fu{constructor(t,n){super();bt(this,un);bt(this,Fi);bt(this,Zt);bt(this,md);bt(this,yi);bt(this,_l);bt(this,ic);bt(this,Ns);bt(this,Oa);bt(this,yd);bt(this,oc);bt(this,sc);bt(this,jl);bt(this,zl);bt(this,La);bt(this,ac,new Set);this.options=n,ut(this,Fi,t),ut(this,Oa,null),ut(this,Ns,Zv()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ie(this,Zt).addObserver(this),tC(ie(this,Zt),this.options)?Ut(this,un,th).call(this):this.updateResult(),Ut(this,un,mb).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return eA(ie(this,Zt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return eA(ie(this,Zt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ut(this,un,yb).call(this),Ut(this,un,vb).call(this),ie(this,Zt).removeObserver(this)}setOptions(t){const n=this.options,r=ie(this,Zt);if(this.options=ie(this,Fi).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof yo(this.options.enabled,ie(this,Zt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ut(this,un,Ab).call(this),ie(this,Zt).setOptions(this.options),n._defaulted&&!mp(this.options,n)&&ie(this,Fi).getQueryCache().notify({type:"observerOptionsUpdated",query:ie(this,Zt),observer:this});const i=this.hasListeners();i&&nC(ie(this,Zt),r,this.options,n)&&Ut(this,un,th).call(this),this.updateResult(),i&&(ie(this,Zt)!==r||yo(this.options.enabled,ie(this,Zt))!==yo(n.enabled,ie(this,Zt))||ba(this.options.staleTime,ie(this,Zt))!==ba(n.staleTime,ie(this,Zt)))&&Ut(this,un,hb).call(this);const s=Ut(this,un,pb).call(this);i&&(ie(this,Zt)!==r||yo(this.options.enabled,ie(this,Zt))!==yo(n.enabled,ie(this,Zt))||s!==ie(this,La))&&Ut(this,un,gb).call(this,s)}getOptimisticResult(t){const n=ie(this,Fi).getQueryCache().build(ie(this,Fi),t),r=this.createResult(n,t);return KL(this,r)&&(ut(this,yi,r),ut(this,ic,this.options),ut(this,_l,ie(this,Zt).state)),r}getCurrentResult(){return ie(this,yi)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&ie(this,Ns).status==="pending"&&ie(this,Ns).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(t){ie(this,ac).add(t)}getCurrentQuery(){return ie(this,Zt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ie(this,Fi).defaultQueryOptions(t),r=ie(this,Fi).getQueryCache().build(ie(this,Fi),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Ut(this,un,th).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ie(this,yi)))}createResult(t,n){var se;const r=ie(this,Zt),i=this.options,s=ie(this,yi),l=ie(this,_l),u=ie(this,ic),h=t!==r?t.state:ie(this,md),{state:g}=t;let m={...g},v=!1,x;if(n._optimisticResults){const F=this.hasListeners(),Y=!F&&tC(t,n),re=F&&nC(t,r,n,i);(Y||re)&&(m={...m,...ZS(g.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:w,errorUpdatedAt:E,status:R}=m;x=m.data;let S=!1;if(n.placeholderData!==void 0&&x===void 0&&R==="pending"){let F;s!=null&&s.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData)?(F=s.data,S=!0):F=typeof n.placeholderData=="function"?n.placeholderData((se=ie(this,sc))==null?void 0:se.state.data,ie(this,sc)):n.placeholderData,F!==void 0&&(R="success",x=Vv(s==null?void 0:s.data,F,n),v=!0)}if(n.select&&x!==void 0&&!S)if(s&&x===(l==null?void 0:l.data)&&n.select===ie(this,yd))x=ie(this,oc);else try{ut(this,yd,n.select),x=n.select(x),x=Vv(s==null?void 0:s.data,x,n),ut(this,oc,x),ut(this,Oa,null)}catch(F){ut(this,Oa,F)}ie(this,Oa)&&(w=ie(this,Oa),x=ie(this,oc),E=Date.now(),R="error");const k=m.fetchStatus==="fetching",M=R==="pending",P=R==="error",W=M&&k,z=x!==void 0,$={status:R,fetchStatus:m.fetchStatus,isPending:M,isSuccess:R==="success",isError:P,isInitialLoading:W,isLoading:W,data:x,dataUpdatedAt:m.dataUpdatedAt,error:w,errorUpdatedAt:E,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>h.dataUpdateCount||m.errorUpdateCount>h.errorUpdateCount,isFetching:k,isRefetching:k&&!M,isLoadingError:P&&!z,isPaused:m.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:P&&z,isStale:tA(t,n),refetch:this.refetch,promise:ie(this,Ns),isEnabled:yo(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const F=$.data!==void 0,Y=$.status==="error"&&!F,re=B=>{Y?B.reject($.error):F&&B.resolve($.data)},J=()=>{const B=ut(this,Ns,$.promise=Zv());re(B)},V=ie(this,Ns);switch(V.status){case"pending":t.queryHash===r.queryHash&&re(V);break;case"fulfilled":(Y||$.data!==V.value)&&J();break;case"rejected":(!Y||$.error!==V.reason)&&J();break}}return $}updateResult(){const t=ie(this,yi),n=this.createResult(ie(this,Zt),this.options);if(ut(this,_l,ie(this,Zt).state),ut(this,ic,this.options),ie(this,_l).data!==void 0&&ut(this,sc,ie(this,Zt)),mp(n,t))return;ut(this,yi,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!ie(this,ac).size)return!0;const l=new Set(s??ie(this,ac));return this.options.throwOnError&&l.add("error"),Object.keys(ie(this,yi)).some(u=>{const c=u;return ie(this,yi)[c]!==t[c]&&l.has(c)})};Ut(this,un,tT).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ut(this,un,mb).call(this)}},Fi=new WeakMap,Zt=new WeakMap,md=new WeakMap,yi=new WeakMap,_l=new WeakMap,ic=new WeakMap,Ns=new WeakMap,Oa=new WeakMap,yd=new WeakMap,oc=new WeakMap,sc=new WeakMap,jl=new WeakMap,zl=new WeakMap,La=new WeakMap,ac=new WeakMap,un=new WeakSet,th=function(t){Ut(this,un,Ab).call(this);let n=ie(this,Zt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(pi)),n},hb=function(){Ut(this,un,yb).call(this);const t=ba(this.options.staleTime,ie(this,Zt));if(vl||ie(this,yi).isStale||!Qv(t))return;const r=US(ie(this,yi).dataUpdatedAt,t)+1;ut(this,jl,yl.setTimeout(()=>{ie(this,yi).isStale||this.updateResult()},r))},pb=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ie(this,Zt)):this.options.refetchInterval)??!1},gb=function(t){Ut(this,un,vb).call(this),ut(this,La,t),!(vl||yo(this.options.enabled,ie(this,Zt))===!1||!Qv(ie(this,La))||ie(this,La)===0)&&ut(this,zl,yl.setInterval(()=>{(this.options.refetchIntervalInBackground||qv.isFocused())&&Ut(this,un,th).call(this)},ie(this,La)))},mb=function(){Ut(this,un,hb).call(this),Ut(this,un,gb).call(this,Ut(this,un,pb).call(this))},yb=function(){ie(this,jl)&&(yl.clearTimeout(ie(this,jl)),ut(this,jl,void 0))},vb=function(){ie(this,zl)&&(yl.clearInterval(ie(this,zl)),ut(this,zl,void 0))},Ab=function(){const t=ie(this,Fi).getQueryCache().build(ie(this,Fi),this.options);if(t===ie(this,Zt))return;const n=ie(this,Zt);ut(this,Zt,t),ut(this,md,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},tT=function(t){Ar.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ie(this,yi))}),ie(this,Fi).getQueryCache().notify({query:ie(this,Zt),type:"observerResultsUpdated"})})},NM);function WL(e,t){return yo(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function tC(e,t){return WL(e,t)||e.state.data!==void 0&&eA(e,t,t.refetchOnMount)}function eA(e,t,n){if(yo(t.enabled,e)!==!1&&ba(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&tA(e,t)}return!1}function nC(e,t,n,r){return(e!==t||yo(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&tA(e,n)}function tA(e,t){return yo(t.enabled,e)!==!1&&e.isStaleByTime(ba(t.staleTime,e))}function KL(e,t){return!mp(e.getCurrentResult(),t)}function rC(e){return{onFetch:(t,n)=>{var g,m,v,x,w;const r=t.options,i=(v=(m=(g=t.fetchOptions)==null?void 0:g.meta)==null?void 0:m.fetchMore)==null?void 0:v.direction,s=((x=t.state.data)==null?void 0:x.pages)||[],l=((w=t.state.data)==null?void 0:w.pageParams)||[];let u={pages:[],pageParams:[]},c=0;const h=async()=>{let E=!1;const R=M=>{FL(M,()=>t.signal,()=>E=!0)},S=VS(t.options,t.fetchOptions),k=async(M,P,W)=>{if(E)return Promise.reject();if(P==null&&M.pages.length)return Promise.resolve(M);const Q=(()=>{const Y={client:t.client,queryKey:t.queryKey,pageParam:P,direction:W?"backward":"forward",meta:t.options.meta};return R(Y),Y})(),$=await S(Q),{maxPages:se}=t.options,F=W?PL:LL;return{pages:F(M.pages,$,se),pageParams:F(M.pageParams,P,se)}};if(i&&s.length){const M=i==="backward",P=M?QL:iC,W={pages:s,pageParams:l},z=P(r,W);u=await k(W,z,M)}else{const M=e??s.length;do{const P=c===0?l[0]??r.initialPageParam:iC(r,u);if(c>0&&P==null)break;u=await k(u,P),c++}while(c<M)}return u};t.options.persister?t.fetchFn=()=>{var E,R;return(R=(E=t.options).persister)==null?void 0:R.call(E,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=h}}}function iC(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function QL(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var $L=(_M=class extends qS{constructor(t){super();bt(this,ss);bt(this,vd);bt(this,os);bt(this,ii);bt(this,Hl);ut(this,vd,t.client),this.mutationId=t.mutationId,ut(this,ii,t.mutationCache),ut(this,os,[]),this.state=t.state||oC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ie(this,os).includes(t)||(ie(this,os).push(t),this.clearGcTimeout(),ie(this,ii).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ut(this,os,ie(this,os).filter(n=>n!==t)),this.scheduleGc(),ie(this,ii).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ie(this,os).length||(this.state.status==="pending"?this.scheduleGc():ie(this,ii).remove(this))}continue(){var t;return((t=ie(this,Hl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,u,c,h,g,m,v,x,w,E,R,S,k,M,P,W,z,Q;const n=()=>{Ut(this,ss,tl).call(this,{type:"continue"})},r={client:ie(this,vd),meta:this.options.meta,mutationKey:this.options.mutationKey};ut(this,Hl,JS({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:($,se)=>{Ut(this,ss,tl).call(this,{type:"failed",failureCount:$,error:se})},onPause:()=>{Ut(this,ss,tl).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ie(this,ii).canRun(this)}));const i=this.state.status==="pending",s=!ie(this,Hl).canStart();try{if(i)n();else{Ut(this,ss,tl).call(this,{type:"pending",variables:t,isPaused:s}),ie(this,ii).config.onMutate&&await ie(this,ii).config.onMutate(t,this,r);const se=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,r));se!==this.state.context&&Ut(this,ss,tl).call(this,{type:"pending",context:se,variables:t,isPaused:s})}const $=await ie(this,Hl).start();return await((h=(c=ie(this,ii).config).onSuccess)==null?void 0:h.call(c,$,t,this.state.context,this,r)),await((m=(g=this.options).onSuccess)==null?void 0:m.call(g,$,t,this.state.context,r)),await((x=(v=ie(this,ii).config).onSettled)==null?void 0:x.call(v,$,null,this.state.variables,this.state.context,this,r)),await((E=(w=this.options).onSettled)==null?void 0:E.call(w,$,null,t,this.state.context,r)),Ut(this,ss,tl).call(this,{type:"success",data:$}),$}catch($){try{await((S=(R=ie(this,ii).config).onError)==null?void 0:S.call(R,$,t,this.state.context,this,r))}catch(se){Promise.reject(se)}try{await((M=(k=this.options).onError)==null?void 0:M.call(k,$,t,this.state.context,r))}catch(se){Promise.reject(se)}try{await((W=(P=ie(this,ii).config).onSettled)==null?void 0:W.call(P,void 0,$,this.state.variables,this.state.context,this,r))}catch(se){Promise.reject(se)}try{await((Q=(z=this.options).onSettled)==null?void 0:Q.call(z,void 0,$,t,this.state.context,r))}catch(se){Promise.reject(se)}throw Ut(this,ss,tl).call(this,{type:"error",error:$}),$}finally{ie(this,ii).runNext(this)}}},vd=new WeakMap,os=new WeakMap,ii=new WeakMap,Hl=new WeakMap,ss=new WeakSet,tl=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ar.batch(()=>{ie(this,os).forEach(r=>{r.onMutationUpdate(t)}),ie(this,ii).notify({mutation:this,type:"updated",action:t})})},_M);function oC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var GL=(jM=class extends Fu{constructor(t={}){super();bt(this,_s);bt(this,Po);bt(this,Ad);this.config=t,ut(this,_s,new Set),ut(this,Po,new Map),ut(this,Ad,0)}build(t,n,r){const i=new $L({client:t,mutationCache:this,mutationId:++Mm(this,Ad)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){ie(this,_s).add(t);const n=vp(t);if(typeof n=="string"){const r=ie(this,Po).get(n);r?r.push(t):ie(this,Po).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ie(this,_s).delete(t)){const n=vp(t);if(typeof n=="string"){const r=ie(this,Po).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&ie(this,Po).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=vp(t);if(typeof n=="string"){const r=ie(this,Po).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=vp(t);if(typeof n=="string"){const i=(r=ie(this,Po).get(n))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ar.batch(()=>{ie(this,_s).forEach(t=>{this.notify({type:"removed",mutation:t})}),ie(this,_s).clear(),ie(this,Po).clear()})}getAll(){return Array.from(ie(this,_s))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>KS(n,r))}findAll(t={}){return this.getAll().filter(n=>KS(t,n))}notify(t){Ar.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ar.batch(()=>Promise.all(t.map(n=>n.continue().catch(pi))))}},_s=new WeakMap,Po=new WeakMap,Ad=new WeakMap,jM);function vp(e){var t;return(t=e.options.scope)==null?void 0:t.id}var VL=(zM=class extends Fu{constructor(n,r){super();bt(this,Hs);bt(this,js);bt(this,Pa);bt(this,Bi);bt(this,zs);ut(this,js,n),this.setOptions(r),this.bindMethods(),Ut(this,Hs,Rm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=ie(this,js).defaultMutationOptions(n),mp(this.options,r)||ie(this,js).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ie(this,Bi),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Al(r.mutationKey)!==Al(this.options.mutationKey)?this.reset():((i=ie(this,Bi))==null?void 0:i.state.status)==="pending"&&ie(this,Bi).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ie(this,Bi))==null||n.removeObserver(this)}onMutationUpdate(n){Ut(this,Hs,Rm).call(this),Ut(this,Hs,xb).call(this,n)}getCurrentResult(){return ie(this,Pa)}reset(){var n;(n=ie(this,Bi))==null||n.removeObserver(this),ut(this,Bi,void 0),Ut(this,Hs,Rm).call(this),Ut(this,Hs,xb).call(this)}mutate(n,r){var i;return ut(this,zs,r),(i=ie(this,Bi))==null||i.removeObserver(this),ut(this,Bi,ie(this,js).getMutationCache().build(ie(this,js),this.options)),ie(this,Bi).addObserver(this),ie(this,Bi).execute(n)}},js=new WeakMap,Pa=new WeakMap,Bi=new WeakMap,zs=new WeakMap,Hs=new WeakSet,Rm=function(){var r;const n=((r=ie(this,Bi))==null?void 0:r.state)??oC();ut(this,Pa,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},xb=function(n){Ar.batch(()=>{var r,i,s,l,u,c,h,g;if(ie(this,zs)&&this.hasListeners()){const m=ie(this,Pa).variables,v=ie(this,Pa).context,x={client:ie(this,js),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(i=(r=ie(this,zs)).onSuccess)==null||i.call(r,n.data,m,v,x)}catch(w){Promise.reject(w)}try{(l=(s=ie(this,zs)).onSettled)==null||l.call(s,n.data,null,m,v,x)}catch(w){Promise.reject(w)}}else if((n==null?void 0:n.type)==="error"){try{(c=(u=ie(this,zs)).onError)==null||c.call(u,n.error,m,v,x)}catch(w){Promise.reject(w)}try{(g=(h=ie(this,zs)).onSettled)==null||g.call(h,void 0,n.error,m,v,x)}catch(w){Promise.reject(w)}}}this.listeners.forEach(m=>{m(ie(this,Pa))})})},zM),YL=(HM=class extends Fu{constructor(t={}){super();bt(this,as);this.config=t,ut(this,as,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??$v(i,n);let l=this.get(s);return l||(l=new HL({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){ie(this,as).has(t.queryHash)||(ie(this,as).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ie(this,as).get(t.queryHash);n&&(t.destroy(),n===t&&ie(this,as).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ar.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ie(this,as).get(t)}getAll(){return[...ie(this,as).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>WS(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>WS(t,r)):n}notify(t){Ar.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ar.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ar.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},as=new WeakMap,HM),JL=(UM=class{constructor(e={}){bt(this,Yn);bt(this,Fa);bt(this,Ba);bt(this,lc);bt(this,uc);bt(this,Na);bt(this,cc);bt(this,fc);ut(this,Yn,e.queryCache||new YL),ut(this,Fa,e.mutationCache||new GL),ut(this,Ba,e.defaultOptions||{}),ut(this,lc,new Map),ut(this,uc,new Map),ut(this,Na,0)}mount(){Mm(this,Na)._++,ie(this,Na)===1&&(ut(this,cc,qv.subscribe(async e=>{e&&(await this.resumePausedMutations(),ie(this,Yn).onFocus())})),ut(this,fc,yp.subscribe(async e=>{e&&(await this.resumePausedMutations(),ie(this,Yn).onOnline())})))}unmount(){var e,t;Mm(this,Na)._--,ie(this,Na)===0&&((e=ie(this,cc))==null||e.call(this),ut(this,cc,void 0),(t=ie(this,fc))==null||t.call(this),ut(this,fc,void 0))}isFetching(e){return ie(this,Yn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ie(this,Fa).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ie(this,Yn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ie(this,Yn).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ba(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return ie(this,Yn).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=ie(this,Yn).get(r.queryHash),s=i==null?void 0:i.state.data,l=RL(t,s);if(l!==void 0)return ie(this,Yn).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return Ar.batch(()=>ie(this,Yn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ie(this,Yn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ie(this,Yn);Ar.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ie(this,Yn);return Ar.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ar.batch(()=>ie(this,Yn).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(pi).catch(pi)}invalidateQueries(e,t={}){return Ar.batch(()=>(ie(this,Yn).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ar.batch(()=>ie(this,Yn).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(pi)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(pi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ie(this,Yn).build(this,t);return n.isStaleByTime(ba(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(pi).catch(pi)}fetchInfiniteQuery(e){return e.behavior=rC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(pi).catch(pi)}ensureInfiniteQueryData(e){return e.behavior=rC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return yp.isOnline()?ie(this,Fa).resumePausedMutations():Promise.resolve()}getQueryCache(){return ie(this,Yn)}getMutationCache(){return ie(this,Fa)}getDefaultOptions(){return ie(this,Ba)}setDefaultOptions(e){ut(this,Ba,e)}setQueryDefaults(e,t){ie(this,lc).set(Al(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ie(this,lc).values()],n={};return t.forEach(r=>{Rf(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){ie(this,uc).set(Al(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ie(this,uc).values()],n={};return t.forEach(r=>{Rf(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ie(this,Ba).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=$v(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Yv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ie(this,Ba).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ie(this,Yn).clear(),ie(this,Fa).clear()}},Yn=new WeakMap,Fa=new WeakMap,Ba=new WeakMap,lc=new WeakMap,uc=new WeakMap,Na=new WeakMap,cc=new WeakMap,fc=new WeakMap,UM),sC=H.createContext(void 0),aC=e=>{const t=H.useContext(sC);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},qL=({client:e,children:t})=>(H.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),T.jsx(sC.Provider,{value:e,children:t})),lC=H.createContext(!1),ZL=()=>H.useContext(lC);lC.Provider;function XL(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var eP=H.createContext(XL()),tP=()=>H.useContext(eP),nP=(e,t,n)=>{const r=n!=null&&n.state.error&&typeof e.throwOnError=="function"?Jv(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},rP=e=>{H.useEffect(()=>{e.clearReset()},[e])},iP=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||Jv(n,[e.error,r])),oP=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},sP=(e,t)=>e.isLoading&&e.isFetching&&!t,aP=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,uC=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function lP(e,t,n){var v,x,w,E;const r=ZL(),i=tP(),s=aC(),l=s.defaultQueryOptions(e);(x=(v=s.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||x.call(v,l);const u=s.getQueryCache().get(l.queryHash);l._optimisticResults=r?"isRestoring":"optimistic",oP(l),nP(l,i,u),rP(i);const c=!s.getQueryCache().get(l.queryHash),[h]=H.useState(()=>new t(s,l)),g=h.getOptimisticResult(l),m=!r&&e.subscribed!==!1;if(H.useSyncExternalStore(H.useCallback(R=>{const S=m?h.subscribe(Ar.batchCalls(R)):pi;return h.updateResult(),S},[h,m]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),H.useEffect(()=>{h.setOptions(l)},[l,h]),aP(l,g))throw uC(l,h,i);if(iP({result:g,errorResetBoundary:i,throwOnError:l.throwOnError,query:u,suspense:l.suspense}))throw g.error;if((E=(w=s.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||E.call(w,l,g),l.experimental_prefetchInRender&&!vl&&sP(g,r)){const R=c?uC(l,h,i):u==null?void 0:u.promise;R==null||R.catch(pi).finally(()=>{h.updateResult()})}return l.notifyOnChangeProps?g:h.trackResult(g)}function cC(e,t){return lP(e,UL)}function fC(e,t){const n=aC(),[r]=H.useState(()=>new VL(n,e));H.useEffect(()=>{r.setOptions(e)},[r,e]);const i=H.useSyncExternalStore(H.useCallback(l=>r.subscribe(Ar.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=H.useCallback((l,u)=>{r.mutate(l,u).catch(pi)},[r]);if(i.error&&Jv(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const uP={text:{primary:{light:"oklch(24.8% 0.006 271.2)",dark:"oklch(93.6% 0.005 258.4)"},secondary:{light:"oklch(49.8% 0.009 254.0)",dark:"oklch(70.3% 0.011 248.1)"},tertiary:{light:"oklch(61.7% 0.010 243.0)",dark:"oklch(79.1% 0.008 260.8)"},disabled:{light:"oklch(70.3% 0.011 248.1)",dark:"oklch(53.8% 0 0)"}},bg:{primary:{light:"oklch(100.0% 0 0)",dark:"oklch(23.5% 0 0)"},secondary:{light:"oklch(97.0% 0 0)",dark:"oklch(26.5% 0.002 286.0)"},tertiary:{light:"oklch(98.2% 0.002 248.6)",dark:"oklch(29.8% 0.005 286.0)"},selected:{light:"oklch(95.3% 0.021 261.8)",dark:"oklch(34.2% 0.071 251.9)"},hover:{light:"oklch(91.9% 0 0)",dark:"oklch(32.1% 0 0)"},listPanel:{light:"oklch(100.0% 0 0)",dark:"oklch(29.8% 0.005 286.0)"},card:{light:"oklch(95.8% 0.003 264.5)",dark:"oklch(23.5% 0 0)"}},border:{primary:{light:"oklch(90.7% 0 0)",dark:"oklch(37.1% 0 0)"},subtle:{light:"oklch(89.4% 0.006 264.5)",dark:"oklch(34.1% 0 0)"},strong:{light:"oklch(79.8% 0 0)",dark:"oklch(43.1% 0 0)"},active:{light:"oklch(57.4% 0.195 257.9)",dark:"oklch(76.6% 0.108 259.8)"}},primary:{main:{light:"oklch(57.4% 0.195 257.9)",dark:"oklch(76.6% 0.108 259.8)"},hover:{light:"oklch(47.0% 0.156 257.9)",dark:"oklch(83.7% 0.073 260.0)"},text:{light:"oklch(57.4% 0.195 257.9)",dark:"oklch(76.6% 0.108 259.8)"}},accent:{border:{light:"oklch(58.5% 0.204 277.1)",dark:"oklch(68.0% 0.158 276.9)"},borderSelected:{light:"oklch(37.3% 0.031 259.7)",dark:"oklch(87.0% 0.062 274.0)"},bg:{light:"oklch(93.0% 0.034 272.8)",dark:"oklch(25.7% 0.086 281.3)"}},agent:{border:{light:"oklch(71.4% 0.019 261.3)",dark:"oklch(55.1% 0.023 264.4)"},borderSelected:{light:"oklch(37.3% 0.031 259.7)",dark:"oklch(87.2% 0.009 258.4)"}},success:{bg:{light:"oklch(95.4% 0.020 155.1)",dark:"oklch(32.2% 0.040 166.8)"},border:{light:"oklch(64.8% 0.160 148.5)",dark:"oklch(77.4% 0.104 152.2)"},text:{light:"oklch(52.2% 0.140 147.0)",dark:"oklch(77.4% 0.104 152.2)"}},error:{bg:{light:"oklch(94.6% 0.022 24.3)",dark:"oklch(28.1% 0.044 20.1)"},border:{light:"oklch(57.8% 0.206 29.0)",dark:"oklch(74.5% 0.127 25.8)"},text:{light:"oklch(57.8% 0.206 29.0)",dark:"oklch(74.5% 0.127 25.8)"}},warning:{main:{light:"oklch(79.7% 0.167 76.0)",dark:"oklch(88.8% 0.139 90.6)"}},shadow:{subtle:{light:"oklch(0% 0 0 / 0.05)",dark:"oklch(0% 0 0 / 0.3)"},menu:{light:"oklch(0% 0 0 / 0.15)",dark:"oklch(0% 0 0 / 0.4)"},modal:{light:"oklch(0% 0 0 / 0.3)",dark:"oklch(0% 0 0 / 0.6)"}},buttonText:{onPrimary:{light:"oklch(100.0% 0 0)",dark:"oklch(23.5% 0 0)"}}};function cP(e,t,n){const i=uP[e][t];if(!i)throw new Error(`Unknown color: ${e}.${t}`);return i[n]}const dC=H.createContext(null),Tf="quillmonkey_theme_mode";function fP({children:e}){const[t,n]=H.useState("dark"),[r,i]=H.useState(!1);H.useEffect(()=>{chrome.storage.local.get([Tf],h=>{(h[Tf]==="dark"||h[Tf]==="light")&&n(h[Tf]),i(!0)})},[]);const s=H.useCallback(h=>{n(h),chrome.storage.local.set({[Tf]:h})},[]);H.useEffect(()=>{t==="dark"?document.body.classList.add("dark"):document.body.classList.remove("dark")},[t]);const l=H.useCallback(()=>{s(t==="light"?"dark":"light")},[t,s]),u=H.useCallback((h,g)=>cP(h,g,t),[t]),c={mode:t,setMode:s,toggleMode:l,c:u};return r?T.jsx(dC.Provider,{value:c,children:e}):null}function Tt(){const e=H.useContext(dC);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}const hC={baseSize:13,uiFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, sans-serif',codeFamily:"monospace"};function dP(e,t){return{xs:t-2,sm:t-1,base:t,md:t+1,lg:t+3,xl:t+11}[e]}function hP(e,t){return e==="ui"?t.uiFamily:t.codeFamily}function pP(e){return{light:300,normal:400,medium:500,semibold:600,bold:700}[e]}const pC=H.createContext(null);function gP({children:e}){const t=H.useCallback(s=>`${dP(s,hC.baseSize)}px`,[]),n=H.useCallback(s=>hP(s,hC),[]),r=H.useCallback(s=>pP(s),[]),i={fs:t,ff:n,fw:r};return T.jsx(pC.Provider,{value:i,children:e})}function _t(){const e=H.useContext(pC);if(!e)throw new Error("useFonts must be used within a FontProvider");return e}const Of={value:"anthropic/claude-opus-4.5",label:"Claude Opus 4.5"},Ds="https://backend.quillmonkey.com",mP=()=>chrome.runtime.getManifest().version;let nA=null,rA=null;function Ap(e){nA=e}function gC(e){rA=e}const Lf=()=>{const e={"Content-Type":"application/json","X-Extension-Version":mP()};return rA&&(e["X-Install-Id"]=rA),nA&&(e.Authorization=`Bearer ${nA}`),e},yP=`${Ds}/api/v1/context`,iA={...{context:`${Ds}/api/v1/context`,chat:`${Ds}/api/v1/chat`,vision:`${Ds}/api/v1/vision`,audio:`${Ds}/api/v1/audio`,fetchPage:`${Ds}/api/v1/fetchPage`,authGoogle:`${Ds}/api/auth/google`,authMe:`${Ds}/api/auth/me`}};function xl(){return iA}function vP(e){for(const[t,n]of Object.entries(e))t in iA&&(iA[t]=`${Ds}${n}`)}async function AP(){return(await fetch(yP)).json()}const mC=H.createContext({models:[],defaultModel:Of.value,isLoading:!0});function xP({children:e}){var l;const t=H.useRef(!1),{data:n,isLoading:r}=cC({queryKey:["backend-context"],queryFn:AP,staleTime:1/0});H.useEffect(()=>{n!=null&&n.endpoints&&!t.current&&(vP(n.endpoints),t.current=!0)},[n==null?void 0:n.endpoints]);const i=((l=n==null?void 0:n.models)==null?void 0:l.map(u=>({value:u.value,label:u.label})))??[],s=(n==null?void 0:n.defaultModel)??Of.value;return T.jsx(mC.Provider,{value:{models:i,defaultModel:s,isLoading:r},children:e})}function bP(){return H.useContext(mC)}var yC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vC=tr.createContext&&tr.createContext(yC),wP=["attr","size","title"];function SP(e,t){if(e==null)return{};var n=CP(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function CP(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xp.apply(this,arguments)}function AC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(n),!0).forEach(function(r){kP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kP(e,t,n){return t=IP(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IP(e){var t=EP(e,"string");return typeof t=="symbol"?t:t+""}function EP(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xC(e){return e&&e.map((t,n)=>tr.createElement(t.tag,bp({key:n},t.attr),xC(t.child)))}function rn(e){return t=>tr.createElement(DP,xp({attr:bp({},e.attr)},t),xC(e.child))}function DP(e){var t=n=>{var{attr:r,size:i,title:s}=e,l=SP(e,wP),u=i||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),tr.createElement("svg",xp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:c,style:bp(bp({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&tr.createElement("title",null,s),e.children)};return vC!==void 0?tr.createElement(vC.Consumer,null,n=>t(n)):t(yC)}function MP(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288m144-144H112"},child:[]}]})(e)}function bC(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm0 319.91a20 20 0 1 1 20-20 20 20 0 0 1-20 20zm21.72-201.15-5.74 122a16 16 0 0 1-32 0l-5.74-121.94v-.05a21.74 21.74 0 1 1 43.44 0z"},child:[]}]})(e)}function RP(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M244 400 100 256l144-144M120 256h292"},child:[]}]})(e)}function TP(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"272",r:"64"},child:[]},{tag:"path",attr:{d:"M432 144h-59c-3 0-6.72-1.94-9.62-5l-25.94-40.94a15.52 15.52 0 0 0-1.37-1.85C327.11 85.76 315 80 302 80h-92c-13 0-25.11 5.76-34.07 16.21a15.52 15.52 0 0 0-1.37 1.85l-25.94 41c-2.22 2.42-5.34 5-8.62 5v-8a16 16 0 0 0-16-16h-24a16 16 0 0 0-16 16v8h-4a48.05 48.05 0 0 0-48 48V384a48.05 48.05 0 0 0 48 48h352a48.05 48.05 0 0 0 48-48V192a48.05 48.05 0 0 0-48-48zM256 368a96 96 0 1 1 96-96 96.11 96.11 0 0 1-96 96z"},child:[]}]})(e)}function wC(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M416 128 192 384l-96-96"},child:[]}]})(e)}function OP(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m112 184 144 144 144-144"},child:[]}]})(e)}function bl(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(e)}function LP(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8-69 0-113.44 45.79-128 91.2-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m320 255.79-64-64-64 64m64 192.42V207.79"},child:[]}]})(e)}function PP(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M160 368 32 256l128-112m192 224 128-112-128-112m-48-48-96 320"},child:[]}]})(e)}function SC(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"336",height:"336",x:"128",y:"128",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"57",ry:"57"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m383.5 128 .5-24a56.16 56.16 0 0 0-56-56H112a64.19 64.19 0 0 0-64 64v216a56.16 56.16 0 0 0 56 56h24"},child:[]}]})(e)}function FP(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336 176h40a40 40 0 0 1 40 40v208a40 40 0 0 1-40 40H136a40 40 0 0 1-40-40V216a40 40 0 0 1 40-40h40"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m176 272 80 80 80-80M256 48v288"},child:[]}]})(e)}function BP(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"256",r:"48"},child:[]},{tag:"circle",attr:{cx:"256",cy:"416",r:"48"},child:[]},{tag:"circle",attr:{cx:"256",cy:"96",r:"48"},child:[]}]})(e)}function CC(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M32 144h448M112 256h288M208 368h96"},child:[]}]})(e)}function NP(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48z"},child:[]},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 48c-58.07 0-112.67 93.13-112.67 208S197.93 464 256 464s112.67-93.13 112.67-208S314.07 48 256 48z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M117.33 117.33c38.24 27.15 86.38 43.34 138.67 43.34s100.43-16.19 138.67-43.34m0 277.34c-38.24-27.15-86.38-43.34-138.67-43.34s-100.43 16.19-138.67 43.34"},child:[]},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 48v416m208-208H48"},child:[]}]})(e)}function kC(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"416",height:"352",x:"48",y:"80",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"48",ry:"48"},child:[]},{tag:"circle",attr:{cx:"336",cy:"176",r:"32",fill:"none",strokeMiterlimit:"10",strokeWidth:"32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m304 335.79-90.66-90.49a32 32 0 0 0-43.87-1.3L48 352m176 80 123.34-123.34a32 32 0 0 1 43.11-2L464 368"},child:[]}]})(e)}function _P(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M160 144h288M160 256h288M160 368h288"},child:[]},{tag:"circle",attr:{cx:"80",cy:"144",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"80",cy:"256",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"80",cy:"368",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]}]})(e)}function jP(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336 112a80 80 0 0 0-160 0v96"},child:[]},{tag:"rect",attr:{width:"320",height:"272",x:"96",y:"208",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",rx:"48",ry:"48"},child:[]}]})(e)}function zP(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M192 448h128m64-240v32c0 70.4-57.6 128-128 128h0c-70.4 0-128-57.6-128-128v-32m128 160v80"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 64a63.68 63.68 0 0 0-64 64v111c0 35.2 29 65 64 65s64-29 64-65V128c0-36-28-64-64-64z"},child:[]}]})(e)}function HP(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M384 224v184a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V168a40 40 0 0 1 40-40h167.48M336 64h112v112M224 288 440 72"},child:[]}]})(e)}function IC(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M112 111v290c0 17.44 17 28.52 31 20.16l247.9-148.37c12.12-7.25 12.12-26.33 0-33.58L143 90.84c-14-8.36-31 2.72-31 20.16z"},child:[]}]})(e)}function UP(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M320 146s24.36-12-64-12a160 160 0 1 0 160 160"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m256 58 80 80-80 80"},child:[]}]})(e)}function WP(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M221.09 64a157.09 157.09 0 1 0 157.09 157.09A157.1 157.1 0 0 0 221.09 64z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M338.29 338.29 448 448"},child:[]}]})(e)}function wl(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(e)}function EC(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M262.29 192.31a64 64 0 1 0 57.4 57.4 64.13 64.13 0 0 0-57.4-57.4zM416.39 256a154.34 154.34 0 0 1-1.53 20.79l45.21 35.46a10.81 10.81 0 0 1 2.45 13.75l-42.77 74a10.81 10.81 0 0 1-13.14 4.59l-44.9-18.08a16.11 16.11 0 0 0-15.17 1.75A164.48 164.48 0 0 1 325 400.8a15.94 15.94 0 0 0-8.82 12.14l-6.73 47.89a11.08 11.08 0 0 1-10.68 9.17h-85.54a11.11 11.11 0 0 1-10.69-8.87l-6.72-47.82a16.07 16.07 0 0 0-9-12.22 155.3 155.3 0 0 1-21.46-12.57 16 16 0 0 0-15.11-1.71l-44.89 18.07a10.81 10.81 0 0 1-13.14-4.58l-42.77-74a10.8 10.8 0 0 1 2.45-13.75l38.21-30a16.05 16.05 0 0 0 6-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 0 0-6.07-13.94l-38.19-30A10.81 10.81 0 0 1 49.48 186l42.77-74a10.81 10.81 0 0 1 13.14-4.59l44.9 18.08a16.11 16.11 0 0 0 15.17-1.75A164.48 164.48 0 0 1 187 111.2a15.94 15.94 0 0 0 8.82-12.14l6.73-47.89A11.08 11.08 0 0 1 213.23 42h85.54a11.11 11.11 0 0 1 10.69 8.87l6.72 47.82a16.07 16.07 0 0 0 9 12.22 155.3 155.3 0 0 1 21.46 12.57 16 16 0 0 0 15.11 1.71l44.89-18.07a10.81 10.81 0 0 1 13.14 4.58l42.77 74a10.8 10.8 0 0 1-2.45 13.75l-38.21 30a16.05 16.05 0 0 0-6.05 14.08c.33 4.14.55 8.3.55 12.47z"},child:[]}]})(e)}function KP(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336 176 225.2 304 176 255.8"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M463.1 112.37C373.68 96.33 336.71 84.45 256 48c-80.71 36.45-117.68 48.33-207.1 64.37C32.7 369.13 240.58 457.79 256 464c15.42-6.21 223.3-94.87 207.1-351.63z"},child:[]}]})(e)}function QP(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"},child:[]},{tag:"path",attr:{d:"M310.4 336H201.6a25.62 25.62 0 0 1-25.6-25.6V201.6a25.62 25.62 0 0 1 25.6-25.6h108.8a25.62 25.62 0 0 1 25.6 25.6v108.8a25.62 25.62 0 0 1-25.6 25.6z"},child:[]}]})(e)}function $P(e){return rn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m112 112 20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M80 112h352"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M192 112V72h0a23.93 23.93 0 0 1 24-24h80a23.93 23.93 0 0 1 24 24h0v40m-64 64v224m-72-224 8 224m136-224-8 224"},child:[]}]})(e)}function GP(e){return rn({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"},child:[]}]})(e)}function VP(e){return rn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.828.722a.5.5 0 0 1 .354.146l4.95 4.95a.5.5 0 0 1 0 .707c-.48.48-1.072.588-1.503.588-.177 0-.335-.018-.46-.039l-3.134 3.134a6 6 0 0 1 .16 1.013c.046.702-.032 1.687-.72 2.375a.5.5 0 0 1-.707 0l-2.829-2.828-3.182 3.182c-.195.195-1.219.902-1.414.707s.512-1.22.707-1.414l3.182-3.182-2.828-2.829a.5.5 0 0 1 0-.707c.688-.688 1.673-.767 2.375-.72a6 6 0 0 1 1.013.16l3.134-3.133a3 3 0 0 1-.04-.461c0-.43.108-1.022.589-1.503a.5.5 0 0 1 .353-.146"},child:[]}]})(e)}function wp(e){const t=new Date(e),r=new Date().getTime()-t.getTime(),i=Math.floor(r/6e4);if(i<1)return"just now";if(i<60)return`${i}m ago`;const s=Math.floor(i/60);return s<24?`${s}h ago`:`${Math.floor(s/24)}d ago`}function DC({onCancel:e,onConfirm:t,message:n}){const{c:r}=Tt(),{fs:i}=_t();return T.jsxs("div",{style:{position:"absolute",bottom:"100%",right:0,marginBottom:"8px",padding:"12px 16px",backgroundColor:r("bg","secondary"),border:`1px solid ${r("border","primary")}`,borderRadius:"8px",boxShadow:"0 4px 12px oklch(0% 0 0 / 0.3)",display:"flex",flexDirection:"column",gap:"10px",zIndex:10},children:[T.jsx("span",{style:{fontSize:i("base"),color:r("text","primary")},children:n}),T.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[T.jsx("button",{onMouseDown:e,style:{padding:"6px 14px",fontSize:i("sm"),backgroundColor:"transparent",color:r("text","secondary"),border:`1px solid ${r("border","primary")}`,borderRadius:"4px",cursor:"pointer"},children:"Cancel"}),T.jsx("button",{onMouseDown:t,style:{padding:"6px 14px",fontSize:i("sm"),backgroundColor:r("error","text"),color:"oklch(100% 0 0)",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Delete"})]})]})}function MC({isPinned:e,onPin:t,onRenameStart:n,onDelete:r,onExport:i,onClone:s,onHoverChange:l}){const{c:u}=Tt(),{fs:c}=_t(),[h,g]=H.useState(!1),[m,v]=H.useState(null),[x,w]=H.useState(!1),[E,R]=H.useState({top:0,right:0}),[S,k]=H.useState(!1),M=H.useRef(null),P=H.useRef(null),W=H.useRef(null);H.useEffect(()=>{if(!h)return;const Q=$=>{var F,Y;const se=$.target;(F=M.current)!=null&&F.contains(se)||(Y=P.current)!=null&&Y.contains(se)||(k(!1),g(!1))};return document.addEventListener("mousedown",Q),()=>document.removeEventListener("mousedown",Q)},[h]);const z=Q=>{if(Q.stopPropagation(),!h&&M.current){const $=M.current.getBoundingClientRect();R({top:$.bottom+2,right:window.innerWidth-$.right})}h&&k(!1),g(!h)};return T.jsxs("div",{style:{position:"relative"},children:[T.jsx("button",{ref:M,onMouseDown:z,onMouseEnter:()=>{w(!0),l==null||l(!0)},onMouseLeave:()=>{w(!1),l==null||l(!1)},style:{background:x?u("bg","hover"):"none",border:"none",cursor:"pointer",padding:"4px",width:"24px",height:"24px",color:u("text","secondary"),borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"},children:T.jsx(BP,{size:14})}),h&&Kv.createPortal(T.jsxs("div",{ref:P,onMouseDown:Q=>Q.stopPropagation(),style:{position:"fixed",top:E.top,right:E.right,backgroundColor:u("bg","primary"),border:`1px solid ${u("border","primary")}`,borderRadius:"4px",boxShadow:`0 2px 8px ${u("shadow","menu")}`,zIndex:1e4,minWidth:"120px"},children:[[{label:e?"Unpin chat":"Pin chat",action:t},{label:"Rename chat",action:n},{label:"Export chat",action:i},{label:"Clone chat",action:s}].map((Q,$)=>T.jsx("div",{onMouseDown:()=>{Q.action(),g(!1)},onMouseEnter:()=>v($),onMouseLeave:()=>v(null),style:{padding:"8px 16px",cursor:"pointer",fontSize:c("base"),color:u("text","primary"),backgroundColor:m===$?u("bg","hover"):u("bg","primary")},children:Q.label},Q.label)),T.jsxs("div",{ref:W,onMouseDown:()=>!S&&k(!0),onMouseEnter:()=>v(4),onMouseLeave:()=>v(null),style:{padding:"8px 16px",cursor:"pointer",fontSize:c("base"),color:u("text","primary"),backgroundColor:m===4&&!S?u("bg","hover"):u("bg","primary"),position:"relative"},children:["Delete chat",S&&T.jsx(DC,{message:"Delete this chat?",onCancel:()=>k(!1),onConfirm:()=>{r(),g(!1)}})]})]}),document.body)]})}const YP={"extra-fast":50,fast:100,medium:250,slow:400},Pf=H.memo(function({size:t="default",speed:n="fast",numDots:r=3}){const{c:i}=Tt(),[s,l]=H.useState(0);H.useEffect(()=>{const c=setInterval(()=>{l(h=>(h+1)%(r+1))},YP[n]);return()=>clearInterval(c)},[n,r]);const u={inline:{wrapper:{display:"inline"},inner:{padding:"0",fontSize:"inherit",letterSpacing:"1px"},dotColor:"inherit"},small:{wrapper:{display:"inline"},inner:{padding:"0",fontSize:"4px",letterSpacing:"2px"},dotColor:i("text","disabled")},default:{wrapper:{alignSelf:"flex-start",display:"block"},inner:{padding:"8px 10px 8px 14px",fontSize:"6px",letterSpacing:"3px"},dotColor:i("text","disabled")}}[t];return T.jsx("span",{style:u.wrapper,children:T.jsx("span",{style:{...u.inner,borderRadius:"18px",display:"inline-block"},children:Array.from({length:r}).map((c,h)=>h).map(c=>T.jsx("span",{style:{color:c<s?u.dotColor:"transparent"},children:""},c))})})}),JP=H.memo(function({conversation:t,isRenaming:n,renameValue:r,onRenameValueChange:i,onRenameSubmit:s,onRenameCancel:l,onRenameStart:u,onSelect:c,onTogglePin:h,onDelete:g,onExport:m,onClone:v}){var k,M;const{c:x}=Tt(),{fs:w,fw:E}=_t(),R=H.useRef(null);H.useEffect(()=>{if(n&&R.current){const P=setTimeout(()=>{var W,z;(W=R.current)==null||W.focus(),(z=R.current)==null||z.select()},0);return()=>clearTimeout(P)}},[n]);const S=P=>{P.key==="Enter"?s():P.key==="Escape"&&l()};return T.jsxs("div",{className:"conversation-item",style:{margin:"0px",padding:"12px 16px",marginBottom:"10px",cursor:"pointer",position:"relative",backgroundColor:x("bg","card")},onMouseDown:c,children:[T.jsxs("div",{style:{fontSize:w("md"),fontWeight:E("medium"),color:x("text","primary"),marginBottom:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",paddingRight:"32px",display:"flex",alignItems:"center",gap:"6px"},children:[t.isPinned&&T.jsx(VP,{style:{fontSize:w("sm"),color:x("text","secondary"),flexShrink:0}}),(k=t.icons)==null?void 0:k.map((P,W)=>T.jsx("img",{src:P,alt:"",style:{width:"14px",height:"14px",flexShrink:0,borderRadius:"2px"}},W)),n?T.jsx("input",{ref:R,type:"text",value:r,onChange:P=>i(P.target.value),onKeyDown:S,onBlur:s,onMouseDown:P=>P.stopPropagation(),style:{flex:1,padding:"2px 6px",fontSize:w("md"),border:`1px solid ${x("border","active")}`,borderRadius:"4px",outline:"none",backgroundColor:x("bg","primary"),color:x("text","primary")}}):T.jsx("span",{style:{flex:1},children:t.title})]}),T.jsx("div",{style:{fontSize:w("sm"),color:x("text","secondary"),whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",paddingRight:"32px"},children:(M=t.agentState)!=null&&M.isRunning?T.jsx(Pf,{size:"small"}):t.preview||"No messages yet"}),T.jsx("div",{style:{fontSize:w("xs"),color:x("text","tertiary"),marginTop:"4px"},children:wp(t.updatedAt)}),T.jsx("div",{style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)"},onMouseDown:P=>P.stopPropagation(),children:T.jsx(MC,{isPinned:t.isPinned||!1,onPin:h,onRenameStart:u,onDelete:g,onExport:m,onClone:v})})]})});function RC(e){return rn({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{opacity:"0.2",fillRule:"evenodd",clipRule:"evenodd",d:"M12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z",fill:"currentColor"},child:[]}]})(e)}function qP({searchQuery:e,setSearchQuery:t,onSearch:n,onClear:r,isSearching:i,filteredCount:s,totalCount:l,hasActiveSearch:u,titleFilter:c,setTitleFilter:h,onlyThisPage:g,setOnlyThisPage:m,showAdvancedFilter:v,setShowAdvancedFilter:x}){const{c:w}=Tt(),{fs:E}=_t(),R=M=>{M.key==="Enter"&&n()},S={display:"flex",alignItems:"center",backgroundColor:w("bg","primary"),border:`1px solid ${w("border","primary")}`,padding:"0 8px",height:"32px",boxSizing:"border-box"},k={flex:1,border:"none",outline:"none",fontSize:E("base"),backgroundColor:"transparent",color:w("text","primary")};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{marginBottom:"16px",display:"flex",gap:"8px",alignItems:"flex-start",...v&&{padding:"12px",backgroundColor:w("bg","tertiary"),border:`1px solid ${w("border","primary")}`}},children:[T.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"10px"},children:[T.jsxs("div",{style:S,children:[T.jsx(wl,{size:16,style:{color:w("text","secondary"),marginRight:"8px",flexShrink:0}}),T.jsx("input",{type:"text",value:e,onChange:M=>t(M.target.value),onKeyDown:R,placeholder:"Search chats",style:k}),(u||i)&&T.jsx("button",{onMouseDown:r,style:{background:"none",border:"none",cursor:"pointer",padding:"2px",marginLeft:"4px",flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",color:w("text","tertiary")},title:"Clear search",children:T.jsx(bl,{size:14})}),!v&&T.jsx("button",{onMouseDown:n,disabled:i,style:{background:"none",border:"none",cursor:i?"default":"pointer",padding:"2px",marginLeft:"4px",flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",opacity:i?.5:1},children:i?T.jsx(RC,{size:16,style:{color:w("text","secondary"),animation:"spin 1s linear infinite"}}):T.jsx(wl,{size:16,style:{color:w("text","secondary")}})})]}),v&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:S,children:[T.jsx(wl,{size:16,style:{color:w("text","secondary"),marginRight:"8px",flexShrink:0}}),T.jsx("input",{type:"text",value:c,onChange:M=>h(M.target.value),placeholder:"Search chat name",style:k})]}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",fontSize:E("base"),color:w("text","secondary")},children:[T.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[T.jsx("input",{type:"checkbox",checked:g,onChange:M=>m(M.target.checked),style:{marginRight:"6px"}}),"Only conversations on this page"]}),T.jsx("button",{onMouseDown:n,disabled:i,style:{padding:"0 10px",height:"28px",boxSizing:"border-box",backgroundColor:"transparent",border:`1px solid ${w("border","primary")}`,cursor:i?"default":"pointer",opacity:i?.5:1,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,marginLeft:"auto"},children:i?T.jsx(RC,{size:16,style:{color:w("text","secondary"),animation:"spin 1s linear infinite"}}):T.jsx(wl,{size:16,style:{color:w("text","secondary")}})})]})]})]}),T.jsxs("button",{onMouseDown:()=>x(!v),style:{padding:"0 8px",height:"32px",boxSizing:"border-box",backgroundColor:v?w("bg","selected"):"transparent",color:v?w("primary","text"):w("text","secondary"),border:`1px solid ${w("border","primary")}`,cursor:"pointer",display:"flex",alignItems:"center",flexShrink:0},title:"Advanced filters",children:[T.jsx(CC,{size:16}),!v&&T.jsx("span",{style:{marginLeft:"4px",fontSize:E("sm")},children:"Advanced"})]})]}),u&&T.jsx("div",{style:{marginTop:"4px",marginBottom:"8px",fontSize:E("sm"),color:w("text","secondary")},children:`Showing ${s} of ${l} conversations`})]})}function ZP({activeTab:e,conversations:t,currentTabId:n,createNewConversation:r,selectConversation:i}){const{conversations:s,deleteConversation:l,togglePinConversation:u,renameConversation:c,exportConversation:h,cloneConversation:g,searchConversations:m}=t,{c:v}=Tt(),{fs:x,fw:w}=_t(),[E,R]=H.useState(null),[S,k]=H.useState(""),[M,P]=H.useState(!1),[W,z]=H.useState(""),[Q,$]=H.useState(null),[se,F]=H.useState(!1),Y=H.useRef(!1),[re,J]=H.useState(""),[V,B]=H.useState(!1),[Re,Te]=H.useState(!1),[me,ae]=H.useState(null);H.useEffect(()=>{n&&chrome.tabs.get(n,oe=>{if(oe!=null&&oe.url)try{ae(new URL(oe.url).hostname)}catch{}})},[n]);const N=async()=>{if(!W.trim()){$(null);return}Y.current=!1,F(!0);try{const oe=await m(W);Y.current||$(oe)}finally{Y.current||F(!1)}},de=()=>{Y.current=!0,z(""),$(null),F(!1),J(""),B(!1)},ve=oe=>{R(oe.conversationId),k(oe.title)},G=()=>{E&&S.trim()&&c(E,S.trim()),R(null),k("")},_e=()=>{R(null),k("")},Be=new Map(Q==null?void 0:Q.map(oe=>[oe.conversationId,oe.score])),Ue=[...(Q?s.filter(oe=>Be.has(oe.conversationId)):s).filter(oe=>{var Se;return!(re&&!oe.title.toLowerCase().includes(re.toLowerCase())||V&&me&&!((Se=oe.domains)!=null&&Se.includes(me)))})].sort((oe,Se)=>{if(Q)return(Be.get(oe.conversationId)??1)-(Be.get(Se.conversationId)??1);if(oe.isPinned&&!Se.isPinned)return-1;if(!oe.isPinned&&Se.isPinned)return 1;const Ee=new Date(oe.lastUserInteractionAt??oe.updatedAt).getTime();return new Date(Se.lastUserInteractionAt??Se.updatedAt).getTime()-Ee});return T.jsx("div",{style:{flex:1,overflow:"hidden",flexDirection:"column",display:e==="conversations"?"flex":"none"},id:"conversationsPanel",children:T.jsxs("div",{style:{padding:"20px",overflowY:"auto",flex:1,backgroundColor:v("bg","listPanel")},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[T.jsx("h2",{style:{fontSize:x("lg"),fontWeight:w("light"),color:v("text","primary"),margin:0},children:"All chats"}),T.jsx("button",{onMouseDown:r,onMouseEnter:()=>P(!0),onMouseLeave:()=>P(!1),style:{background:M?v("bg","hover"):"none",border:"none",cursor:"pointer",padding:"6px 12px",fontSize:x("base"),color:v("primary","main"),borderRadius:"4px"},children:"+ Chat"})]}),T.jsx(qP,{searchQuery:W,setSearchQuery:z,onSearch:N,onClear:de,isSearching:se,filteredCount:Ue.length,totalCount:s.length,hasActiveSearch:Q!==null||!!re||V,titleFilter:re,setTitleFilter:J,onlyThisPage:V,setOnlyThisPage:B,showAdvancedFilter:Re,setShowAdvancedFilter:oe=>{Te(oe),oe||(J(""),B(!1))}}),T.jsx("div",{className:"conversations-list",children:Ue.length===0?T.jsx("p",{style:{textAlign:"center",color:v("text","secondary"),padding:"20px"},children:"No conversations yet"}):Ue.map(oe=>T.jsx(JP,{conversation:oe,isRenaming:E===oe.conversationId,renameValue:S,onRenameValueChange:k,onRenameSubmit:G,onRenameCancel:_e,onRenameStart:()=>ve(oe),onSelect:()=>i(oe),onTogglePin:()=>u(oe.conversationId),onDelete:()=>l(oe.conversationId),onExport:()=>h(oe.conversationId),onClone:()=>g(oe.conversationId)},oe.conversationId))})]})})}function XP({model:e}){const{c:t}=Tt(),{fs:n,fw:r}=_t(),[i,s]=H.useState(null),[l,u]=H.useState(null),[c,h]=H.useState(!1),[g,m]=H.useState(!1),v=!i||i.model!==e,x=c?{status:"Testing...",statusClass:"testing"}:v||!l?{status:"",statusClass:"unknown"}:l,w=H.useCallback(async()=>{h(!0);const S={model:e},k=performance.now();try{const M=`${xl().context}?test-model=${encodeURIComponent(e)}`,P=await fetch(M),W=((performance.now()-k)/1e3).toFixed(2);let z;if(!P.ok)z={status:" Connection failed",statusClass:"error"};else{const Q=await P.json();Q.status==="ok"?z={status:` Connection successful (${W}s)`,statusClass:"connected"}:Q.error==="llm_failed"?z={status:" Could not get LLM response: "+Q.message,statusClass:"error"}:z={status:" Connection failed: "+Q.message,statusClass:"error"}}s(S),u(z)}catch(M){s(S),u({status:" Connection failed: "+M.message,statusClass:"error"})}finally{h(!1)}},[e]),E={testing:t("warning","main"),connected:t("success","text"),error:t("error","text"),unknown:t("text","secondary")},R={fontSize:n("base"),fontWeight:r("medium"),color:E[x.statusClass]};return T.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",border:`1px solid ${t("border","primary")}`,borderRadius:"6px",backgroundColor:t("bg","primary"),maxWidth:"300px"},children:[T.jsx("span",{style:{...R,flex:1,fontSize:n("sm")},children:x.status||"Click to test API connection"}),T.jsx("button",{onMouseDown:w,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),style:{padding:"6px 12px",border:`1px solid ${t("border","primary")}`,borderRadius:"6px",cursor:"pointer",fontSize:n("base"),fontWeight:r("medium"),backgroundColor:g?t("bg","hover"):t("bg","primary"),color:t("text","primary"),transition:"background-color 0.15s ease"},children:"Ping"})]})}function Sl({checked:e,onChange:t,label:n,size:r="md"}){const{c:i}=Tt(),{fs:s}=_t(),l=r==="sm"?{width:28,height:16}:{width:36,height:20},u=r==="sm"?12:16,c=2,h=s(r==="sm"?"sm":"md");return T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r==="sm"?"6px":"12px"},children:[n&&T.jsx("span",{style:{fontSize:h,color:i("text","secondary")},children:n}),T.jsx("button",{type:"button",onMouseDown:()=>t(!e),style:{position:"relative",width:`${l.width}px`,height:`${l.height}px`,borderRadius:`${l.height/2}px`,border:"none",backgroundColor:e?i("primary","main"):i("border","primary"),cursor:"pointer",transition:"background-color 0.2s",padding:0,flexShrink:0},children:T.jsx("span",{style:{position:"absolute",top:`${c}px`,left:e?`${l.width-u-c}px`:`${c}px`,width:`${u}px`,height:`${u}px`,borderRadius:"50%",backgroundColor:i("bg","primary"),transition:"left 0.2s",boxShadow:"0 1px 3px oklch(0% 0 0 / 0.2)"}})})]})}function Cl(e){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}function eF(e,t){if(Cl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TC(e){var t=eF(e,"string");return Cl(t)=="symbol"?t:t+""}function kl(e,t,n){return(t=TC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OC(Object(n),!0).forEach(function(r){kl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tF(e){if(Array.isArray(e))return e}function nF(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,l,u=[],c=!0,h=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(g){h=!0,i=g}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return u}}function oA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function LC(e,t){if(e){if(typeof e=="string")return oA(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oA(e,t):void 0}}function rF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ms(e,t){return tF(e)||nF(e,t)||LC(e,t)||rF()}function iF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $o(e,t){if(e==null)return{};var n,r,i=iF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var oF=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function sF(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,i=r===void 0?!1:r,s=e.defaultValue,l=s===void 0?null:s,u=e.inputValue,c=e.menuIsOpen,h=e.onChange,g=e.onInputChange,m=e.onMenuClose,v=e.onMenuOpen,x=e.value,w=$o(e,oF),E=H.useState(u!==void 0?u:n),R=Ms(E,2),S=R[0],k=R[1],M=H.useState(c!==void 0?c:i),P=Ms(M,2),W=P[0],z=P[1],Q=H.useState(x!==void 0?x:l),$=Ms(Q,2),se=$[0],F=$[1],Y=H.useCallback(function(me,ae){typeof h=="function"&&h(me,ae),F(me)},[h]),re=H.useCallback(function(me,ae){var N;typeof g=="function"&&(N=g(me,ae)),k(N!==void 0?N:me)},[g]),J=H.useCallback(function(){typeof v=="function"&&v(),z(!0)},[v]),V=H.useCallback(function(){typeof m=="function"&&m(),z(!1)},[m]),B=u!==void 0?u:S,Re=c!==void 0?c:W,Te=x!==void 0?x:se;return Et(Et({},w),{},{inputValue:B,menuIsOpen:Re,onChange:Y,onInputChange:re,onMenuClose:V,onMenuOpen:J,value:Te})}function Rt(){return Rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rt.apply(null,arguments)}function aF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TC(r.key),r)}}function lF(e,t,n){return t&&PC(e.prototype,t),n&&PC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sA(e,t){return sA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},sA(e,t)}function uF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sA(e,t)}function Sp(e){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sp(e)}function FC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FC=function(){return!!e})()}function cF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fF(e,t){if(t&&(Cl(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cF(e)}function dF(e){var t=FC();return function(){var n,r=Sp(e);if(t){var i=Sp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fF(this,n)}}function hF(e){if(Array.isArray(e))return oA(e)}function pF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bu(e){return hF(e)||pF(e)||LC(e)||gF()}function mF(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function yF(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var vF=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(yF(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=mF(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),ei="-ms-",Cp="-moz-",sn="-webkit-",BC="comm",aA="rule",lA="decl",AF="@import",NC="@keyframes",xF="@layer",bF=Math.abs,kp=String.fromCharCode,wF=Object.assign;function SF(e,t){return Qr(e,0)^45?(((t<<2^Qr(e,0))<<2^Qr(e,1))<<2^Qr(e,2))<<2^Qr(e,3):0}function _C(e){return e.trim()}function CF(e,t){return(e=t.exec(e))?e[0]:e}function an(e,t,n){return e.replace(t,n)}function uA(e,t){return e.indexOf(t)}function Qr(e,t){return e.charCodeAt(t)|0}function Ff(e,t,n){return e.slice(t,n)}function Go(e){return e.length}function cA(e){return e.length}function Ip(e,t){return t.push(e),e}function kF(e,t){return e.map(t).join("")}var Ep=1,Nu=1,jC=0,Oi=0,lr=0,_u="";function Dp(e,t,n,r,i,s,l){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Ep,column:Nu,length:l,return:""}}function Bf(e,t){return wF(Dp("",null,null,"",null,null,0),e,{length:-e.length},t)}function IF(){return lr}function EF(){return lr=Oi>0?Qr(_u,--Oi):0,Nu--,lr===10&&(Nu=1,Ep--),lr}function qi(){return lr=Oi<jC?Qr(_u,Oi++):0,Nu++,lr===10&&(Nu=1,Ep++),lr}function Vo(){return Qr(_u,Oi)}function Mp(){return Oi}function Nf(e,t){return Ff(_u,e,t)}function _f(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function zC(e){return Ep=Nu=1,jC=Go(_u=e),Oi=0,[]}function HC(e){return _u="",e}function Rp(e){return _C(Nf(Oi-1,fA(e===91?e+2:e===40?e+1:e)))}function DF(e){for(;(lr=Vo())&&lr<33;)qi();return _f(e)>2||_f(lr)>3?"":" "}function MF(e,t){for(;--t&&qi()&&!(lr<48||lr>102||lr>57&&lr<65||lr>70&&lr<97););return Nf(e,Mp()+(t<6&&Vo()==32&&qi()==32))}function fA(e){for(;qi();)switch(lr){case e:return Oi;case 34:case 39:e!==34&&e!==39&&fA(lr);break;case 40:e===41&&fA(e);break;case 92:qi();break}return Oi}function RF(e,t){for(;qi()&&e+lr!==57;)if(e+lr===84&&Vo()===47)break;return"/*"+Nf(t,Oi-1)+"*"+kp(e===47?e:qi())}function TF(e){for(;!_f(Vo());)qi();return Nf(e,Oi)}function OF(e){return HC(Tp("",null,null,null,[""],e=zC(e),0,[0],e))}function Tp(e,t,n,r,i,s,l,u,c){for(var h=0,g=0,m=l,v=0,x=0,w=0,E=1,R=1,S=1,k=0,M="",P=i,W=s,z=r,Q=M;R;)switch(w=k,k=qi()){case 40:if(w!=108&&Qr(Q,m-1)==58){uA(Q+=an(Rp(k),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:Q+=Rp(k);break;case 9:case 10:case 13:case 32:Q+=DF(w);break;case 92:Q+=MF(Mp()-1,7);continue;case 47:switch(Vo()){case 42:case 47:Ip(LF(RF(qi(),Mp()),t,n),c);break;default:Q+="/"}break;case 123*E:u[h++]=Go(Q)*S;case 125*E:case 59:case 0:switch(k){case 0:case 125:R=0;case 59+g:S==-1&&(Q=an(Q,/\f/g,"")),x>0&&Go(Q)-m&&Ip(x>32?WC(Q+";",r,n,m-1):WC(an(Q," ","")+";",r,n,m-2),c);break;case 59:Q+=";";default:if(Ip(z=UC(Q,t,n,h,g,i,u,M,P=[],W=[],m),s),k===123)if(g===0)Tp(Q,t,z,z,P,s,m,u,W);else switch(v===99&&Qr(Q,3)===110?100:v){case 100:case 108:case 109:case 115:Tp(e,z,z,r&&Ip(UC(e,z,z,0,0,i,u,M,i,P=[],m),W),i,W,m,u,r?P:W);break;default:Tp(Q,z,z,z,[""],W,0,u,W)}}h=g=x=0,E=S=1,M=Q="",m=l;break;case 58:m=1+Go(Q),x=w;default:if(E<1){if(k==123)--E;else if(k==125&&E++==0&&EF()==125)continue}switch(Q+=kp(k),k*E){case 38:S=g>0?1:(Q+="\f",-1);break;case 44:u[h++]=(Go(Q)-1)*S,S=1;break;case 64:Vo()===45&&(Q+=Rp(qi())),v=Vo(),g=m=Go(M=Q+=TF(Mp())),k++;break;case 45:w===45&&Go(Q)==2&&(E=0)}}return s}function UC(e,t,n,r,i,s,l,u,c,h,g){for(var m=i-1,v=i===0?s:[""],x=cA(v),w=0,E=0,R=0;w<r;++w)for(var S=0,k=Ff(e,m+1,m=bF(E=l[w])),M=e;S<x;++S)(M=_C(E>0?v[S]+" "+k:an(k,/&\f/g,v[S])))&&(c[R++]=M);return Dp(e,t,n,i===0?aA:u,c,h,g)}function LF(e,t,n){return Dp(e,t,n,BC,kp(IF()),Ff(e,2,-2),0)}function WC(e,t,n,r){return Dp(e,t,n,lA,Ff(e,0,r),Ff(e,r+1,-1),r)}function ju(e,t){for(var n="",r=cA(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function PF(e,t,n,r){switch(e.type){case xF:if(e.children.length)break;case AF:case lA:return e.return=e.return||e.value;case BC:return"";case NC:return e.return=e.value+"{"+ju(e.children,r)+"}";case aA:e.value=e.props.join(",")}return Go(n=ju(e.children,r))?e.return=e.value+"{"+n+"}":""}function FF(e){var t=cA(e);return function(n,r,i,s){for(var l="",u=0;u<t;u++)l+=e[u](n,r,i,s)||"";return l}}function BF(e){return function(t){t.root||(t=t.return)&&e(t)}}function NF(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var _F=function(t,n,r){for(var i=0,s=0;i=s,s=Vo(),i===38&&s===12&&(n[r]=1),!_f(s);)qi();return Nf(t,Oi)},jF=function(t,n){var r=-1,i=44;do switch(_f(i)){case 0:i===38&&Vo()===12&&(n[r]=1),t[r]+=_F(Oi-1,n,r);break;case 2:t[r]+=Rp(i);break;case 4:if(i===44){t[++r]=Vo()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=kp(i)}while(i=qi());return t},zF=function(t,n){return HC(jF(zC(t),n))},KC=new WeakMap,HF=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!KC.get(r))&&!i){KC.set(t,!0);for(var s=[],l=zF(n,s),u=r.props,c=0,h=0;c<l.length;c++)for(var g=0;g<u.length;g++,h++)t.props[h]=s[c]?l[c].replace(/&\f/g,u[g]):u[g]+" "+l[c]}}},UF=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function QC(e,t){switch(SF(e,t)){case 5103:return sn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return sn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return sn+e+Cp+e+ei+e+e;case 6828:case 4268:return sn+e+ei+e+e;case 6165:return sn+e+ei+"flex-"+e+e;case 5187:return sn+e+an(e,/(\w+).+(:[^]+)/,sn+"box-$1$2"+ei+"flex-$1$2")+e;case 5443:return sn+e+ei+"flex-item-"+an(e,/flex-|-self/,"")+e;case 4675:return sn+e+ei+"flex-line-pack"+an(e,/align-content|flex-|-self/,"")+e;case 5548:return sn+e+ei+an(e,"shrink","negative")+e;case 5292:return sn+e+ei+an(e,"basis","preferred-size")+e;case 6060:return sn+"box-"+an(e,"-grow","")+sn+e+ei+an(e,"grow","positive")+e;case 4554:return sn+an(e,/([^-])(transform)/g,"$1"+sn+"$2")+e;case 6187:return an(an(an(e,/(zoom-|grab)/,sn+"$1"),/(image-set)/,sn+"$1"),e,"")+e;case 5495:case 3959:return an(e,/(image-set\([^]*)/,sn+"$1$`$1");case 4968:return an(an(e,/(.+:)(flex-)?(.*)/,sn+"box-pack:$3"+ei+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+sn+e+e;case 4095:case 3583:case 4068:case 2532:return an(e,/(.+)-inline(.+)/,sn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Go(e)-1-t>6)switch(Qr(e,t+1)){case 109:if(Qr(e,t+4)!==45)break;case 102:return an(e,/(.+:)(.+)-([^]+)/,"$1"+sn+"$2-$3$1"+Cp+(Qr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~uA(e,"stretch")?QC(an(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Qr(e,t+1)!==115)break;case 6444:switch(Qr(e,Go(e)-3-(~uA(e,"!important")&&10))){case 107:return an(e,":",":"+sn)+e;case 101:return an(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+sn+(Qr(e,14)===45?"inline-":"")+"box$3$1"+sn+"$2$3$1"+ei+"$2box$3")+e}break;case 5936:switch(Qr(e,t+11)){case 114:return sn+e+ei+an(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return sn+e+ei+an(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return sn+e+ei+an(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return sn+e+ei+e+e}return e}var WF=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case lA:t.return=QC(t.value,t.length);break;case NC:return ju([Bf(t,{value:an(t.value,"@","@"+sn)})],i);case aA:if(t.length)return kF(t.props,function(s){switch(CF(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ju([Bf(t,{props:[an(s,/:(read-\w+)/,":"+Cp+"$1")]})],i);case"::placeholder":return ju([Bf(t,{props:[an(s,/:(plac\w+)/,":"+sn+"input-$1")]}),Bf(t,{props:[an(s,/:(plac\w+)/,":"+Cp+"$1")]}),Bf(t,{props:[an(s,/:(plac\w+)/,ei+"input-$1")]})],i)}return""})}},KF=[WF],QF=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(E){var R=E.getAttribute("data-emotion");R.indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var i=t.stylisPlugins||KF,s={},l,u=[];l=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(E){for(var R=E.getAttribute("data-emotion").split(" "),S=1;S<R.length;S++)s[R[S]]=!0;u.push(E)});var c,h=[HF,UF];{var g,m=[PF,BF(function(E){g.insert(E)})],v=FF(h.concat(i,m)),x=function(R){return ju(OF(R),v)};c=function(R,S,k,M){g=k,x(R?R+"{"+S.styles+"}":S.styles),M&&(w.inserted[S.name]=!0)}}var w={key:n,sheet:new vF({key:n,container:l,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:c};return w.sheet.hydrate(u),w},$C={exports:{}},hn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lr=typeof Symbol=="function"&&Symbol.for,dA=Lr?Symbol.for("react.element"):60103,hA=Lr?Symbol.for("react.portal"):60106,Op=Lr?Symbol.for("react.fragment"):60107,Lp=Lr?Symbol.for("react.strict_mode"):60108,Pp=Lr?Symbol.for("react.profiler"):60114,Fp=Lr?Symbol.for("react.provider"):60109,Bp=Lr?Symbol.for("react.context"):60110,pA=Lr?Symbol.for("react.async_mode"):60111,Np=Lr?Symbol.for("react.concurrent_mode"):60111,_p=Lr?Symbol.for("react.forward_ref"):60112,jp=Lr?Symbol.for("react.suspense"):60113,$F=Lr?Symbol.for("react.suspense_list"):60120,zp=Lr?Symbol.for("react.memo"):60115,Hp=Lr?Symbol.for("react.lazy"):60116,GF=Lr?Symbol.for("react.block"):60121,VF=Lr?Symbol.for("react.fundamental"):60117,YF=Lr?Symbol.for("react.responder"):60118,JF=Lr?Symbol.for("react.scope"):60119;function Zi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case dA:switch(e=e.type,e){case pA:case Np:case Op:case Pp:case Lp:case jp:return e;default:switch(e=e&&e.$$typeof,e){case Bp:case _p:case Hp:case zp:case Fp:return e;default:return t}}case hA:return t}}}function GC(e){return Zi(e)===Np}hn.AsyncMode=pA,hn.ConcurrentMode=Np,hn.ContextConsumer=Bp,hn.ContextProvider=Fp,hn.Element=dA,hn.ForwardRef=_p,hn.Fragment=Op,hn.Lazy=Hp,hn.Memo=zp,hn.Portal=hA,hn.Profiler=Pp,hn.StrictMode=Lp,hn.Suspense=jp,hn.isAsyncMode=function(e){return GC(e)||Zi(e)===pA},hn.isConcurrentMode=GC,hn.isContextConsumer=function(e){return Zi(e)===Bp},hn.isContextProvider=function(e){return Zi(e)===Fp},hn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===dA},hn.isForwardRef=function(e){return Zi(e)===_p},hn.isFragment=function(e){return Zi(e)===Op},hn.isLazy=function(e){return Zi(e)===Hp},hn.isMemo=function(e){return Zi(e)===zp},hn.isPortal=function(e){return Zi(e)===hA},hn.isProfiler=function(e){return Zi(e)===Pp},hn.isStrictMode=function(e){return Zi(e)===Lp},hn.isSuspense=function(e){return Zi(e)===jp},hn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Op||e===Np||e===Pp||e===Lp||e===jp||e===$F||typeof e=="object"&&e!==null&&(e.$$typeof===Hp||e.$$typeof===zp||e.$$typeof===Fp||e.$$typeof===Bp||e.$$typeof===_p||e.$$typeof===VF||e.$$typeof===YF||e.$$typeof===JF||e.$$typeof===GF)},hn.typeOf=Zi,$C.exports=hn;var qF=$C.exports,VC=qF,ZF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},XF={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},YC={};YC[VC.ForwardRef]=ZF,YC[VC.Memo]=XF;var eB=!0;function tB(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var JC=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||eB===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},nB=function(t,n,r){JC(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function rB(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var iB={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},oB=/[A-Z]|^ms/g,sB=/_EMO_([^_]+?)_([^]*?)_EMO_/g,qC=function(t){return t.charCodeAt(1)===45},ZC=function(t){return t!=null&&typeof t!="boolean"},gA=NF(function(e){return qC(e)?e:e.replace(oB,"-$&").toLowerCase()}),XC=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(sB,function(r,i,s){return Yo={name:i,styles:s,next:Yo},i})}return iB[t]!==1&&!qC(t)&&typeof n=="number"&&n!==0?n+"px":n};function jf(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Yo={name:i.name,styles:i.styles,next:Yo},i.name;var s=n;if(s.styles!==void 0){var l=s.next;if(l!==void 0)for(;l!==void 0;)Yo={name:l.name,styles:l.styles,next:Yo},l=l.next;var u=s.styles+";";return u}return aB(e,t,n)}case"function":{if(e!==void 0){var c=Yo,h=n(e);return Yo=c,jf(e,t,h)}break}}var g=n;return g}function aB(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=jf(e,t,n[i])+";";else for(var s in n){var l=n[s];if(typeof l!="object"){var u=l;ZC(u)&&(r+=gA(s)+":"+XC(s,u)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&t==null)for(var c=0;c<l.length;c++)ZC(l[c])&&(r+=gA(s)+":"+XC(s,l[c])+";");else{var h=jf(e,t,l);switch(s){case"animation":case"animationName":{r+=gA(s)+":"+h+";";break}default:r+=s+"{"+h+"}"}}}return r}var ek=/label:\s*([^\s;{]+)\s*(;|$)/g,Yo;function tk(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Yo=void 0;var s=e[0];if(s==null||s.raw===void 0)r=!1,i+=jf(n,t,s);else{var l=s;i+=l[0]}for(var u=1;u<e.length;u++)if(i+=jf(n,t,e[u]),r){var c=s;i+=c[u]}ek.lastIndex=0;for(var h="",g;(g=ek.exec(i))!==null;)h+="-"+g[1];var m=rB(i)+h;return{name:m,styles:i,next:Yo}}var lB=function(t){return t()},uB=Lb.useInsertionEffect?Lb.useInsertionEffect:!1,cB=uB||lB,nk=H.createContext(typeof HTMLElement<"u"?QF({key:"css"}):null);nk.Provider;var fB=function(t){return H.forwardRef(function(n,r){var i=H.useContext(nk);return t(n,i,r)})},dB=H.createContext({}),mA={}.hasOwnProperty,yA="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",hB=function(t,n){var r={};for(var i in n)mA.call(n,i)&&(r[i]=n[i]);return r[yA]=t,r},pB=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return JC(n,r,i),cB(function(){return nB(n,r,i)}),null},gB=fB(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[yA],s=[r],l="";typeof e.className=="string"?l=tB(t.registered,s,e.className):e.className!=null&&(l=e.className+" ");var u=tk(s,void 0,H.useContext(dB));l+=t.key+"-"+u.name;var c={};for(var h in e)mA.call(e,h)&&h!=="css"&&h!==yA&&(c[h]=e[h]);return c.className=l,n&&(c.ref=n),H.createElement(H.Fragment,null,H.createElement(pB,{cache:t,serialized:u,isStringTag:typeof i=="string"}),H.createElement(i,c))}),mB=gB,wt=function(t,n){var r=arguments;if(n==null||!mA.call(n,"css"))return H.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=mB,s[1]=hB(t,n);for(var l=2;l<i;l++)s[l]=r[l];return H.createElement.apply(null,s)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(wt||(wt={}));function vA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tk(t)}function yB(){var e=vA.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function vB(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const AB=Math.min,xB=Math.max,Up=Math.round,Wp=Math.floor,Kp=e=>({x:e,y:e});function bB(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Qp(){return typeof window<"u"}function rk(e){return ok(e)?(e.nodeName||"").toLowerCase():"#document"}function Rs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ik(e){var t;return(t=(ok(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ok(e){return Qp()?e instanceof Node||e instanceof Rs(e).Node:!1}function wB(e){return Qp()?e instanceof Element||e instanceof Rs(e).Element:!1}function AA(e){return Qp()?e instanceof HTMLElement||e instanceof Rs(e).HTMLElement:!1}function sk(e){return!Qp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Rs(e).ShadowRoot}const SB=new Set(["inline","contents"]);function ak(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=xA(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!SB.has(i)}function CB(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const kB=new Set(["html","body","#document"]);function IB(e){return kB.has(rk(e))}function xA(e){return Rs(e).getComputedStyle(e)}function EB(e){if(rk(e)==="html")return e;const t=e.assignedSlot||e.parentNode||sk(e)&&e.host||ik(e);return sk(t)?t.host:t}function lk(e){const t=EB(e);return IB(t)?e.ownerDocument?e.ownerDocument.body:e.body:AA(t)&&ak(t)?t:lk(t)}function $p(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=lk(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),l=Rs(i);if(s){const u=bA(l);return t.concat(l,l.visualViewport||[],ak(i)?i:[],u&&n?$p(u):[])}return t.concat(i,$p(i,[],n))}function bA(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function DB(e){const t=xA(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=AA(e),s=i?e.offsetWidth:n,l=i?e.offsetHeight:r,u=Up(n)!==s||Up(r)!==l;return u&&(n=s,r=l),{width:n,height:r,$:u}}function wA(e){return wB(e)?e:e.contextElement}function uk(e){const t=wA(e);if(!AA(t))return Kp(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=DB(t);let l=(s?Up(n.width):n.width)/r,u=(s?Up(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const MB=Kp(0);function RB(e){const t=Rs(e);return!CB()||!t.visualViewport?MB:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function TB(e,t,n){return!1}function ck(e,t,n,r){t===void 0&&(t=!1);const i=e.getBoundingClientRect(),s=wA(e);let l=Kp(1);t&&(l=uk(e));const u=TB()?RB(s):Kp(0);let c=(i.left+u.x)/l.x,h=(i.top+u.y)/l.y,g=i.width/l.x,m=i.height/l.y;if(s){const v=Rs(s),x=r;let w=v,E=bA(w);for(;E&&r&&x!==w;){const R=uk(E),S=E.getBoundingClientRect(),k=xA(E),M=S.left+(E.clientLeft+parseFloat(k.paddingLeft))*R.x,P=S.top+(E.clientTop+parseFloat(k.paddingTop))*R.y;c*=R.x,h*=R.y,g*=R.x,m*=R.y,c+=M,h+=P,w=Rs(E),E=bA(w)}}return bB({width:g,height:m,x:c,y:h})}function fk(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function OB(e,t){let n=null,r;const i=ik(e);function s(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),s();const h=e.getBoundingClientRect(),{left:g,top:m,width:v,height:x}=h;if(u||t(),!v||!x)return;const w=Wp(m),E=Wp(i.clientWidth-(g+v)),R=Wp(i.clientHeight-(m+x)),S=Wp(g),M={rootMargin:-w+"px "+-E+"px "+-R+"px "+-S+"px",threshold:xB(0,AB(1,c))||1};let P=!0;function W(z){const Q=z[0].intersectionRatio;if(Q!==c){if(!P)return l();Q?l(!1,Q):r=setTimeout(()=>{l(!1,1e-7)},1e3)}Q===1&&!fk(h,e.getBoundingClientRect())&&l(),P=!1}try{n=new IntersectionObserver(W,{...M,root:i.ownerDocument})}catch{n=new IntersectionObserver(W,M)}n.observe(e)}return l(!0),s}function LB(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,h=wA(e),g=i||s?[...h?$p(h):[],...$p(t)]:[];g.forEach(S=>{i&&S.addEventListener("scroll",n,{passive:!0}),s&&S.addEventListener("resize",n)});const m=h&&u?OB(h,n):null;let v=-1,x=null;l&&(x=new ResizeObserver(S=>{let[k]=S;k&&k.target===h&&x&&(x.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var M;(M=x)==null||M.observe(t)})),n()}),h&&!c&&x.observe(h),x.observe(t));let w,E=c?ck(e):null;c&&R();function R(){const S=ck(e);E&&!fk(E,S)&&n(),E=S,w=requestAnimationFrame(R)}return n(),()=>{var S;g.forEach(k=>{i&&k.removeEventListener("scroll",n),s&&k.removeEventListener("resize",n)}),m==null||m(),(S=x)==null||S.disconnect(),x=null,c&&cancelAnimationFrame(w)}}var SA=H.useLayoutEffect,PB=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Gp=function(){};function FB(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function BB(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(t&&e)for(var l in t)t.hasOwnProperty(l)&&t[l]&&s.push("".concat(FB(e,l)));return s.filter(function(u){return u}).map(function(u){return String(u).trim()}).join(" ")}var dk=function(t){return QB(t)?t.filter(Boolean):Cl(t)==="object"&&t!==null?[t]:[]},hk=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=$o(t,PB);return Et({},n)},Vn=function(t,n,r){var i=t.cx,s=t.getStyles,l=t.getClassNames,u=t.className;return{css:s(n,t),className:i(r??{},l(n,t),u)}};function Vp(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function NB(e){return Vp(e)?window.innerHeight:e.clientHeight}function pk(e){return Vp(e)?window.pageYOffset:e.scrollTop}function Yp(e,t){if(Vp(e)){window.scrollTo(0,t);return}e.scrollTop=t}function _B(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}function jB(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function Jp(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Gp,i=pk(e),s=t-i,l=10,u=0;function c(){u+=l;var h=jB(u,i,s,n);Yp(e,h),u<n?window.requestAnimationFrame(c):r(e)}c()}function gk(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?Yp(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&Yp(e,Math.max(t.offsetTop-i,0))}function zB(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function mk(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function HB(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var yk=!1,UB={get passive(){return yk=!0}},qp=typeof window<"u"?window:{};qp.addEventListener&&qp.removeEventListener&&(qp.addEventListener("p",Gp,UB),qp.removeEventListener("p",Gp,!1));var WB=yk;function KB(e){return e!=null}function QB(e){return Array.isArray(e)}function Zp(e,t,n){return e?t:n}function SG(e){return e}function CG(e){return e}var $B=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(t).filter(function(l){var u=Ms(l,1),c=u[0];return!r.includes(c)});return s.reduce(function(l,u){var c=Ms(u,2),h=c[0],g=c[1];return l[h]=g,l},{})},GB=["children","innerProps"],VB=["children","innerProps"];function YB(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,s=e.shouldScroll,l=e.isFixedPosition,u=e.controlHeight,c=_B(n),h={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return h;var g=c.getBoundingClientRect(),m=g.height,v=n.getBoundingClientRect(),x=v.bottom,w=v.height,E=v.top,R=n.offsetParent.getBoundingClientRect(),S=R.top,k=l?window.innerHeight:NB(c),M=pk(c),P=parseInt(getComputedStyle(n).marginBottom,10),W=parseInt(getComputedStyle(n).marginTop,10),z=S-W,Q=k-E,$=z+M,se=m-M-E,F=x-k+M+P,Y=M+E-W,re=160;switch(i){case"auto":case"bottom":if(Q>=w)return{placement:"bottom",maxHeight:t};if(se>=w&&!l)return s&&Jp(c,F,re),{placement:"bottom",maxHeight:t};if(!l&&se>=r||l&&Q>=r){s&&Jp(c,F,re);var J=l?Q-P:se-P;return{placement:"bottom",maxHeight:J}}if(i==="auto"||l){var V=t,B=l?z:$;return B>=r&&(V=Math.min(B-P-u,t)),{placement:"top",maxHeight:V}}if(i==="bottom")return s&&Yp(c,F),{placement:"bottom",maxHeight:t};break;case"top":if(z>=w)return{placement:"top",maxHeight:t};if($>=w&&!l)return s&&Jp(c,Y,re),{placement:"top",maxHeight:t};if(!l&&$>=r||l&&z>=r){var Re=t;return(!l&&$>=r||l&&z>=r)&&(Re=l?z-W:$-W),s&&Jp(c,Y,re),{placement:"top",maxHeight:Re}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return h}function JB(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var vk=function(t){return t==="auto"?"bottom":t},qB=function(t,n){var r,i=t.placement,s=t.theme,l=s.borderRadius,u=s.spacing,c=s.colors;return Et((r={label:"menu"},kl(r,JB(i),"100%"),kl(r,"position","absolute"),kl(r,"width","100%"),kl(r,"zIndex",1),r),n?{}:{backgroundColor:c.neutral0,borderRadius:l,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:u.menuGutter,marginTop:u.menuGutter})},Ak=H.createContext(null),ZB=function(t){var n=t.children,r=t.minMenuHeight,i=t.maxMenuHeight,s=t.menuPlacement,l=t.menuPosition,u=t.menuShouldScrollIntoView,c=t.theme,h=H.useContext(Ak)||{},g=h.setPortalPlacement,m=H.useRef(null),v=H.useState(i),x=Ms(v,2),w=x[0],E=x[1],R=H.useState(null),S=Ms(R,2),k=S[0],M=S[1],P=c.spacing.controlHeight;return SA(function(){var W=m.current;if(W){var z=l==="fixed",Q=u&&!z,$=YB({maxHeight:i,menuEl:W,minHeight:r,placement:s,shouldScroll:Q,isFixedPosition:z,controlHeight:P});E($.maxHeight),M($.placement),g==null||g($.placement)}},[i,s,l,u,r,g,P]),n({ref:m,placerProps:Et(Et({},t),{},{placement:k||vk(s),maxHeight:w})})},XB=function(t){var n=t.children,r=t.innerRef,i=t.innerProps;return wt("div",Rt({},Vn(t,"menu",{menu:!0}),{ref:r},i),n)},e4=XB,t4=function(t,n){var r=t.maxHeight,i=t.theme.spacing.baseUnit;return Et({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},n4=function(t){var n=t.children,r=t.innerProps,i=t.innerRef,s=t.isMulti;return wt("div",Rt({},Vn(t,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},xk=function(t,n){var r=t.theme,i=r.spacing.baseUnit,s=r.colors;return Et({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},r4=xk,i4=xk,o4=function(t){var n=t.children,r=n===void 0?"No options":n,i=t.innerProps,s=$o(t,GB);return wt("div",Rt({},Vn(Et(Et({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},s4=function(t){var n=t.children,r=n===void 0?"Loading...":n,i=t.innerProps,s=$o(t,VB);return wt("div",Rt({},Vn(Et(Et({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},a4=function(t){var n=t.rect,r=t.offset,i=t.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},l4=function(t){var n=t.appendTo,r=t.children,i=t.controlElement,s=t.innerProps,l=t.menuPlacement,u=t.menuPosition,c=H.useRef(null),h=H.useRef(null),g=H.useState(vk(l)),m=Ms(g,2),v=m[0],x=m[1],w=H.useMemo(function(){return{setPortalPlacement:x}},[]),E=H.useState(null),R=Ms(E,2),S=R[0],k=R[1],M=H.useCallback(function(){if(i){var Q=zB(i),$=u==="fixed"?0:window.pageYOffset,se=Q[v]+$;(se!==(S==null?void 0:S.offset)||Q.left!==(S==null?void 0:S.rect.left)||Q.width!==(S==null?void 0:S.rect.width))&&k({offset:se,rect:Q})}},[i,u,v,S==null?void 0:S.offset,S==null?void 0:S.rect.left,S==null?void 0:S.rect.width]);SA(function(){M()},[M]);var P=H.useCallback(function(){typeof h.current=="function"&&(h.current(),h.current=null),i&&c.current&&(h.current=LB(i,c.current,M,{elementResize:"ResizeObserver"in window}))},[i,M]);SA(function(){P()},[P]);var W=H.useCallback(function(Q){c.current=Q,P()},[P]);if(!n&&u!=="fixed"||!S)return null;var z=wt("div",Rt({ref:W},Vn(Et(Et({},t),{},{offset:S.offset,position:u,rect:S.rect}),"menuPortal",{"menu-portal":!0}),s),r);return wt(Ak.Provider,{value:w},n?Kv.createPortal(z,n):z)},u4=function(t){var n=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},c4=function(t){var n=t.children,r=t.innerProps,i=t.isDisabled,s=t.isRtl;return wt("div",Rt({},Vn(t,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},f4=function(t,n){var r=t.theme.spacing,i=t.isMulti,s=t.hasValue,l=t.selectProps.controlShouldRenderValue;return Et({alignItems:"center",display:i&&s&&l?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},d4=function(t){var n=t.children,r=t.innerProps,i=t.isMulti,s=t.hasValue;return wt("div",Rt({},Vn(t,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},h4=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},p4=function(t){var n=t.children,r=t.innerProps;return wt("div",Rt({},Vn(t,"indicatorsContainer",{indicators:!0}),r),n)},bk,g4=["size"],m4=["innerProps","isRtl","size"],y4={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},wk=function(t){var n=t.size,r=$o(t,g4);return wt("svg",Rt({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:y4},r))},CA=function(t){return wt(wk,Rt({size:20},t),wt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Sk=function(t){return wt(wk,Rt({size:20},t),wt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Ck=function(t,n){var r=t.isFocused,i=t.theme,s=i.spacing.baseUnit,l=i.colors;return Et({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?l.neutral60:l.neutral20,padding:s*2,":hover":{color:r?l.neutral80:l.neutral40}})},v4=Ck,A4=function(t){var n=t.children,r=t.innerProps;return wt("div",Rt({},Vn(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||wt(Sk,null))},x4=Ck,b4=function(t){var n=t.children,r=t.innerProps;return wt("div",Rt({},Vn(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||wt(CA,null))},w4=function(t,n){var r=t.isDisabled,i=t.theme,s=i.spacing.baseUnit,l=i.colors;return Et({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?l.neutral10:l.neutral20,marginBottom:s*2,marginTop:s*2})},S4=function(t){var n=t.innerProps;return wt("span",Rt({},n,Vn(t,"indicatorSeparator",{"indicator-separator":!0})))},C4=yB(bk||(bk=vB([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),k4=function(t,n){var r=t.isFocused,i=t.size,s=t.theme,l=s.colors,u=s.spacing.baseUnit;return Et({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?l.neutral60:l.neutral20,padding:u*2})},kA=function(t){var n=t.delay,r=t.offset;return wt("span",{css:vA({animation:"".concat(C4," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},I4=function(t){var n=t.innerProps,r=t.isRtl,i=t.size,s=i===void 0?4:i,l=$o(t,m4);return wt("div",Rt({},Vn(Et(Et({},l),{},{innerProps:n,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),wt(kA,{delay:0,offset:r}),wt(kA,{delay:160,offset:!0}),wt(kA,{delay:320,offset:!r}))},E4=function(t,n){var r=t.isDisabled,i=t.isFocused,s=t.theme,l=s.colors,u=s.borderRadius,c=s.spacing;return Et({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?l.neutral5:l.neutral0,borderColor:r?l.neutral10:i?l.primary:l.neutral20,borderRadius:u,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(l.primary):void 0,"&:hover":{borderColor:i?l.primary:l.neutral30}})},D4=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,s=t.innerRef,l=t.innerProps,u=t.menuIsOpen;return wt("div",Rt({ref:s},Vn(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":u}),l,{"aria-disabled":r||void 0}),n)},M4=D4,R4=["data"],T4=function(t,n){var r=t.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},O4=function(t){var n=t.children,r=t.cx,i=t.getStyles,s=t.getClassNames,l=t.Heading,u=t.headingProps,c=t.innerProps,h=t.label,g=t.theme,m=t.selectProps;return wt("div",Rt({},Vn(t,"group",{group:!0}),c),wt(l,Rt({},u,{selectProps:m,theme:g,getStyles:i,getClassNames:s,cx:r}),h),wt("div",null,n))},L4=function(t,n){var r=t.theme,i=r.colors,s=r.spacing;return Et({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},P4=function(t){var n=hk(t);n.data;var r=$o(n,R4);return wt("div",Rt({},Vn(t,"groupHeading",{"group-heading":!0}),r))},F4=O4,B4=["innerRef","isDisabled","isHidden","inputClassName"],N4=function(t,n){var r=t.isDisabled,i=t.value,s=t.theme,l=s.spacing,u=s.colors;return Et(Et({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},_4),n?{}:{margin:l.baseUnit/2,paddingBottom:l.baseUnit/2,paddingTop:l.baseUnit/2,color:u.neutral80})},kk={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},_4={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Et({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},kk)},j4=function(t){return Et({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},kk)},z4=function(t){var n=t.cx,r=t.value,i=hk(t),s=i.innerRef,l=i.isDisabled,u=i.isHidden,c=i.inputClassName,h=$o(i,B4);return wt("div",Rt({},Vn(t,"input",{"input-container":!0}),{"data-value":r||""}),wt("input",Rt({className:n({input:!0},c),ref:s,style:j4(u),disabled:l},h)))},H4=z4,U4=function(t,n){var r=t.theme,i=r.spacing,s=r.borderRadius,l=r.colors;return Et({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:l.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},W4=function(t,n){var r=t.theme,i=r.borderRadius,s=r.colors,l=t.cropWithEllipsis;return Et({overflow:"hidden",textOverflow:l||l===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},K4=function(t,n){var r=t.theme,i=r.spacing,s=r.borderRadius,l=r.colors,u=t.isFocused;return Et({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:u?l.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:l.dangerLight,color:l.danger}})},Ik=function(t){var n=t.children,r=t.innerProps;return wt("div",r,n)},Q4=Ik,$4=Ik;function G4(e){var t=e.children,n=e.innerProps;return wt("div",Rt({role:"button"},n),t||wt(CA,{size:14}))}var V4=function(t){var n=t.children,r=t.components,i=t.data,s=t.innerProps,l=t.isDisabled,u=t.removeProps,c=t.selectProps,h=r.Container,g=r.Label,m=r.Remove;return wt(h,{data:i,innerProps:Et(Et({},Vn(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":l})),s),selectProps:c},wt(g,{data:i,innerProps:Et({},Vn(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},n),wt(m,{data:i,innerProps:Et(Et({},Vn(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},u),selectProps:c}))},Y4=V4,J4=function(t,n){var r=t.isDisabled,i=t.isFocused,s=t.isSelected,l=t.theme,u=l.spacing,c=l.colors;return Et({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?c.primary:i?c.primary25:"transparent",color:r?c.neutral20:s?c.neutral0:"inherit",padding:"".concat(u.baseUnit*2,"px ").concat(u.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?c.primary:c.primary50}})},q4=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,s=t.isSelected,l=t.innerRef,u=t.innerProps;return wt("div",Rt({},Vn(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:l,"aria-disabled":r},u),n)},Z4=q4,X4=function(t,n){var r=t.theme,i=r.spacing,s=r.colors;return Et({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},eN=function(t){var n=t.children,r=t.innerProps;return wt("div",Rt({},Vn(t,"placeholder",{placeholder:!0}),r),n)},tN=eN,nN=function(t,n){var r=t.isDisabled,i=t.theme,s=i.spacing,l=i.colors;return Et({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?l.neutral40:l.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},rN=function(t){var n=t.children,r=t.isDisabled,i=t.innerProps;return wt("div",Rt({},Vn(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},iN=rN,oN={ClearIndicator:b4,Control:M4,DropdownIndicator:A4,DownChevron:Sk,CrossIcon:CA,Group:F4,GroupHeading:P4,IndicatorsContainer:p4,IndicatorSeparator:S4,Input:H4,LoadingIndicator:I4,Menu:e4,MenuList:n4,MenuPortal:l4,LoadingMessage:s4,NoOptionsMessage:o4,MultiValue:Y4,MultiValueContainer:Q4,MultiValueLabel:$4,MultiValueRemove:G4,Option:Z4,Placeholder:tN,SelectContainer:c4,SingleValue:iN,ValueContainer:d4},sN=function(t){return Et(Et({},oN),t.components)},Ek=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function aN(e,t){return!!(e===t||Ek(e)&&Ek(t))}function lN(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!aN(e[n],t[n]))return!1;return!0}function uN(e,t){t===void 0&&(t=lN);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var l=e.apply(this,i);return n={lastResult:l,lastArgs:i,lastThis:this},l}return r.clear=function(){n=null},r}for(var cN={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},fN=function(t){return wt("span",Rt({css:cN},t))},Dk=fN,dN={guidance:function(t){var n=t.isSearchable,r=t.isMulti,i=t.tabSelectsValue,s=t.context,l=t.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return l?"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,r=t.label,i=r===void 0?"":r,s=t.labels,l=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return l?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(t){var n=t.context,r=t.focused,i=t.options,s=t.label,l=s===void 0?"":s,u=t.selectValue,c=t.isDisabled,h=t.isSelected,g=t.isAppleDevice,m=function(E,R){return E&&E.length?"".concat(E.indexOf(R)+1," of ").concat(E.length):""};if(n==="value"&&u)return"value ".concat(l," focused, ").concat(m(u,r),".");if(n==="menu"&&g){var v=c?" disabled":"",x="".concat(h?" selected":"").concat(v);return"".concat(l).concat(x,", ").concat(m(i,r),".")}return""},onFilter:function(t){var n=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},hN=function(t){var n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,s=t.focusableOptions,l=t.isFocused,u=t.selectValue,c=t.selectProps,h=t.id,g=t.isAppleDevice,m=c.ariaLiveMessages,v=c.getOptionLabel,x=c.inputValue,w=c.isMulti,E=c.isOptionDisabled,R=c.isSearchable,S=c.menuIsOpen,k=c.options,M=c.screenReaderStatus,P=c.tabSelectsValue,W=c.isLoading,z=c["aria-label"],Q=c["aria-live"],$=H.useMemo(function(){return Et(Et({},dN),m||{})},[m]),se=H.useMemo(function(){var B="";if(n&&$.onChange){var Re=n.option,Te=n.options,me=n.removedValue,ae=n.removedValues,N=n.value,de=function(oe){return Array.isArray(oe)?null:oe},ve=me||Re||de(N),G=ve?v(ve):"",_e=Te||ae||void 0,Be=_e?_e.map(v):[],Oe=Et({isDisabled:ve&&E(ve,u),label:G,labels:Be},n);B=$.onChange(Oe)}return B},[n,$,E,u,v]),F=H.useMemo(function(){var B="",Re=r||i,Te=!!(r&&u&&u.includes(r));if(Re&&$.onFocus){var me={focused:Re,label:v(Re),isDisabled:E(Re,u),isSelected:Te,options:s,context:Re===r?"menu":"value",selectValue:u,isAppleDevice:g};B=$.onFocus(me)}return B},[r,i,v,E,$,s,u,g]),Y=H.useMemo(function(){var B="";if(S&&k.length&&!W&&$.onFilter){var Re=M({count:s.length});B=$.onFilter({inputValue:x,resultsMessage:Re})}return B},[s,x,S,$,k,M,W]),re=(n==null?void 0:n.action)==="initial-input-focus",J=H.useMemo(function(){var B="";if($.guidance){var Re=i?"value":S?"menu":"input";B=$.guidance({"aria-label":z,context:Re,isDisabled:r&&E(r,u),isMulti:w,isSearchable:R,tabSelectsValue:P,isInitialFocus:re})}return B},[z,r,i,w,E,R,S,$,u,P,re]),V=wt(H.Fragment,null,wt("span",{id:"aria-selection"},se),wt("span",{id:"aria-focused"},F),wt("span",{id:"aria-results"},Y),wt("span",{id:"aria-guidance"},J));return wt(H.Fragment,null,wt(Dk,{id:h},re&&V),wt(Dk,{"aria-live":Q,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},l&&!re&&V))},pN=hN,IA=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],gN=new RegExp("["+IA.map(function(e){return e.letters}).join("")+"]","g"),Mk={},EA=0;EA<IA.length;EA++)for(var DA=IA[EA],MA=0;MA<DA.letters.length;MA++)Mk[DA.letters[MA]]=DA.base;var Rk=function(t){return t.replace(gN,function(n){return Mk[n]})},mN=uN(Rk),Tk=function(t){return t.replace(/^\s+|\s+$/g,"")},yN=function(t){return"".concat(t.label," ").concat(t.value)},vN=function(t){return function(n,r){if(n.data.__isNew__)return!0;var i=Et({ignoreCase:!0,ignoreAccents:!0,stringify:yN,trim:!0,matchFrom:"any"},t),s=i.ignoreCase,l=i.ignoreAccents,u=i.stringify,c=i.trim,h=i.matchFrom,g=c?Tk(r):r,m=c?Tk(u(n)):u(n);return s&&(g=g.toLowerCase(),m=m.toLowerCase()),l&&(g=mN(g),m=Rk(m)),h==="start"?m.substr(0,g.length)===g:m.indexOf(g)>-1}},AN=["innerRef"];function xN(e){var t=e.innerRef,n=$o(e,AN),r=$B(n,"onExited","in","enter","exit","appear");return wt("input",Rt({ref:t},r,{css:vA({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var bN=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function wN(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,i=e.onTopArrive,s=e.onTopLeave,l=H.useRef(!1),u=H.useRef(!1),c=H.useRef(0),h=H.useRef(null),g=H.useCallback(function(R,S){if(h.current!==null){var k=h.current,M=k.scrollTop,P=k.scrollHeight,W=k.clientHeight,z=h.current,Q=S>0,$=P-W-M,se=!1;$>S&&l.current&&(r&&r(R),l.current=!1),Q&&u.current&&(s&&s(R),u.current=!1),Q&&S>$?(n&&!l.current&&n(R),z.scrollTop=P,se=!0,l.current=!0):!Q&&-S>M&&(i&&!u.current&&i(R),z.scrollTop=0,se=!0,u.current=!0),se&&bN(R)}},[n,r,i,s]),m=H.useCallback(function(R){g(R,R.deltaY)},[g]),v=H.useCallback(function(R){c.current=R.changedTouches[0].clientY},[]),x=H.useCallback(function(R){var S=c.current-R.changedTouches[0].clientY;g(R,S)},[g]),w=H.useCallback(function(R){if(R){var S=WB?{passive:!1}:!1;R.addEventListener("wheel",m,S),R.addEventListener("touchstart",v,S),R.addEventListener("touchmove",x,S)}},[x,v,m]),E=H.useCallback(function(R){R&&(R.removeEventListener("wheel",m,!1),R.removeEventListener("touchstart",v,!1),R.removeEventListener("touchmove",x,!1))},[x,v,m]);return H.useEffect(function(){if(t){var R=h.current;return w(R),function(){E(R)}}},[t,w,E]),function(R){h.current=R}}var Ok=["boxSizing","height","overflow","paddingRight","position"],Lk={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Pk(e){e.cancelable&&e.preventDefault()}function Fk(e){e.stopPropagation()}function Bk(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Nk(){return"ontouchstart"in window||navigator.maxTouchPoints}var _k=!!(typeof window<"u"&&window.document&&window.document.createElement),zf=0,zu={capture:!1,passive:!1};function SN(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,i=H.useRef({}),s=H.useRef(null),l=H.useCallback(function(c){if(_k){var h=document.body,g=h&&h.style;if(r&&Ok.forEach(function(w){var E=g&&g[w];i.current[w]=E}),r&&zf<1){var m=parseInt(i.current.paddingRight,10)||0,v=document.body?document.body.clientWidth:0,x=window.innerWidth-v+m||0;Object.keys(Lk).forEach(function(w){var E=Lk[w];g&&(g[w]=E)}),g&&(g.paddingRight="".concat(x,"px"))}h&&Nk()&&(h.addEventListener("touchmove",Pk,zu),c&&(c.addEventListener("touchstart",Bk,zu),c.addEventListener("touchmove",Fk,zu))),zf+=1}},[r]),u=H.useCallback(function(c){if(_k){var h=document.body,g=h&&h.style;zf=Math.max(zf-1,0),r&&zf<1&&Ok.forEach(function(m){var v=i.current[m];g&&(g[m]=v)}),h&&Nk()&&(h.removeEventListener("touchmove",Pk,zu),c&&(c.removeEventListener("touchstart",Bk,zu),c.removeEventListener("touchmove",Fk,zu)))}},[r]);return H.useEffect(function(){if(t){var c=s.current;return l(c),function(){u(c)}}},[t,l,u]),function(c){s.current=c}}var CN=function(t){var n=t.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},kN={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function IN(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,i=r===void 0?!0:r,s=e.onBottomArrive,l=e.onBottomLeave,u=e.onTopArrive,c=e.onTopLeave,h=wN({isEnabled:i,onBottomArrive:s,onBottomLeave:l,onTopArrive:u,onTopLeave:c}),g=SN({isEnabled:n}),m=function(x){h(x),g(x)};return wt(H.Fragment,null,n&&wt("div",{onClick:CN,css:kN}),t(m))}var EN={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},DN=function(t){var n=t.name,r=t.onFocus;return wt("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:EN,value:"",onChange:function(){}})},MN=DN;function RA(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function RN(){return RA(/^iPhone/i)}function jk(){return RA(/^Mac/i)}function TN(){return RA(/^iPad/i)||jk()&&navigator.maxTouchPoints>1}function ON(){return RN()||TN()}function LN(){return jk()||ON()}var PN=function(t){return t.label},FN=function(t){return t.label},BN=function(t){return t.value},NN=function(t){return!!t.isDisabled},_N={clearIndicator:x4,container:u4,control:E4,dropdownIndicator:v4,group:T4,groupHeading:L4,indicatorsContainer:h4,indicatorSeparator:w4,input:N4,loadingIndicator:k4,loadingMessage:i4,menu:qB,menuList:t4,menuPortal:a4,multiValue:U4,multiValueLabel:W4,multiValueRemove:K4,noOptionsMessage:r4,option:J4,placeholder:X4,singleValue:nN,valueContainer:f4},jN={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},zN=4,zk=4,HN=38,UN=zk*2,WN={baseUnit:zk,controlHeight:HN,menuGutter:UN},TA={borderRadius:zN,colors:jN,spacing:WN},KN={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:mk(),captureMenuScroll:!mk(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:vN(),formatGroupLabel:PN,getOptionLabel:FN,getOptionValue:BN,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:NN,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!HB(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Hk(e,t,n,r){var i=$k(e,t,n),s=Gk(e,t,n),l=Qk(e,t),u=eg(e,t);return{type:"option",data:t,isDisabled:i,isSelected:s,label:l,value:u,index:r}}function Xp(e,t){return e.options.map(function(n,r){if("options"in n){var i=n.options.map(function(l,u){return Hk(e,l,t,u)}).filter(function(l){return Kk(e,l)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=Hk(e,n,t,r);return Kk(e,s)?s:void 0}).filter(KB)}function Uk(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,Bu(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function Wk(e,t){return e.reduce(function(n,r){return r.type==="group"?n.push.apply(n,Bu(r.options.map(function(i){return{data:i.data,id:"".concat(t,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),n},[])}function QN(e,t){return Uk(Xp(e,t))}function Kk(e,t){var n=e.inputValue,r=n===void 0?"":n,i=t.data,s=t.isSelected,l=t.label,u=t.value;return(!Yk(e)||!s)&&Vk(e,{label:l,value:u,data:i},r)}function $N(e,t){var n=e.focusedValue,r=e.selectValue,i=r.indexOf(n);if(i>-1){var s=t.indexOf(n);if(s>-1)return n;if(i<t.length)return t[i]}return null}function GN(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var OA=function(t,n){var r,i=(r=t.find(function(s){return s.data===n}))===null||r===void 0?void 0:r.id;return i||null},Qk=function(t,n){return t.getOptionLabel(n)},eg=function(t,n){return t.getOptionValue(n)};function $k(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function Gk(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=eg(e,t);return n.some(function(i){return eg(e,i)===r})}function Vk(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var Yk=function(t){var n=t.hideSelectedOptions,r=t.isMulti;return n===void 0?r:n},VN=1,Jk=function(e){uF(n,e);var t=dF(n);function n(r){var i;if(aF(this,n),i=t.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(c){i.controlRef=c},i.focusedOptionRef=null,i.getFocusedOptionRef=function(c){i.focusedOptionRef=c},i.menuListRef=null,i.getMenuListRef=function(c){i.menuListRef=c},i.inputRef=null,i.getInputRef=function(c){i.inputRef=c},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(c,h){var g=i.props,m=g.onChange,v=g.name;h.name=v,i.ariaOnChange(c,h),m(c,h)},i.setValue=function(c,h,g){var m=i.props,v=m.closeMenuOnSelect,x=m.isMulti,w=m.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:w}),v&&(i.setState({inputIsHiddenAfterUpdate:!x}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(c,{action:h,option:g})},i.selectOption=function(c){var h=i.props,g=h.blurInputOnSelect,m=h.isMulti,v=h.name,x=i.state.selectValue,w=m&&i.isOptionSelected(c,x),E=i.isOptionDisabled(c,x);if(w){var R=i.getOptionValue(c);i.setValue(x.filter(function(S){return i.getOptionValue(S)!==R}),"deselect-option",c)}else if(!E)m?i.setValue([].concat(Bu(x),[c]),"select-option",c):i.setValue(c,"select-option");else{i.ariaOnChange(c,{action:"select-option",option:c,name:v});return}g&&i.blurInput()},i.removeValue=function(c){var h=i.props.isMulti,g=i.state.selectValue,m=i.getOptionValue(c),v=g.filter(function(w){return i.getOptionValue(w)!==m}),x=Zp(h,v,v[0]||null);i.onChange(x,{action:"remove-value",removedValue:c}),i.focusInput()},i.clearValue=function(){var c=i.state.selectValue;i.onChange(Zp(i.props.isMulti,[],null),{action:"clear",removedValues:c})},i.popValue=function(){var c=i.props.isMulti,h=i.state.selectValue,g=h[h.length-1],m=h.slice(0,h.length-1),v=Zp(c,m,m[0]||null);g&&i.onChange(v,{action:"pop-value",removedValue:g})},i.getFocusedOptionId=function(c){return OA(i.state.focusableOptionsWithIds,c)},i.getFocusableOptionsWithIds=function(){return Wk(Xp(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return BB.apply(void 0,[i.props.classNamePrefix].concat(h))},i.getOptionLabel=function(c){return Qk(i.props,c)},i.getOptionValue=function(c){return eg(i.props,c)},i.getStyles=function(c,h){var g=i.props.unstyled,m=_N[c](h,g);m.boxSizing="border-box";var v=i.props.styles[c];return v?v(m,h):m},i.getClassNames=function(c,h){var g,m;return(g=(m=i.props.classNames)[c])===null||g===void 0?void 0:g.call(m,h)},i.getElementId=function(c){return"".concat(i.state.instancePrefix,"-").concat(c)},i.getComponents=function(){return sN(i.props)},i.buildCategorizedOptions=function(){return Xp(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return Uk(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(c,h){i.setState({ariaSelection:Et({value:c},h)})},i.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(c){i.blockOptionHover=!1},i.onControlMouseDown=function(c){if(!c.defaultPrevented){var h=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&i.onMenuClose():h&&i.openMenu("first"):(h&&(i.openAfterFocus=!0),i.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},i.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!i.props.isDisabled){var h=i.props,g=h.isMulti,m=h.menuIsOpen;i.focusInput(),m?(i.setState({inputIsHiddenAfterUpdate:!g}),i.onMenuClose()):i.openMenu("first"),c.preventDefault()}},i.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(i.clearValue(),c.preventDefault(),i.openAfterFocus=!1,c.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(c){typeof i.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&Vp(c.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(c)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(c){var h=c.touches,g=h&&h.item(0);g&&(i.initialTouchX=g.clientX,i.initialTouchY=g.clientY,i.userIsDragging=!1)},i.onTouchMove=function(c){var h=c.touches,g=h&&h.item(0);if(g){var m=Math.abs(g.clientX-i.initialTouchX),v=Math.abs(g.clientY-i.initialTouchY),x=5;i.userIsDragging=m>x||v>x}},i.onTouchEnd=function(c){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(c.target)&&i.menuListRef&&!i.menuListRef.contains(c.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(c){i.userIsDragging||i.onControlMouseDown(c)},i.onClearIndicatorTouchEnd=function(c){i.userIsDragging||i.onClearIndicatorMouseDown(c)},i.onDropdownIndicatorTouchEnd=function(c){i.userIsDragging||i.onDropdownIndicatorMouseDown(c)},i.handleInputChange=function(c){var h=i.props.inputValue,g=c.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(g,{action:"input-change",prevInputValue:h}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(c){i.props.onFocus&&i.props.onFocus(c),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(c){var h=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(c),i.onInputChange("",{action:"input-blur",prevInputValue:h}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(c){if(!(i.blockOptionHover||i.state.focusedOption===c)){var h=i.getFocusableOptions(),g=h.indexOf(c);i.setState({focusedOption:c,focusedOptionId:g>-1?i.getFocusedOptionId(c):null})}},i.shouldHideSelectedOptions=function(){return Yk(i.props)},i.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),i.focus()},i.onKeyDown=function(c){var h=i.props,g=h.isMulti,m=h.backspaceRemovesValue,v=h.escapeClearsValue,x=h.inputValue,w=h.isClearable,E=h.isDisabled,R=h.menuIsOpen,S=h.onKeyDown,k=h.tabSelectsValue,M=h.openMenuOnFocus,P=i.state,W=P.focusedOption,z=P.focusedValue,Q=P.selectValue;if(!E&&!(typeof S=="function"&&(S(c),c.defaultPrevented))){switch(i.blockOptionHover=!0,c.key){case"ArrowLeft":if(!g||x)return;i.focusValue("previous");break;case"ArrowRight":if(!g||x)return;i.focusValue("next");break;case"Delete":case"Backspace":if(x)return;if(z)i.removeValue(z);else{if(!m)return;g?i.popValue():w&&i.clearValue()}break;case"Tab":if(i.isComposing||c.shiftKey||!R||!k||!W||M&&i.isOptionSelected(W,Q))return;i.selectOption(W);break;case"Enter":if(c.keyCode===229)break;if(R){if(!W||i.isComposing)return;i.selectOption(W);break}return;case"Escape":R?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:x}),i.onMenuClose()):w&&v&&i.clearValue();break;case" ":if(x)return;if(!R){i.openMenu("first");break}if(!W)return;i.selectOption(W);break;case"ArrowUp":R?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":R?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!R)return;i.focusOption("pageup");break;case"PageDown":if(!R)return;i.focusOption("pagedown");break;case"Home":if(!R)return;i.focusOption("first");break;case"End":if(!R)return;i.focusOption("last");break;default:return}c.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++VN),i.state.selectValue=dk(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),l=i.buildFocusableOptions(),u=l.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=l[u],i.state.focusedOptionId=OA(s,l[u])}return i}return lF(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&gk(this.menuListRef,this.focusedOptionRef),LN()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(i){var s=this.props,l=s.isDisabled,u=s.menuIsOpen,c=this.state.isFocused;(c&&!l&&i.isDisabled||c&&u&&!i.menuIsOpen)&&this.focusInput(),c&&l&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!l&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(gk(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,l=this.state,u=l.selectValue,c=l.isFocused,h=this.buildFocusableOptions(),g=i==="first"?0:h.length-1;if(!this.props.isMulti){var m=h.indexOf(u[0]);m>-1&&(g=m)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:h[g],focusedOptionId:this.getFocusedOptionId(h[g])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,l=s.selectValue,u=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=l.indexOf(u);u||(c=-1);var h=l.length-1,g=-1;if(l.length){switch(i){case"previous":c===0?g=0:c===-1?g=h:g=c-1;break;case"next":c>-1&&c<h&&(g=c+1);break}this.setState({inputIsHidden:g!==-1,focusedValue:l[g]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,l=this.state.focusedOption,u=this.getFocusableOptions();if(u.length){var c=0,h=u.indexOf(l);l||(h=-1),i==="up"?c=h>0?h-1:u.length-1:i==="down"?c=(h+1)%u.length:i==="pageup"?(c=h-s,c<0&&(c=0)):i==="pagedown"?(c=h+s,c>u.length-1&&(c=u.length-1)):i==="last"&&(c=u.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:u[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(u[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(TA):Et(Et({},TA),this.props.theme):TA}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,l=this.getStyles,u=this.getClassNames,c=this.getValue,h=this.selectOption,g=this.setValue,m=this.props,v=m.isMulti,x=m.isRtl,w=m.options,E=this.hasValue();return{clearValue:i,cx:s,getStyles:l,getClassNames:u,getValue:c,hasValue:E,isMulti:v,isRtl:x,options:w,selectOption:h,selectProps:m,setValue:g,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,l=i.isMulti;return s===void 0?l:s}},{key:"isOptionDisabled",value:function(i,s){return $k(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return Gk(this.props,i,s)}},{key:"filterOption",value:function(i,s){return Vk(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var l=this.props.inputValue,u=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:l,selectValue:u})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,l=i.isSearchable,u=i.inputId,c=i.inputValue,h=i.tabIndex,g=i.form,m=i.menuIsOpen,v=i.required,x=this.getComponents(),w=x.Input,E=this.state,R=E.inputIsHidden,S=E.ariaSelection,k=this.commonProps,M=u||this.getElementId("input"),P=Et(Et(Et({"aria-autocomplete":"list","aria-expanded":m,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":v,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},m&&{"aria-controls":this.getElementId("listbox")}),!l&&{"aria-readonly":!0}),this.hasValue()?(S==null?void 0:S.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return l?H.createElement(w,Rt({},k,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:M,innerRef:this.getInputRef,isDisabled:s,isHidden:R,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:h,form:g,type:"text",value:c},P)):H.createElement(xN,Rt({id:M,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Gp,onFocus:this.onInputFocus,disabled:s,tabIndex:h,inputMode:"none",form:g,value:""},P))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),l=s.MultiValue,u=s.MultiValueContainer,c=s.MultiValueLabel,h=s.MultiValueRemove,g=s.SingleValue,m=s.Placeholder,v=this.commonProps,x=this.props,w=x.controlShouldRenderValue,E=x.isDisabled,R=x.isMulti,S=x.inputValue,k=x.placeholder,M=this.state,P=M.selectValue,W=M.focusedValue,z=M.isFocused;if(!this.hasValue()||!w)return S?null:H.createElement(m,Rt({},v,{key:"placeholder",isDisabled:E,isFocused:z,innerProps:{id:this.getElementId("placeholder")}}),k);if(R)return P.map(function($,se){var F=$===W,Y="".concat(i.getOptionLabel($),"-").concat(i.getOptionValue($));return H.createElement(l,Rt({},v,{components:{Container:u,Label:c,Remove:h},isFocused:F,isDisabled:E,key:Y,index:se,removeProps:{onClick:function(){return i.removeValue($)},onTouchEnd:function(){return i.removeValue($)},onMouseDown:function(J){J.preventDefault()}},data:$}),i.formatOptionLabel($,"value"))});if(S)return null;var Q=P[0];return H.createElement(g,Rt({},v,{data:Q,isDisabled:E}),this.formatOptionLabel(Q,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,l=this.commonProps,u=this.props,c=u.isDisabled,h=u.isLoading,g=this.state.isFocused;if(!this.isClearable()||!s||c||!this.hasValue()||h)return null;var m={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return H.createElement(s,Rt({},l,{innerProps:m,isFocused:g}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,l=this.commonProps,u=this.props,c=u.isDisabled,h=u.isLoading,g=this.state.isFocused;if(!s||!h)return null;var m={"aria-hidden":"true"};return H.createElement(s,Rt({},l,{innerProps:m,isDisabled:c,isFocused:g}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,l=i.IndicatorSeparator;if(!s||!l)return null;var u=this.commonProps,c=this.props.isDisabled,h=this.state.isFocused;return H.createElement(l,Rt({},u,{isDisabled:c,isFocused:h}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var l=this.commonProps,u=this.props.isDisabled,c=this.state.isFocused,h={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return H.createElement(s,Rt({},l,{innerProps:h,isDisabled:u,isFocused:c}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),l=s.Group,u=s.GroupHeading,c=s.Menu,h=s.MenuList,g=s.MenuPortal,m=s.LoadingMessage,v=s.NoOptionsMessage,x=s.Option,w=this.commonProps,E=this.state.focusedOption,R=this.props,S=R.captureMenuScroll,k=R.inputValue,M=R.isLoading,P=R.loadingMessage,W=R.minMenuHeight,z=R.maxMenuHeight,Q=R.menuIsOpen,$=R.menuPlacement,se=R.menuPosition,F=R.menuPortalTarget,Y=R.menuShouldBlockScroll,re=R.menuShouldScrollIntoView,J=R.noOptionsMessage,V=R.onMenuScrollToTop,B=R.onMenuScrollToBottom;if(!Q)return null;var Re=function(G,_e){var Be=G.type,Oe=G.data,Ue=G.isDisabled,oe=G.isSelected,Se=G.label,Ee=G.value,Fe=E===Oe,Ye=Ue?void 0:function(){return i.onOptionHover(Oe)},tt=Ue?void 0:function(){return i.selectOption(Oe)},Ne="".concat(i.getElementId("option"),"-").concat(_e),Pt={id:Ne,onClick:tt,onMouseMove:Ye,onMouseOver:Ye,tabIndex:-1,role:"option","aria-selected":i.state.isAppleDevice?void 0:oe};return H.createElement(x,Rt({},w,{innerProps:Pt,data:Oe,isDisabled:Ue,isSelected:oe,key:Ne,label:Se,type:Be,value:Ee,isFocused:Fe,innerRef:Fe?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(G.data,"menu"))},Te;if(this.hasOptions())Te=this.getCategorizedOptions().map(function(ve){if(ve.type==="group"){var G=ve.data,_e=ve.options,Be=ve.index,Oe="".concat(i.getElementId("group"),"-").concat(Be),Ue="".concat(Oe,"-heading");return H.createElement(l,Rt({},w,{key:Oe,data:G,options:_e,Heading:u,headingProps:{id:Ue,data:ve.data},label:i.formatGroupLabel(ve.data)}),ve.options.map(function(oe){return Re(oe,"".concat(Be,"-").concat(oe.index))}))}else if(ve.type==="option")return Re(ve,"".concat(ve.index))});else if(M){var me=P({inputValue:k});if(me===null)return null;Te=H.createElement(m,w,me)}else{var ae=J({inputValue:k});if(ae===null)return null;Te=H.createElement(v,w,ae)}var N={minMenuHeight:W,maxMenuHeight:z,menuPlacement:$,menuPosition:se,menuShouldScrollIntoView:re},de=H.createElement(ZB,Rt({},w,N),function(ve){var G=ve.ref,_e=ve.placerProps,Be=_e.placement,Oe=_e.maxHeight;return H.createElement(c,Rt({},w,N,{innerRef:G,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:M,placement:Be}),H.createElement(IN,{captureEnabled:S,onTopArrive:V,onBottomArrive:B,lockEnabled:Y},function(Ue){return H.createElement(h,Rt({},w,{innerRef:function(Se){i.getMenuListRef(Se),Ue(Se)},innerProps:{role:"listbox","aria-multiselectable":w.isMulti,id:i.getElementId("listbox")},isLoading:M,maxHeight:Oe,focusedOption:E}),Te)}))});return F||se==="fixed"?H.createElement(g,Rt({},w,{appendTo:F,controlElement:this.controlRef,menuPlacement:$,menuPosition:se}),de):de}},{key:"renderFormField",value:function(){var i=this,s=this.props,l=s.delimiter,u=s.isDisabled,c=s.isMulti,h=s.name,g=s.required,m=this.state.selectValue;if(g&&!this.hasValue()&&!u)return H.createElement(MN,{name:h,onFocus:this.onValueInputFocus});if(!(!h||u))if(c)if(l){var v=m.map(function(E){return i.getOptionValue(E)}).join(l);return H.createElement("input",{name:h,type:"hidden",value:v})}else{var x=m.length>0?m.map(function(E,R){return H.createElement("input",{key:"i-".concat(R),name:h,type:"hidden",value:i.getOptionValue(E)})}):H.createElement("input",{name:h,type:"hidden",value:""});return H.createElement("div",null,x)}else{var w=m[0]?this.getOptionValue(m[0]):"";return H.createElement("input",{name:h,type:"hidden",value:w})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,l=s.ariaSelection,u=s.focusedOption,c=s.focusedValue,h=s.isFocused,g=s.selectValue,m=this.getFocusableOptions();return H.createElement(pN,Rt({},i,{id:this.getElementId("live-region"),ariaSelection:l,focusedOption:u,focusedValue:c,isFocused:h,selectValue:g,focusableOptions:m,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,l=i.IndicatorsContainer,u=i.SelectContainer,c=i.ValueContainer,h=this.props,g=h.className,m=h.id,v=h.isDisabled,x=h.menuIsOpen,w=this.state.isFocused,E=this.commonProps=this.getCommonProps();return H.createElement(u,Rt({},E,{className:g,innerProps:{id:m,onKeyDown:this.onKeyDown},isDisabled:v,isFocused:w}),this.renderLiveRegion(),H.createElement(s,Rt({},E,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:v,isFocused:w,menuIsOpen:x}),H.createElement(c,Rt({},E,{isDisabled:v}),this.renderPlaceholderOrValue(),this.renderInput()),H.createElement(l,Rt({},E,{isDisabled:v}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var l=s.prevProps,u=s.clearFocusValueOnUpdate,c=s.inputIsHiddenAfterUpdate,h=s.ariaSelection,g=s.isFocused,m=s.prevWasFocused,v=s.instancePrefix,x=i.options,w=i.value,E=i.menuIsOpen,R=i.inputValue,S=i.isMulti,k=dk(w),M={};if(l&&(w!==l.value||x!==l.options||E!==l.menuIsOpen||R!==l.inputValue)){var P=E?QN(i,k):[],W=E?Wk(Xp(i,k),"".concat(v,"-option")):[],z=u?$N(s,k):null,Q=GN(s,P),$=OA(W,Q);M={selectValue:k,focusedOption:Q,focusedOptionId:$,focusableOptionsWithIds:W,focusedValue:z,clearFocusValueOnUpdate:!1}}var se=c!=null&&i!==l?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},F=h,Y=g&&m;return g&&!Y&&(F={value:Zp(S,k,k[0]||null),options:k,action:"initial-input-focus"},Y=!m),(h==null?void 0:h.action)==="initial-input-focus"&&(F=null),Et(Et(Et({},M),se),{},{prevProps:i,ariaSelection:F,prevWasFocused:Y})}}]),n}(H.Component);Jk.defaultProps=KN;var YN=H.forwardRef(function(e,t){var n=sF(e);return H.createElement(Jk,Rt({ref:t},n))}),JN=YN;function qN({value:e,onValueChange:t,options:n,placeholder:r="Select...",width:i="100%"}){const{c:s}=Tt(),{fs:l}=_t(),u={container:h=>({...h,width:i}),control:(h,g)=>({...h,minHeight:"36px",backgroundColor:s("bg","primary"),borderColor:g.isFocused?s("border","active"):s("border","subtle"),borderRadius:"4px",boxShadow:"none",cursor:"pointer","&:hover":{borderColor:s("border","primary")}}),singleValue:h=>({...h,color:s("text","primary"),fontSize:l("md")}),placeholder:h=>({...h,color:s("text","tertiary"),fontSize:l("md")}),menu:h=>({...h,backgroundColor:s("bg","primary"),border:`1px solid ${s("border","primary")}`,borderRadius:"6px",boxShadow:"0 4px 12px oklch(0% 0 0 / 0.15)",zIndex:1e3}),menuList:h=>({...h,padding:"4px"}),option:(h,g)=>({...h,backgroundColor:g.isSelected?s("primary","main"):g.isFocused?s("bg","hover"):"transparent",color:g.isSelected?s("buttonText","onPrimary"):s("text","primary"),fontSize:l("md"),borderRadius:"4px",cursor:"pointer","&:active":{backgroundColor:g.isSelected?s("primary","main"):s("bg","hover")}}),indicatorSeparator:()=>({display:"none"}),dropdownIndicator:h=>({...h,color:s("text","secondary"),padding:"0 8px","&:hover":{color:s("text","primary")}}),input:h=>({...h,color:s("text","primary")})},c=n.find(h=>h.value===e)||null;return T.jsx(JN,{value:c,onChange:h=>{h&&t(h.value)},options:n,placeholder:r,styles:u,isSearchable:!1})}const ZN={analyzePage:{streaming:"Preparing analysis...",executing:"Evaluating analysis...",finished:"Page analyzed",failed:"Analysis failed"},fetchPage:{streaming:"Preparing fetch...",executing:"Fetching page content...",finished:"Page fetched",failed:"Fetch page failed"},writeNew:{streaming:"Preparing script...",executing:"Creating script...",finished:"Script created",failed:"Create script failed"},update:{streaming:"Preparing update...",executing:"Updating script...",finished:"Script updated",failed:"Update script failed"},append:{streaming:"Preparing append...",executing:"Appending to script...",finished:"Code appended",failed:"Append failed"},reExecute:{streaming:"Preparing re-execution...",executing:"Re-executing script...",finished:"Script re-executed",failed:"Re-execution failed"},listScripts:{streaming:"Preparing...",executing:"Listing scripts...",finished:"Scripts listed",failed:"Listing scripts failed"},inspectImage:{streaming:"Preparing...",executing:"Inspecting image...",finished:"Image inspected",failed:"Inspect image failed"},grabScreenshot:{streaming:"Preparing...",executing:"Capturing screenshot...",finished:"Screenshot analyzed",failed:"Capture screenshot failed"},retrieveChatHistory:{streaming:"Preparing search...",executing:"Searching history...",finished:"History retrieved",failed:"History search failed"}},XN={analyzePage:"Analyze Page",fetchPage:"Fetch Page",listScripts:"List Scripts",writeNew:"Write New Script",update:"Update Script",append:"Append to Script",reExecute:"Re-execute Script"};function qk({toolUsePermissions:e,onToggle:t}){const{c:n}=Tt(),{fs:r}=_t();return T.jsx("div",{style:{maxWidth:"280px"},children:Object.entries(XN).map(([i,s])=>T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"4px 0"},children:[T.jsx("span",{style:{fontSize:r("base"),color:n("text","primary")},children:s}),T.jsx(Sl,{checked:e[i]==="approved",onChange:l=>t(i,l),size:"sm"})]},i))})}function tg({title:e,description:t,enabled:n,onToggle:r,children:i}){const{c:s}=Tt(),{fs:l,fw:u}=_t();return T.jsxs("div",{className:"rule-card",style:{border:`1px solid ${s("border","subtle")}`,borderRadius:"8px",padding:"16px",marginBottom:"12px",backgroundColor:s("bg","primary"),maxWidth:"340px"},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[T.jsxs("div",{style:{flex:1},children:[T.jsx("div",{style:{fontSize:l("md"),fontWeight:u("medium"),color:s("text","primary"),marginBottom:"4px"},children:e}),T.jsx("div",{style:{fontSize:l("sm"),color:s("text","secondary")},children:t})]}),T.jsx(Sl,{checked:n,onChange:r,size:"sm"})]}),T.jsx("div",{style:{opacity:n?1:.4,pointerEvents:n?"auto":"none",transition:"opacity 0.2s"},children:i})]})}function Zk({title:e,description:t,ruleKey:n,placeholder:r,rule:i,onUpdate:s}){var c;const{c:l}=Tt(),{fs:u}=_t();return T.jsxs(tg,{title:e,description:t,enabled:(i==null?void 0:i.enabled)??!1,onToggle:h=>s({enabled:h,values:(i==null?void 0:i.values)??[]}),children:[T.jsx("textarea",{value:((c=i==null?void 0:i.values)==null?void 0:c.join(`
`))??"",onChange:h=>s({enabled:!0,values:h.target.value.split(`
`)}),placeholder:r,className:"rule-textarea",style:{width:"100%",height:"80px",padding:"8px 12px",border:`1px solid ${l("border","subtle")}`,borderRadius:"6px",fontSize:u("base"),backgroundColor:l("bg","secondary"),color:l("text","primary"),resize:"vertical",fontFamily:"monospace",boxSizing:"border-box"}}),T.jsx("p",{style:{fontSize:u("xs"),color:l("text","secondary"),marginTop:"6px"},children:"One term per line (supports regex)"})]},n)}function e_({scriptRules:e,setScriptRules:t}){var m,v,x,w;const{c:n}=Tt(),{fs:r,fw:i}=_t(),[s,l]=H.useState(!1),u=(E,R)=>{t({...e,[E]:R})},c=((m=e.maxOutputLength)==null?void 0:m.enabled)??!1,h=((v=e.chatScriptsTimeout)==null?void 0:v.enabled)??!1,g=e.allowRequire!==!1;return T.jsxs("div",{style:{marginTop:"24px"},children:[T.jsxs("div",{onMouseDown:()=>l(!s),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",userSelect:"none"},children:[T.jsx("span",{style:{fontSize:r("sm"),color:n("text","secondary"),transform:s?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""}),T.jsx("span",{style:{fontSize:r("base"),fontWeight:i("medium"),color:n("text","secondary")},children:"Script Rules"})]}),s&&T.jsxs("div",{style:{marginTop:"16px"},children:[T.jsx(tg,{title:"Max Output Length",description:"Truncate read results that exceed the character limit",enabled:c,onToggle:E=>{var R;return u("maxOutputLength",{enabled:E,value:((R=e.maxOutputLength)==null?void 0:R.value)??null})},children:T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[T.jsx("input",{type:"number",placeholder:"10000",value:((x=e.maxOutputLength)==null?void 0:x.value)??"",onChange:E=>u("maxOutputLength",{enabled:!0,value:E.target.value===""?null:parseInt(E.target.value)}),onWheel:E=>E.currentTarget.blur(),className:"rule-input",style:{width:"100px",padding:"8px 12px",border:`1px solid ${n("border","subtle")}`,borderRadius:"6px",fontSize:r("base"),backgroundColor:n("bg","secondary"),color:n("text","primary")}}),T.jsx("span",{style:{fontSize:r("base"),color:n("text","secondary")},children:"characters"})]})}),T.jsx(Zk,{title:"Forbidden Output Text",description:"Return error if read results contain blocked terms",ruleKey:"forbiddenOutputText",placeholder:`secret
unwanted`,rule:e.forbiddenOutputText,onUpdate:E=>u("forbiddenOutputText",E)}),T.jsx(Zk,{title:"Forbidden Tool Text",description:"Block tool calls whose arguments contain these terms",ruleKey:"forbiddenToolText",placeholder:`XMLHttpRequest
eval\\(`,rule:e.forbiddenToolText,onUpdate:E=>u("forbiddenToolText",E)}),T.jsxs(tg,{title:"Chat Scripts Timeout",description:"Timeout for scripts executed from chat",enabled:h,onToggle:E=>{var R;return u("chatScriptsTimeout",{enabled:E,value:((R=e.chatScriptsTimeout)==null?void 0:R.value)??null})},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[T.jsx("input",{type:"number",placeholder:"30",value:((w=e.chatScriptsTimeout)==null?void 0:w.value)??"",onChange:E=>u("chatScriptsTimeout",{enabled:!0,value:E.target.value===""?null:Number(E.target.value)}),onWheel:E=>E.currentTarget.blur(),className:"rule-input",style:{width:"80px",padding:"8px 12px",border:`1px solid ${n("border","subtle")}`,borderRadius:"6px",fontSize:r("base"),backgroundColor:n("bg","secondary"),color:n("text","primary")}}),T.jsx("span",{style:{fontSize:r("base"),color:n("text","secondary")},children:"seconds"})]}),T.jsx("p",{style:{fontSize:r("xs"),color:n("text","secondary"),marginTop:"6px"},children:"Applies to scripts created from the chat"})]}),T.jsx(tg,{title:"Allow @require",description:"Load external scripts referenced in @require headers",enabled:g,onToggle:E=>u("allowRequire",E),children:T.jsx(T.Fragment,{})})]})]})}const t_="858119213465-11uh9gni06sbs6ruuaddh54oqkv9s02o.apps.googleusercontent.com";async function n_(){var h;if(!((h=chrome.identity)!=null&&h.getRedirectURL))throw new Error("Identity permission not available. Update your extension.");const e=chrome.identity.getRedirectURL(),t=crypto.randomUUID(),n=new URL("https://accounts.google.com/o/oauth2/v2/auth");n.searchParams.set("client_id",t_),n.searchParams.set("response_type","id_token"),n.searchParams.set("redirect_uri",e),n.searchParams.set("scope","openid email profile"),n.searchParams.set("nonce",t);const r=await chrome.identity.launchWebAuthFlow({url:n.toString(),interactive:!0});if(!r)throw new Error("Authentication was cancelled");const i=new URL(r).hash.substring(1),l=new URLSearchParams(i).get("id_token");if(!l)throw new Error("No ID token in response");const u=await fetch(xl().authGoogle,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:l,clientType:"extension"})});if(!u.ok){const g=await u.json().catch(()=>({}));throw new Error(g.error||"Authentication failed")}const c=await u.json();return await chrome.storage.local.set({authToken:c.token,authUser:c.user}),Ap(c.token),{token:c.token,user:c.user}}async function r_(){await chrome.storage.local.remove(["authToken","authUser"]),Ap(null)}async function i_(){const e=await chrome.storage.local.get(["authToken","authUser","installId"]);if(e.installId)gC(e.installId);else{const t=crypto.randomUUID();await chrome.storage.local.set({installId:t}),gC(t)}return{token:e.authToken??null,user:e.authUser??null}}function Xk(){const[e,t]=H.useState(null),[n,r]=H.useState(!0);H.useEffect(()=>{i_().then(l=>{t(l.user),Ap(l.token),r(!1)})},[]),H.useEffect(()=>{const l=(u,c)=>{c==="local"&&(u.authUser&&t(u.authUser.newValue??null),u.authToken&&Ap(u.authToken.newValue??null))};return chrome.storage.onChanged.addListener(l),()=>chrome.storage.onChanged.removeListener(l)},[]);const i=fC({mutationFn:n_,onSuccess:l=>t(l.user)}),s=fC({mutationFn:r_,onSuccess:()=>t(null)});return{user:e,isAuthenticated:e!==null,isHydrating:n,signIn:()=>i.mutate(),signOut:()=>s.mutate(),isSigningIn:i.isPending,signInError:i.error}}function o_(){const{c:e}=Tt(),{fs:t,fw:n}=_t(),{user:r,isAuthenticated:i,isHydrating:s,signIn:l,signOut:u,isSigningIn:c,signInError:h}=Xk();return s?T.jsx("p",{style:{fontSize:t("sm"),color:e("text","secondary")},children:"Loading..."}):i&&r?T.jsx(T.Fragment,{children:T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[r.imageUrl&&T.jsx("img",{src:r.imageUrl,alt:"",width:32,height:32,style:{borderRadius:"50%"}}),T.jsx("div",{style:{flex:1,minWidth:0},children:T.jsx("p",{style:{fontSize:t("sm"),color:e("text","primary"),margin:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:r.email})}),T.jsx("button",{onClick:u,style:{fontSize:t("sm"),color:e("text","secondary"),background:"none",border:"none",cursor:"pointer",padding:"4px 8px"},children:"Sign out"})]})}):T.jsxs("div",{children:[T.jsx("button",{onClick:l,disabled:c,style:{fontSize:t("sm"),fontWeight:n("medium"),color:e("text","primary"),backgroundColor:e("bg","tertiary"),border:`1px solid ${e("border","subtle")}`,borderRadius:"6px",padding:"8px 16px",cursor:c?"default":"pointer",opacity:c?.6:1},children:c?T.jsxs(T.Fragment,{children:["Signing in ",T.jsx(Pf,{size:"inline",speed:"medium"})]}):"Sign in"}),h&&T.jsx("p",{style:{fontSize:t("sm"),color:e("error","text"),marginTop:"8px"},children:h.message})]})}const eI="scripts";async function Jo(){const{scripts:e=[]}=await chrome.storage.local.get(eI);return e}async function $r(e){await chrome.storage.local.set({[eI]:e})}var tI={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(qt,function(){var n=function(y,b){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,O){I.__proto__=O}||function(I,O){for(var _ in O)Object.prototype.hasOwnProperty.call(O,_)&&(I[_]=O[_])})(y,b)},r=function(){return(r=Object.assign||function(y){for(var b,I=1,O=arguments.length;I<O;I++)for(var _ in b=arguments[I])Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_]);return y}).apply(this,arguments)};function i(y,b,I){for(var O,_=0,K=b.length;_<K;_++)!O&&_ in b||((O=O||Array.prototype.slice.call(b,0,_))[_]=b[_]);return y.concat(O||Array.prototype.slice.call(b))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:qt,l=Object.keys,u=Array.isArray;function c(y,b){return typeof b!="object"||l(b).forEach(function(I){y[I]=b[I]}),y}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var h=Object.getPrototypeOf,g={}.hasOwnProperty;function m(y,b){return g.call(y,b)}function v(y,b){typeof b=="function"&&(b=b(h(y))),(typeof Reflect>"u"?l:Reflect.ownKeys)(b).forEach(function(I){w(y,I,b[I])})}var x=Object.defineProperty;function w(y,b,I,O){x(y,b,c(I&&m(I,"get")&&typeof I.get=="function"?{get:I.get,set:I.set,configurable:!0}:{value:I,configurable:!0,writable:!0},O))}function E(y){return{from:function(b){return y.prototype=Object.create(b.prototype),w(y.prototype,"constructor",y),{extend:v.bind(null,y.prototype)}}}}var R=Object.getOwnPropertyDescriptor,S=[].slice;function k(y,b,I){return S.call(y,b,I)}function M(y,b){return b(y)}function P(y){if(!y)throw new Error("Assertion Failed")}function W(y){s.setImmediate?setImmediate(y):setTimeout(y,0)}function z(y,b){if(typeof b=="string"&&m(y,b))return y[b];if(!b)return y;if(typeof b!="string"){for(var I=[],O=0,_=b.length;O<_;++O){var K=z(y,b[O]);I.push(K)}return I}var Z=b.indexOf(".");if(Z!==-1){var te=y[b.substr(0,Z)];return te==null?void 0:z(te,b.substr(Z+1))}}function Q(y,b,I){if(y&&b!==void 0&&!("isFrozen"in Object&&Object.isFrozen(y)))if(typeof b!="string"&&"length"in b){P(typeof I!="string"&&"length"in I);for(var O=0,_=b.length;O<_;++O)Q(y,b[O],I[O])}else{var K,Z,te=b.indexOf(".");te!==-1?(K=b.substr(0,te),(Z=b.substr(te+1))===""?I===void 0?u(y)&&!isNaN(parseInt(K))?y.splice(K,1):delete y[K]:y[K]=I:Q(te=!(te=y[K])||!m(y,K)?y[K]={}:te,Z,I)):I===void 0?u(y)&&!isNaN(parseInt(b))?y.splice(b,1):delete y[b]:y[b]=I}}function $(y){var b,I={};for(b in y)m(y,b)&&(I[b]=y[b]);return I}var se=[].concat;function F(y){return se.apply([],y)}var Me="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(F([8,16,32,64].map(function(y){return["Int","Uint","Float"].map(function(b){return b+y+"Array"})}))).filter(function(y){return s[y]}),Y=new Set(Me.map(function(y){return s[y]})),re=null;function J(y){return re=new WeakMap,y=function b(I){if(!I||typeof I!="object")return I;var O=re.get(I);if(O)return O;if(u(I)){O=[],re.set(I,O);for(var _=0,K=I.length;_<K;++_)O.push(b(I[_]))}else if(Y.has(I.constructor))O=I;else{var Z,te=h(I);for(Z in O=te===Object.prototype?{}:Object.create(te),re.set(I,O),I)m(I,Z)&&(O[Z]=b(I[Z]))}return O}(y),re=null,y}var V={}.toString;function B(y){return V.call(y).slice(8,-1)}var Re=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Te=typeof Re=="symbol"?function(y){var b;return y!=null&&(b=y[Re])&&b.apply(y)}:function(){return null};function me(y,b){return b=y.indexOf(b),0<=b&&y.splice(b,1),0<=b}var ae={};function N(y){var b,I,O,_;if(arguments.length===1){if(u(y))return y.slice();if(this===ae&&typeof y=="string")return[y];if(_=Te(y)){for(I=[];!(O=_.next()).done;)I.push(O.value);return I}if(y==null)return[y];if(typeof(b=y.length)!="number")return[y];for(I=new Array(b);b--;)I[b]=y[b];return I}for(b=arguments.length,I=new Array(b);b--;)I[b]=arguments[b];return I}var de=typeof Symbol<"u"?function(y){return y[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},wr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],wi=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(wr),ve={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function G(y,b){this.name=y,this.message=b}function _e(y,b){return y+". Errors: "+Object.keys(b).map(function(I){return b[I].toString()}).filter(function(I,O,_){return _.indexOf(I)===O}).join(`
`)}function Be(y,b,I,O){this.failures=b,this.failedKeys=O,this.successCount=I,this.message=_e(y,b)}function Oe(y,b){this.name="BulkError",this.failures=Object.keys(b).map(function(I){return b[I]}),this.failuresByPos=b,this.message=_e(y,this.failures)}E(G).from(Error).extend({toString:function(){return this.name+": "+this.message}}),E(Be).from(G),E(Oe).from(G);var Ue=wi.reduce(function(y,b){return y[b]=b+"Error",y},{}),oe=G,Se=wi.reduce(function(y,b){var I=b+"Error";function O(_,K){this.name=I,_?typeof _=="string"?(this.message="".concat(_).concat(K?`
 `+K:""),this.inner=K||null):typeof _=="object"&&(this.message="".concat(_.name," ").concat(_.message),this.inner=_):(this.message=ve[b]||I,this.inner=null)}return E(O).from(oe),y[b]=O,y},{});Se.Syntax=SyntaxError,Se.Type=TypeError,Se.Range=RangeError;var Ee=wr.reduce(function(y,b){return y[b+"Error"]=Se[b],y},{}),Fe=wi.reduce(function(y,b){return["Syntax","Type","Range"].indexOf(b)===-1&&(y[b+"Error"]=Se[b]),y},{});function Ye(){}function tt(y){return y}function Ne(y,b){return y==null||y===tt?b:function(I){return b(y(I))}}function Pt(y,b){return function(){y.apply(this,arguments),b.apply(this,arguments)}}function Ht(y,b){return y===Ye?b:function(){var I=y.apply(this,arguments);I!==void 0&&(arguments[0]=I);var O=this.onsuccess,_=this.onerror;this.onsuccess=null,this.onerror=null;var K=b.apply(this,arguments);return O&&(this.onsuccess=this.onsuccess?Pt(O,this.onsuccess):O),_&&(this.onerror=this.onerror?Pt(_,this.onerror):_),K!==void 0?K:I}}function Yt(y,b){return y===Ye?b:function(){y.apply(this,arguments);var I=this.onsuccess,O=this.onerror;this.onsuccess=this.onerror=null,b.apply(this,arguments),I&&(this.onsuccess=this.onsuccess?Pt(I,this.onsuccess):I),O&&(this.onerror=this.onerror?Pt(O,this.onerror):O)}}function En(y,b){return y===Ye?b:function(I){var O=y.apply(this,arguments);c(I,O);var _=this.onsuccess,K=this.onerror;return this.onsuccess=null,this.onerror=null,I=b.apply(this,arguments),_&&(this.onsuccess=this.onsuccess?Pt(_,this.onsuccess):_),K&&(this.onerror=this.onerror?Pt(K,this.onerror):K),O===void 0?I===void 0?void 0:I:c(O,I)}}function oi(y,b){return y===Ye?b:function(){return b.apply(this,arguments)!==!1&&y.apply(this,arguments)}}function Nt(y,b){return y===Ye?b:function(){var I=y.apply(this,arguments);if(I&&typeof I.then=="function"){for(var O=this,_=arguments.length,K=new Array(_);_--;)K[_]=arguments[_];return I.then(function(){return b.apply(O,K)})}return b.apply(this,arguments)}}Fe.ModifyError=Be,Fe.DexieError=G,Fe.BulkError=Oe;var Dn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function xo(y){Dn=y}var Ni={},Fo=100,Me=typeof Promise>"u"?[]:function(){var y=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[y,h(y),y];var b=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[b,h(b),y]}(),wr=Me[0],wi=Me[1],Me=Me[2],wi=wi&&wi.then,je=wr&&wr.constructor,St=!!Me,kt=function(y,b){At.push([y,b]),Cn&&(queueMicrotask(Jn),Cn=!1)},gt=!0,Cn=!0,vn=[],On=[],Sr=tt,Ln={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ye,pgp:!1,env:{},finalize:Ye},it=Ln,At=[],Bn=0,ht=[];function Je(y){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var b=this._PSD=it;if(typeof y!="function"){if(y!==Ni)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&pn(this,this._value))}this._state=null,this._value=null,++b.ref,function I(O,_){try{_(function(K){if(O._state===null){if(K===O)throw new TypeError("A promise cannot be resolved with itself.");var Z=O._lib&&st();K&&typeof K.then=="function"?I(O,function(te,le){K instanceof Je?K._then(te,le):K.then(te,le)}):(O._state=!0,O._value=K,Gr(O)),Z&&dt()}},pn.bind(null,O))}catch(K){pn(O,K)}}(this,y)}var Wn={get:function(){var y=it,b=Cr;function I(O,_){var K=this,Z=!y.global&&(y!==it||b!==Cr),te=Z&&!Kn(),le=new Je(function(ue,ye){fr(K,new An(Us(O,y,Z,te),Us(_,y,Z,te),ue,ye,y))});return this._consoleTask&&(le._consoleTask=this._consoleTask),le}return I.prototype=Ni,I},set:function(y){w(this,"then",y&&y.prototype===Ni?Wn:{get:function(){return y},set:Wn.set})}};function An(y,b,I,O,_){this.onFulfilled=typeof y=="function"?y:null,this.onRejected=typeof b=="function"?b:null,this.resolve=I,this.reject=O,this.psd=_}function pn(y,b){var I,O;On.push(b),y._state===null&&(I=y._lib&&st(),b=Sr(b),y._state=!1,y._value=b,O=y,vn.some(function(_){return _._value===O._value})||vn.push(O),Gr(y),I&&dt())}function Gr(y){var b=y._listeners;y._listeners=[];for(var I=0,O=b.length;I<O;++I)fr(y,b[I]);var _=y._PSD;--_.ref||_.finalize(),Bn===0&&(++Bn,kt(function(){--Bn==0&&Vt()},[]))}function fr(y,b){if(y._state!==null){var I=y._state?b.onFulfilled:b.onRejected;if(I===null)return(y._state?b.resolve:b.reject)(y._value);++b.psd.ref,++Bn,kt(vi,[I,y,b])}else y._listeners.push(b)}function vi(y,b,I){try{var O,_=b._value;!b._state&&On.length&&(On=[]),O=Dn&&b._consoleTask?b._consoleTask.run(function(){return y(_)}):y(_),b._state||On.indexOf(_)!==-1||function(K){for(var Z=vn.length;Z;)if(vn[--Z]._value===K._value)return vn.splice(Z,1)}(b),I.resolve(O)}catch(K){I.reject(K)}finally{--Bn==0&&Vt(),--I.psd.ref||I.psd.finalize()}}function Jn(){Ai(Ln,function(){st()&&dt()})}function st(){var y=gt;return Cn=gt=!1,y}function dt(){var y,b,I;do for(;0<At.length;)for(y=At,At=[],I=y.length,b=0;b<I;++b){var O=y[b];O[0].apply(null,O[1])}while(0<At.length);Cn=gt=!0}function Vt(){var y=vn;vn=[],y.forEach(function(O){O._PSD.onunhandled.call(null,O._value,O)});for(var b=ht.slice(0),I=b.length;I;)b[--I]()}function en(y){return new Je(Ni,!1,y)}function pt(y,b){var I=it;return function(){var O=st(),_=it;try{return dr(I,!0),y.apply(this,arguments)}catch(K){b&&b(K)}finally{dr(_,!1),O&&dt()}}}v(Je.prototype,{then:Wn,_then:function(y,b){fr(this,new An(null,null,y,b,it))},catch:function(y){if(arguments.length===1)return this.then(null,y);var b=y,I=arguments[1];return typeof b=="function"?this.then(null,function(O){return(O instanceof b?I:en)(O)}):this.then(null,function(O){return(O&&O.name===b?I:en)(O)})},finally:function(y){return this.then(function(b){return Je.resolve(y()).then(function(){return b})},function(b){return Je.resolve(y()).then(function(){return en(b)})})},timeout:function(y,b){var I=this;return y<1/0?new Je(function(O,_){var K=setTimeout(function(){return _(new Se.Timeout(b))},y);I.then(O,_).finally(clearTimeout.bind(null,K))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&w(Je.prototype,Symbol.toStringTag,"Dexie.Promise"),Ln.env=_i(),v(Je,{all:function(){var y=N.apply(null,arguments).map(ls);return new Je(function(b,I){y.length===0&&b([]);var O=y.length;y.forEach(function(_,K){return Je.resolve(_).then(function(Z){y[K]=Z,--O||b(y)},I)})})},resolve:function(y){return y instanceof Je?y:y&&typeof y.then=="function"?new Je(function(b,I){y.then(b,I)}):new Je(Ni,!0,y)},reject:en,race:function(){var y=N.apply(null,arguments).map(ls);return new Je(function(b,I){y.map(function(O){return Je.resolve(O).then(b,I)})})},PSD:{get:function(){return it},set:function(y){return it=y}},totalEchoes:{get:function(){return Cr}},newPSD:qn,usePSD:Ai,scheduler:{get:function(){return kt},set:function(y){kt=y}},rejectionMapper:{get:function(){return Sr},set:function(y){Sr=y}},follow:function(y,b){return new Je(function(I,O){return qn(function(_,K){var Z=it;Z.unhandleds=[],Z.onunhandled=K,Z.finalize=Pt(function(){var te,le=this;te=function(){le.unhandleds.length===0?_():K(le.unhandleds[0])},ht.push(function ue(){te(),ht.splice(ht.indexOf(ue),1)}),++Bn,kt(function(){--Bn==0&&Vt()},[])},Z.finalize),y()},b,I,O)})}}),je&&(je.allSettled&&w(Je,"allSettled",function(){var y=N.apply(null,arguments).map(ls);return new Je(function(b){y.length===0&&b([]);var I=y.length,O=new Array(I);y.forEach(function(_,K){return Je.resolve(_).then(function(Z){return O[K]={status:"fulfilled",value:Z}},function(Z){return O[K]={status:"rejected",reason:Z}}).then(function(){return--I||b(O)})})})}),je.any&&typeof AggregateError<"u"&&w(Je,"any",function(){var y=N.apply(null,arguments).map(ls);return new Je(function(b,I){y.length===0&&I(new AggregateError([]));var O=y.length,_=new Array(O);y.forEach(function(K,Z){return Je.resolve(K).then(function(te){return b(te)},function(te){_[Z]=te,--O||I(new AggregateError(_))})})})}),je.withResolvers&&(Je.withResolvers=je.withResolvers));var yt={awaits:0,echoes:0,id:0},Wt=0,nn=[],Kt=0,Cr=0,ir=0;function qn(y,b,I,O){var _=it,K=Object.create(_);return K.parent=_,K.ref=0,K.global=!1,K.id=++ir,Ln.env,K.env=St?{Promise:Je,PromiseProp:{value:Je,configurable:!0,writable:!0},all:Je.all,race:Je.race,allSettled:Je.allSettled,any:Je.any,resolve:Je.resolve,reject:Je.reject}:{},b&&c(K,b),++_.ref,K.finalize=function(){--this.parent.ref||this.parent.finalize()},O=Ai(K,y,I,O),K.ref===0&&K.finalize(),O}function xn(){return yt.id||(yt.id=++Wt),++yt.awaits,yt.echoes+=Fo,yt.id}function Kn(){return!!yt.awaits&&(--yt.awaits==0&&(yt.id=0),yt.echoes=yt.awaits*Fo,!0)}function ls(y){return yt.echoes&&y&&y.constructor===je?(xn(),y.then(function(b){return Kn(),b},function(b){return Kn(),cn(b)})):y}function ro(){var y=nn[nn.length-1];nn.pop(),dr(y,!1)}function dr(y,b){var I,O=it;(b?!yt.echoes||Kt++&&y===it:!Kt||--Kt&&y===it)||queueMicrotask(b?(function(_){++Cr,yt.echoes&&--yt.echoes!=0||(yt.echoes=yt.awaits=yt.id=0),nn.push(it),dr(_,!0)}).bind(null,y):ro),y!==it&&(it=y,O===Ln&&(Ln.env=_i()),St&&(I=Ln.env.Promise,b=y.env,(O.global||y.global)&&(Object.defineProperty(s,"Promise",b.PromiseProp),I.all=b.all,I.race=b.race,I.resolve=b.resolve,I.reject=b.reject,b.allSettled&&(I.allSettled=b.allSettled),b.any&&(I.any=b.any))))}function _i(){var y=s.Promise;return St?{Promise:y,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:y.all,race:y.race,allSettled:y.allSettled,any:y.any,resolve:y.resolve,reject:y.reject}:{}}function Ai(y,b,I,O,_){var K=it;try{return dr(y,!0),b(I,O,_)}finally{dr(K,!1)}}function Us(y,b,I,O){return typeof y!="function"?y:function(){var _=it;I&&xn(),dr(b,!0);try{return y.apply(this,arguments)}finally{dr(_,!1),O&&queueMicrotask(Kn)}}}function us(y){Promise===je&&yt.echoes===0?Kt===0?y():enqueueNativeMicroTask(y):setTimeout(y,0)}(""+wi).indexOf("[native code]")===-1&&(xn=Kn=Ye);var cn=Je.reject,ji="",hr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",_a="String expected.",io=[],bn="__dbnames",ct="readonly",oo="readwrite";function so(y,b){return y?b?function(){return y.apply(this,arguments)&&b.apply(this,arguments)}:y:b}var si={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function U(y){return typeof y!="string"||/\./.test(y)?function(b){return b}:function(b){return b[y]===void 0&&y in b&&delete(b=J(b))[y],b}}function X(){throw Se.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function be(y,b){try{var I=ze(y),O=ze(b);if(I!==O)return I==="Array"?1:O==="Array"?-1:I==="binary"?1:O==="binary"?-1:I==="string"?1:O==="string"?-1:I==="Date"?1:O!=="Date"?NaN:-1;switch(I){case"number":case"Date":case"string":return b<y?1:y<b?-1:0;case"binary":return function(_,K){for(var Z=_.length,te=K.length,le=Z<te?Z:te,ue=0;ue<le;++ue)if(_[ue]!==K[ue])return _[ue]<K[ue]?-1:1;return Z===te?0:Z<te?-1:1}(Ce(y),Ce(b));case"Array":return function(_,K){for(var Z=_.length,te=K.length,le=Z<te?Z:te,ue=0;ue<le;++ue){var ye=be(_[ue],K[ue]);if(ye!==0)return ye}return Z===te?0:Z<te?-1:1}(y,b)}}catch{}return NaN}function ze(y){var b=typeof y;return b!="object"?b:ArrayBuffer.isView(y)?"binary":(y=B(y),y==="ArrayBuffer"?"binary":y)}function Ce(y){return y instanceof Uint8Array?y:ArrayBuffer.isView(y)?new Uint8Array(y.buffer,y.byteOffset,y.byteLength):new Uint8Array(y)}function Ze(y,b,I){var O=y.schema.yProps;return O?(b&&0<I.numFailures&&(b=b.filter(function(_,K){return!I.failures[K]})),Promise.all(O.map(function(_){return _=_.updatesTable,b?y.db.table(_).where("k").anyOf(b).delete():y.db.table(_).clear()})).then(function(){return I})):I}var Qt=(Zn.prototype.execute=function(y){var b=this["@@propmod"];if(b.add!==void 0){var I=b.add;if(u(I))return i(i([],u(y)?y:[],!0),I).sort();if(typeof I=="number")return(Number(y)||0)+I;if(typeof I=="bigint")try{return BigInt(y)+I}catch{return BigInt(0)+I}throw new TypeError("Invalid term ".concat(I))}if(b.remove!==void 0){var O=b.remove;if(u(O))return u(y)?y.filter(function(_){return!O.includes(_)}).sort():[];if(typeof O=="number")return Number(y)-O;if(typeof O=="bigint")try{return BigInt(y)-O}catch{return BigInt(0)-O}throw new TypeError("Invalid subtrahend ".concat(O))}return I=(I=b.replacePrefix)===null||I===void 0?void 0:I[0],I&&typeof y=="string"&&y.startsWith(I)?b.replacePrefix[1]+y.substring(I.length):y},Zn);function Zn(y){this["@@propmod"]=y}function _r(y,b){for(var I=l(b),O=I.length,_=!1,K=0;K<O;++K){var Z=I[K],te=b[Z],le=z(y,Z);te instanceof Qt?(Q(y,Z,te.execute(le)),_=!0):le!==te&&(Q(y,Z,te),_=!0)}return _}var Ws=(gn.prototype._trans=function(y,b,I){var O=this._tx||it.trans,_=this.name,K=Dn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(y==="readonly"?"read":"write"," ").concat(this.name));function Z(ue,ye,ne){if(!ne.schema[_])throw new Se.NotFound("Table "+_+" not part of transaction");return b(ne.idbtrans,ne)}var te=st();try{var le=O&&O.db._novip===this.db._novip?O===it.trans?O._promise(y,Z,I):qn(function(){return O._promise(y,Z,I)},{trans:O,transless:it.transless||it}):function ue(ye,ne,Ae,ce){if(ye.idbdb&&(ye._state.openComplete||it.letThrough||ye._vip)){var pe=ye._createTransaction(ne,Ae,ye._dbSchema);try{pe.create(),ye._state.PR1398_maxLoop=3}catch(he){return he.name===Ue.InvalidState&&ye.isOpen()&&0<--ye._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ye.close({disableAutoOpen:!1}),ye.open().then(function(){return ue(ye,ne,Ae,ce)})):cn(he)}return pe._promise(ne,function(he,xe){return qn(function(){return it.trans=pe,ce(he,xe,pe)})}).then(function(he){if(ne==="readwrite")try{pe.idbtrans.commit()}catch{}return ne==="readonly"?he:pe._completion.then(function(){return he})})}if(ye._state.openComplete)return cn(new Se.DatabaseClosed(ye._state.dbOpenError));if(!ye._state.isBeingOpened){if(!ye._state.autoOpen)return cn(new Se.DatabaseClosed);ye.open().catch(Ye)}return ye._state.dbReadyPromise.then(function(){return ue(ye,ne,Ae,ce)})}(this.db,y,[this.name],Z);return K&&(le._consoleTask=K,le=le.catch(function(ue){return console.trace(ue),cn(ue)})),le}finally{te&&dt()}},gn.prototype.get=function(y,b){var I=this;return y&&y.constructor===Object?this.where(y).first(b):y==null?cn(new Se.Type("Invalid argument to Table.get()")):this._trans("readonly",function(O){return I.core.get({trans:O,key:y}).then(function(_){return I.hook.reading.fire(_)})}).then(b)},gn.prototype.where=function(y){if(typeof y=="string")return new this.db.WhereClause(this,y);if(u(y))return new this.db.WhereClause(this,"[".concat(y.join("+"),"]"));var b=l(y);if(b.length===1)return this.where(b[0]).equals(y[b[0]]);var I=this.schema.indexes.concat(this.schema.primKey).filter(function(te){if(te.compound&&b.every(function(ue){return 0<=te.keyPath.indexOf(ue)})){for(var le=0;le<b.length;++le)if(b.indexOf(te.keyPath[le])===-1)return!1;return!0}return!1}).sort(function(te,le){return te.keyPath.length-le.keyPath.length})[0];if(I&&this.db._maxKey!==ji){var K=I.keyPath.slice(0,b.length);return this.where(K).equals(K.map(function(le){return y[le]}))}!I&&Dn&&console.warn("The query ".concat(JSON.stringify(y)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(b.join("+"),"]"));var O=this.schema.idxByName;function _(te,le){return be(te,le)===0}var Z=b.reduce(function(ne,le){var ue=ne[0],ye=ne[1],ne=O[le],Ae=y[le];return[ue||ne,ue||!ne?so(ye,ne&&ne.multi?function(ce){return ce=z(ce,le),u(ce)&&ce.some(function(pe){return _(Ae,pe)})}:function(ce){return _(Ae,z(ce,le))}):ye]},[null,null]),K=Z[0],Z=Z[1];return K?this.where(K.name).equals(y[K.keyPath]).filter(Z):I?this.filter(Z):this.where(b).equals("")},gn.prototype.filter=function(y){return this.toCollection().and(y)},gn.prototype.count=function(y){return this.toCollection().count(y)},gn.prototype.offset=function(y){return this.toCollection().offset(y)},gn.prototype.limit=function(y){return this.toCollection().limit(y)},gn.prototype.each=function(y){return this.toCollection().each(y)},gn.prototype.toArray=function(y){return this.toCollection().toArray(y)},gn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},gn.prototype.orderBy=function(y){return new this.db.Collection(new this.db.WhereClause(this,u(y)?"[".concat(y.join("+"),"]"):y))},gn.prototype.reverse=function(){return this.toCollection().reverse()},gn.prototype.mapToClass=function(y){var b,I=this.db,O=this.name;function _(){return b!==null&&b.apply(this,arguments)||this}(this.schema.mappedClass=y).prototype instanceof X&&(function(le,ue){if(typeof ue!="function"&&ue!==null)throw new TypeError("Class extends value "+String(ue)+" is not a constructor or null");function ye(){this.constructor=le}n(le,ue),le.prototype=ue===null?Object.create(ue):(ye.prototype=ue.prototype,new ye)}(_,b=y),Object.defineProperty(_.prototype,"db",{get:function(){return I},enumerable:!1,configurable:!0}),_.prototype.table=function(){return O},y=_);for(var K=new Set,Z=y.prototype;Z;Z=h(Z))Object.getOwnPropertyNames(Z).forEach(function(le){return K.add(le)});function te(le){if(!le)return le;var ue,ye=Object.create(y.prototype);for(ue in le)if(!K.has(ue))try{ye[ue]=le[ue]}catch{}return ye}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=te,this.hook("reading",te),y},gn.prototype.defineClass=function(){return this.mapToClass(function(y){c(this,y)})},gn.prototype.add=function(y,b){var I=this,O=this.schema.primKey,_=O.auto,K=O.keyPath,Z=y;return K&&_&&(Z=U(K)(y)),this._trans("readwrite",function(te){return I.core.mutate({trans:te,type:"add",keys:b!=null?[b]:null,values:[Z]})}).then(function(te){return te.numFailures?Je.reject(te.failures[0]):te.lastResult}).then(function(te){if(K)try{Q(y,K,te)}catch{}return te})},gn.prototype.upsert=function(y,b){var I=this,O=this.schema.primKey.keyPath;return this._trans("readwrite",function(_){return I.core.get({trans:_,key:y}).then(function(K){var Z=K??{};return _r(Z,b),O&&Q(Z,O,y),I.core.mutate({trans:_,type:"put",values:[Z],keys:[y],upsert:!0,updates:{keys:[y],changeSpecs:[b]}}).then(function(te){return te.numFailures?Je.reject(te.failures[0]):!!K})})})},gn.prototype.update=function(y,b){return typeof y!="object"||u(y)?this.where(":id").equals(y).modify(b):(y=z(y,this.schema.primKey.keyPath),y===void 0?cn(new Se.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(y).modify(b))},gn.prototype.put=function(y,b){var I=this,O=this.schema.primKey,_=O.auto,K=O.keyPath,Z=y;return K&&_&&(Z=U(K)(y)),this._trans("readwrite",function(te){return I.core.mutate({trans:te,type:"put",values:[Z],keys:b!=null?[b]:null})}).then(function(te){return te.numFailures?Je.reject(te.failures[0]):te.lastResult}).then(function(te){if(K)try{Q(y,K,te)}catch{}return te})},gn.prototype.delete=function(y){var b=this;return this._trans("readwrite",function(I){return b.core.mutate({trans:I,type:"delete",keys:[y]}).then(function(O){return Ze(b,[y],O)}).then(function(O){return O.numFailures?Je.reject(O.failures[0]):void 0})})},gn.prototype.clear=function(){var y=this;return this._trans("readwrite",function(b){return y.core.mutate({trans:b,type:"deleteRange",range:si}).then(function(I){return Ze(y,null,I)})}).then(function(b){return b.numFailures?Je.reject(b.failures[0]):void 0})},gn.prototype.bulkGet=function(y){var b=this;return this._trans("readonly",function(I){return b.core.getMany({keys:y,trans:I}).then(function(O){return O.map(function(_){return b.hook.reading.fire(_)})})})},gn.prototype.bulkAdd=function(y,b,I){var O=this,_=Array.isArray(b)?b:void 0,K=(I=I||(_?void 0:b))?I.allKeys:void 0;return this._trans("readwrite",function(Z){var ue=O.schema.primKey,te=ue.auto,ue=ue.keyPath;if(ue&&_)throw new Se.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(_&&_.length!==y.length)throw new Se.InvalidArgument("Arguments objects and keys must have the same length");var le=y.length,ue=ue&&te?y.map(U(ue)):y;return O.core.mutate({trans:Z,type:"add",keys:_,values:ue,wantResults:K}).then(function(pe){var ne=pe.numFailures,Ae=pe.results,ce=pe.lastResult,pe=pe.failures;if(ne===0)return K?Ae:ce;throw new Oe("".concat(O.name,".bulkAdd(): ").concat(ne," of ").concat(le," operations failed"),pe)})})},gn.prototype.bulkPut=function(y,b,I){var O=this,_=Array.isArray(b)?b:void 0,K=(I=I||(_?void 0:b))?I.allKeys:void 0;return this._trans("readwrite",function(Z){var ue=O.schema.primKey,te=ue.auto,ue=ue.keyPath;if(ue&&_)throw new Se.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(_&&_.length!==y.length)throw new Se.InvalidArgument("Arguments objects and keys must have the same length");var le=y.length,ue=ue&&te?y.map(U(ue)):y;return O.core.mutate({trans:Z,type:"put",keys:_,values:ue,wantResults:K}).then(function(pe){var ne=pe.numFailures,Ae=pe.results,ce=pe.lastResult,pe=pe.failures;if(ne===0)return K?Ae:ce;throw new Oe("".concat(O.name,".bulkPut(): ").concat(ne," of ").concat(le," operations failed"),pe)})})},gn.prototype.bulkUpdate=function(y){var b=this,I=this.core,O=y.map(function(Z){return Z.key}),_=y.map(function(Z){return Z.changes}),K=[];return this._trans("readwrite",function(Z){return I.getMany({trans:Z,keys:O,cache:"clone"}).then(function(te){var le=[],ue=[];y.forEach(function(ne,Ae){var ce=ne.key,pe=ne.changes,he=te[Ae];if(he){for(var xe=0,we=Object.keys(pe);xe<we.length;xe++){var ke=we[xe],De=pe[ke];if(ke===b.schema.primKey.keyPath){if(be(De,ce)!==0)throw new Se.Constraint("Cannot update primary key in bulkUpdate()")}else Q(he,ke,De)}K.push(Ae),le.push(ce),ue.push(he)}});var ye=le.length;return I.mutate({trans:Z,type:"put",keys:le,values:ue,updates:{keys:O,changeSpecs:_}}).then(function(ne){var Ae=ne.numFailures,ce=ne.failures;if(Ae===0)return ye;for(var pe=0,he=Object.keys(ce);pe<he.length;pe++){var xe,we=he[pe],ke=K[Number(we)];ke!=null&&(xe=ce[we],delete ce[we],ce[ke]=xe)}throw new Oe("".concat(b.name,".bulkUpdate(): ").concat(Ae," of ").concat(ye," operations failed"),ce)})})})},gn.prototype.bulkDelete=function(y){var b=this,I=y.length;return this._trans("readwrite",function(O){return b.core.mutate({trans:O,type:"delete",keys:y}).then(function(_){return Ze(b,y,_)})}).then(function(Z){var _=Z.numFailures,K=Z.lastResult,Z=Z.failures;if(_===0)return K;throw new Oe("".concat(b.name,".bulkDelete(): ").concat(_," of ").concat(I," operations failed"),Z)})},gn);function gn(){}function It(y){function b(Z,te){if(te){for(var le=arguments.length,ue=new Array(le-1);--le;)ue[le-1]=arguments[le];return I[Z].subscribe.apply(null,ue),y}if(typeof Z=="string")return I[Z]}var I={};b.addEventType=K;for(var O=1,_=arguments.length;O<_;++O)K(arguments[O]);return b;function K(Z,te,le){if(typeof Z!="object"){var ue;te=te||oi;var ye={subscribers:[],fire:le=le||Ye,subscribe:function(ne){ye.subscribers.indexOf(ne)===-1&&(ye.subscribers.push(ne),ye.fire=te(ye.fire,ne))},unsubscribe:function(ne){ye.subscribers=ye.subscribers.filter(function(Ae){return Ae!==ne}),ye.fire=ye.subscribers.reduce(te,le)}};return I[Z]=b[Z]=ye}l(ue=Z).forEach(function(ne){var Ae=ue[ne];if(u(Ae))K(ne,ue[ne][0],ue[ne][1]);else{if(Ae!=="asap")throw new Se.InvalidArgument("Invalid event config");var ce=K(ne,tt,function(){for(var pe=arguments.length,he=new Array(pe);pe--;)he[pe]=arguments[pe];ce.subscribers.forEach(function(xe){W(function(){xe.apply(null,he)})})})}})}}function Ul(y,b){return E(b).from({prototype:y}),b}function Ks(y,b){return!(y.filter||y.algorithm||y.or)&&(b?y.justLimit:!y.replayFilter)}function ja(y,b){y.filter=so(y.filter,b)}function zi(y,b,I){var O=y.replayFilter;y.replayFilter=O?function(){return so(O(),b())}:b,y.justLimit=I&&!O}function Wl(y,b){if(y.isPrimKey)return b.primaryKey;var I=b.getIndexByKeyPath(y.index);if(!I)throw new Se.Schema("KeyPath "+y.index+" on object store "+b.name+" is not indexed");return I}function xd(y,b,I){var O=Wl(y,b.schema);return b.openCursor({trans:I,values:!y.keysOnly,reverse:y.dir==="prev",unique:!!y.unique,query:{index:O,range:y.range}})}function cs(y,b,I,O){var _=y.replayFilter?so(y.filter,y.replayFilter()):y.filter;if(y.or){var K={},Z=function(te,le,ue){var ye,ne;_&&!_(le,ue,function(Ae){return le.stop(Ae)},function(Ae){return le.fail(Ae)})||((ne=""+(ye=le.primaryKey))=="[object ArrayBuffer]"&&(ne=""+new Uint8Array(ye)),m(K,ne)||(K[ne]=!0,b(te,le,ue)))};return Promise.all([y.or._iterate(Z,I),dc(xd(y,O,I),y.algorithm,Z,!y.keysOnly&&y.valueMapper)])}return dc(xd(y,O,I),so(y.algorithm,_),b,!y.keysOnly&&y.valueMapper)}function dc(y,b,I,O){var _=pt(O?function(K,Z,te){return I(O(K),Z,te)}:I);return y.then(function(K){if(K)return K.start(function(){var Z=function(){return K.continue()};b&&!b(K,function(te){return Z=te},function(te){K.stop(te),Z=Ye},function(te){K.fail(te),Z=Ye})||_(K.value,K,function(te){return Z=te}),Z()})})}var Jg=(Jt.prototype._read=function(y,b){var I=this._ctx;return I.error?I.table._trans(null,cn.bind(null,I.error)):I.table._trans("readonly",y).then(b)},Jt.prototype._write=function(y){var b=this._ctx;return b.error?b.table._trans(null,cn.bind(null,b.error)):b.table._trans("readwrite",y,"locked")},Jt.prototype._addAlgorithm=function(y){var b=this._ctx;b.algorithm=so(b.algorithm,y)},Jt.prototype._iterate=function(y,b){return cs(this._ctx,y,b,this._ctx.table.core)},Jt.prototype.clone=function(y){var b=Object.create(this.constructor.prototype),I=Object.create(this._ctx);return y&&c(I,y),b._ctx=I,b},Jt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Jt.prototype.each=function(y){var b=this._ctx;return this._read(function(I){return cs(b,y,I,b.table.core)})},Jt.prototype.count=function(y){var b=this;return this._read(function(I){var O=b._ctx,_=O.table.core;if(Ks(O,!0))return _.count({trans:I,query:{index:Wl(O,_.schema),range:O.range}}).then(function(Z){return Math.min(Z,O.limit)});var K=0;return cs(O,function(){return++K,!1},I,_).then(function(){return K})}).then(y)},Jt.prototype.sortBy=function(y,b){var I=y.split(".").reverse(),O=I[0],_=I.length-1;function K(le,ue){return ue?K(le[I[ue]],ue-1):le[O]}var Z=this._ctx.dir==="next"?1:-1;function te(le,ue){return be(K(le,_),K(ue,_))*Z}return this.toArray(function(le){return le.sort(te)}).then(b)},Jt.prototype.toArray=function(y){var b=this;return this._read(function(I){var O=b._ctx;if(O.dir==="next"&&Ks(O,!0)&&0<O.limit){var _=O.valueMapper,K=Wl(O,O.table.core.schema);return O.table.core.query({trans:I,limit:O.limit,values:!0,query:{index:K,range:O.range}}).then(function(te){return te=te.result,_?te.map(_):te})}var Z=[];return cs(O,function(te){return Z.push(te)},I,O.table.core).then(function(){return Z})},y)},Jt.prototype.offset=function(y){var b=this._ctx;return y<=0||(b.offset+=y,Ks(b)?zi(b,function(){var I=y;return function(O,_){return I===0||(I===1?--I:_(function(){O.advance(I),I=0}),!1)}}):zi(b,function(){var I=y;return function(){return--I<0}})),this},Jt.prototype.limit=function(y){return this._ctx.limit=Math.min(this._ctx.limit,y),zi(this._ctx,function(){var b=y;return function(I,O,_){return--b<=0&&O(_),0<=b}},!0),this},Jt.prototype.until=function(y,b){return ja(this._ctx,function(I,O,_){return!y(I.value)||(O(_),b)}),this},Jt.prototype.first=function(y){return this.limit(1).toArray(function(b){return b[0]}).then(y)},Jt.prototype.last=function(y){return this.reverse().first(y)},Jt.prototype.filter=function(y){var b;return ja(this._ctx,function(I){return y(I.value)}),(b=this._ctx).isMatch=so(b.isMatch,y),this},Jt.prototype.and=function(y){return this.filter(y)},Jt.prototype.or=function(y){return new this.db.WhereClause(this._ctx.table,y,this)},Jt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Jt.prototype.desc=function(){return this.reverse()},Jt.prototype.eachKey=function(y){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(I,O){y(O.key,O)})},Jt.prototype.eachUniqueKey=function(y){return this._ctx.unique="unique",this.eachKey(y)},Jt.prototype.eachPrimaryKey=function(y){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(I,O){y(O.primaryKey,O)})},Jt.prototype.keys=function(y){var b=this._ctx;b.keysOnly=!b.isMatch;var I=[];return this.each(function(O,_){I.push(_.key)}).then(function(){return I}).then(y)},Jt.prototype.primaryKeys=function(y){var b=this._ctx;if(b.dir==="next"&&Ks(b,!0)&&0<b.limit)return this._read(function(O){var _=Wl(b,b.table.core.schema);return b.table.core.query({trans:O,values:!1,limit:b.limit,query:{index:_,range:b.range}})}).then(function(O){return O.result}).then(y);b.keysOnly=!b.isMatch;var I=[];return this.each(function(O,_){I.push(_.primaryKey)}).then(function(){return I}).then(y)},Jt.prototype.uniqueKeys=function(y){return this._ctx.unique="unique",this.keys(y)},Jt.prototype.firstKey=function(y){return this.limit(1).keys(function(b){return b[0]}).then(y)},Jt.prototype.lastKey=function(y){return this.reverse().firstKey(y)},Jt.prototype.distinct=function(){var y=this._ctx,y=y.index&&y.table.schema.idxByName[y.index];if(!y||!y.multi)return this;var b={};return ja(this._ctx,function(_){var O=_.primaryKey.toString(),_=m(b,O);return b[O]=!0,!_}),this},Jt.prototype.modify=function(y){var b=this,I=this._ctx;return this._write(function(O){var _=typeof y=="function"?y:function(he){return _r(he,y)},K=I.table.core,ue=K.schema.primaryKey,Z=ue.outbound,te=ue.extractKey,le=200,ue=b.db._options.modifyChunkSize;ue&&(le=typeof ue=="object"?ue[K.name]||ue["*"]||200:ue);function ye(he,ke){var we=ke.failures,ke=ke.numFailures;Ae+=he-ke;for(var De=0,Le=l(we);De<Le.length;De++){var Qe=Le[De];ne.push(we[Qe])}}var ne=[],Ae=0,ce=[],pe=y===bd;return b.clone().primaryKeys().then(function(he){function xe(ke){var De=Math.min(le,he.length-ke),Le=he.slice(ke,ke+De);return(pe?Promise.resolve([]):K.getMany({trans:O,keys:Le,cache:"immutable"})).then(function(Qe){var nt=[],Ke=[],qe=Z?[]:null,rt=pe?Le:[];if(!pe)for(var Ve=0;Ve<De;++Ve){var at=Qe[Ve],vt={value:J(at),primKey:he[ke+Ve]};_.call(vt,vt.value,vt)!==!1&&(vt.value==null?rt.push(he[ke+Ve]):Z||be(te(at),te(vt.value))===0?(Ke.push(vt.value),Z&&qe.push(he[ke+Ve])):(rt.push(he[ke+Ve]),nt.push(vt.value)))}return Promise.resolve(0<nt.length&&K.mutate({trans:O,type:"add",values:nt}).then(function(Ot){for(var Ft in Ot.failures)rt.splice(parseInt(Ft),1);ye(nt.length,Ot)})).then(function(){return(0<Ke.length||we&&typeof y=="object")&&K.mutate({trans:O,type:"put",keys:qe,values:Ke,criteria:we,changeSpec:typeof y!="function"&&y,isAdditionalChunk:0<ke}).then(function(Ot){return ye(Ke.length,Ot)})}).then(function(){return(0<rt.length||we&&pe)&&K.mutate({trans:O,type:"delete",keys:rt,criteria:we,isAdditionalChunk:0<ke}).then(function(Ot){return Ze(I.table,rt,Ot)}).then(function(Ot){return ye(rt.length,Ot)})}).then(function(){return he.length>ke+De&&xe(ke+le)})})}var we=Ks(I)&&I.limit===1/0&&(typeof y!="function"||pe)&&{index:I.index,range:I.range};return xe(0).then(function(){if(0<ne.length)throw new Be("Error modifying one or more objects",ne,Ae,ce);return he.length})})})},Jt.prototype.delete=function(){var y=this._ctx,b=y.range;return!Ks(y)||y.table.schema.yProps||!y.isPrimKey&&b.type!==3?this.modify(bd):this._write(function(I){var O=y.table.core.schema.primaryKey,_=b;return y.table.core.count({trans:I,query:{index:O,range:_}}).then(function(K){return y.table.core.mutate({trans:I,type:"deleteRange",range:_}).then(function(le){var te=le.failures,le=le.numFailures;if(le)throw new Be("Could not delete some values",Object.keys(te).map(function(ue){return te[ue]}),K-le);return K-le})})})},Jt);function Jt(){}var bd=function(y,b){return b.value=null};function qg(y,b){return y<b?-1:y===b?0:1}function Zg(y,b){return b<y?-1:y===b?0:1}function ai(y,b,I){return y=y instanceof Xg?new y.Collection(y):y,y._ctx.error=new(I||TypeError)(b),y}function za(y){return new y.Collection(y,function(){return bo("")}).limit(0)}function hc(y,b,I,O){var _,K,Z,te,le,ue,ye,ne=I.length;if(!I.every(function(pe){return typeof pe=="string"}))return ai(y,_a);function Ae(pe){_=pe==="next"?function(xe){return xe.toUpperCase()}:function(xe){return xe.toLowerCase()},K=pe==="next"?function(xe){return xe.toLowerCase()}:function(xe){return xe.toUpperCase()},Z=pe==="next"?qg:Zg;var he=I.map(function(xe){return{lower:K(xe),upper:_(xe)}}).sort(function(xe,we){return Z(xe.lower,we.lower)});te=he.map(function(xe){return xe.upper}),le=he.map(function(xe){return xe.lower}),ye=(ue=pe)==="next"?"":O}Ae("next"),y=new y.Collection(y,function(){return Bo(te[0],le[ne-1]+O)}),y._ondirectionchange=function(pe){Ae(pe)};var ce=0;return y._addAlgorithm(function(pe,he,xe){var we=pe.key;if(typeof we!="string")return!1;var ke=K(we);if(b(ke,le,ce))return!0;for(var De=null,Le=ce;Le<ne;++Le){var Qe=function(nt,Ke,qe,rt,Ve,at){for(var vt=Math.min(nt.length,rt.length),Ot=-1,Ft=0;Ft<vt;++Ft){var zr=Ke[Ft];if(zr!==rt[Ft])return Ve(nt[Ft],qe[Ft])<0?nt.substr(0,Ft)+qe[Ft]+qe.substr(Ft+1):Ve(nt[Ft],rt[Ft])<0?nt.substr(0,Ft)+rt[Ft]+qe.substr(Ft+1):0<=Ot?nt.substr(0,Ot)+Ke[Ot]+qe.substr(Ot+1):null;Ve(nt[Ft],zr)<0&&(Ot=Ft)}return vt<rt.length&&at==="next"?nt+qe.substr(nt.length):vt<nt.length&&at==="prev"?nt.substr(0,qe.length):Ot<0?null:nt.substr(0,Ot)+rt[Ot]+qe.substr(Ot+1)}(we,ke,te[Le],le[Le],Z,ue);Qe===null&&De===null?ce=Le+1:(De===null||0<Z(De,Qe))&&(De=Qe)}return he(De!==null?function(){pe.continue(De+ye)}:xe),!1}),y}function Bo(y,b,I,O){return{type:2,lower:y,upper:b,lowerOpen:I,upperOpen:O}}function bo(y){return{type:1,lower:y,upper:y}}var Xg=(Object.defineProperty(pr.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),pr.prototype.between=function(y,b,I,O){I=I!==!1,O=O===!0;try{return 0<this._cmp(y,b)||this._cmp(y,b)===0&&(I||O)&&(!I||!O)?za(this):new this.Collection(this,function(){return Bo(y,b,!I,!O)})}catch{return ai(this,hr)}},pr.prototype.equals=function(y){return y==null?ai(this,hr):new this.Collection(this,function(){return bo(y)})},pr.prototype.above=function(y){return y==null?ai(this,hr):new this.Collection(this,function(){return Bo(y,void 0,!0)})},pr.prototype.aboveOrEqual=function(y){return y==null?ai(this,hr):new this.Collection(this,function(){return Bo(y,void 0,!1)})},pr.prototype.below=function(y){return y==null?ai(this,hr):new this.Collection(this,function(){return Bo(void 0,y,!1,!0)})},pr.prototype.belowOrEqual=function(y){return y==null?ai(this,hr):new this.Collection(this,function(){return Bo(void 0,y)})},pr.prototype.startsWith=function(y){return typeof y!="string"?ai(this,_a):this.between(y,y+ji,!0,!0)},pr.prototype.startsWithIgnoreCase=function(y){return y===""?this.startsWith(y):hc(this,function(b,I){return b.indexOf(I[0])===0},[y],ji)},pr.prototype.equalsIgnoreCase=function(y){return hc(this,function(b,I){return b===I[0]},[y],"")},pr.prototype.anyOfIgnoreCase=function(){var y=N.apply(ae,arguments);return y.length===0?za(this):hc(this,function(b,I){return I.indexOf(b)!==-1},y,"")},pr.prototype.startsWithAnyOfIgnoreCase=function(){var y=N.apply(ae,arguments);return y.length===0?za(this):hc(this,function(b,I){return I.some(function(O){return b.indexOf(O)===0})},y,ji)},pr.prototype.anyOf=function(){var y=this,b=N.apply(ae,arguments),I=this._cmp;try{b.sort(I)}catch{return ai(this,hr)}if(b.length===0)return za(this);var O=new this.Collection(this,function(){return Bo(b[0],b[b.length-1])});O._ondirectionchange=function(K){I=K==="next"?y._ascending:y._descending,b.sort(I)};var _=0;return O._addAlgorithm(function(K,Z,te){for(var le=K.key;0<I(le,b[_]);)if(++_===b.length)return Z(te),!1;return I(le,b[_])===0||(Z(function(){K.continue(b[_])}),!1)}),O},pr.prototype.notEqual=function(y){return this.inAnyRange([[-1/0,y],[y,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},pr.prototype.noneOf=function(){var y=N.apply(ae,arguments);if(y.length===0)return new this.Collection(this);try{y.sort(this._ascending)}catch{return ai(this,hr)}var b=y.reduce(function(I,O){return I?I.concat([[I[I.length-1][1],O]]):[[-1/0,O]]},null);return b.push([y[y.length-1],this.db._maxKey]),this.inAnyRange(b,{includeLowers:!1,includeUppers:!1})},pr.prototype.inAnyRange=function(we,b){var I=this,O=this._cmp,_=this._ascending,K=this._descending,Z=this._min,te=this._max;if(we.length===0)return za(this);if(!we.every(function(ke){return ke[0]!==void 0&&ke[1]!==void 0&&_(ke[0],ke[1])<=0}))return ai(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Se.InvalidArgument);var le=!b||b.includeLowers!==!1,ue=b&&b.includeUppers===!0,ye,ne=_;function Ae(ke,De){return ne(ke[0],De[0])}try{(ye=we.reduce(function(ke,De){for(var Le=0,Qe=ke.length;Le<Qe;++Le){var nt=ke[Le];if(O(De[0],nt[1])<0&&0<O(De[1],nt[0])){nt[0]=Z(nt[0],De[0]),nt[1]=te(nt[1],De[1]);break}}return Le===Qe&&ke.push(De),ke},[])).sort(Ae)}catch{return ai(this,hr)}var ce=0,pe=ue?function(ke){return 0<_(ke,ye[ce][1])}:function(ke){return 0<=_(ke,ye[ce][1])},he=le?function(ke){return 0<K(ke,ye[ce][0])}:function(ke){return 0<=K(ke,ye[ce][0])},xe=pe,we=new this.Collection(this,function(){return Bo(ye[0][0],ye[ye.length-1][1],!le,!ue)});return we._ondirectionchange=function(ke){ne=ke==="next"?(xe=pe,_):(xe=he,K),ye.sort(Ae)},we._addAlgorithm(function(ke,De,Le){for(var Qe,nt=ke.key;xe(nt);)if(++ce===ye.length)return De(Le),!1;return!pe(Qe=nt)&&!he(Qe)||(I._cmp(nt,ye[ce][1])===0||I._cmp(nt,ye[ce][0])===0||De(function(){ne===_?ke.continue(ye[ce][0]):ke.continue(ye[ce][1])}),!1)}),we},pr.prototype.startsWithAnyOf=function(){var y=N.apply(ae,arguments);return y.every(function(b){return typeof b=="string"})?y.length===0?za(this):this.inAnyRange(y.map(function(b){return[b,b+ji]})):ai(this,"startsWithAnyOf() only works with strings")},pr);function pr(){}function xi(y){return pt(function(b){return No(b),y(b.target.error),!1})}function No(y){y.stopPropagation&&y.stopPropagation(),y.preventDefault&&y.preventDefault()}var Kl="storagemutated",wd="x-storagemutated-1",fs=It(null,Kl),Ox=(Hi.prototype._lock=function(){return P(!it.global),++this._reculock,this._reculock!==1||it.global||(it.lockOwnerFor=this),this},Hi.prototype._unlock=function(){if(P(!it.global),--this._reculock==0)for(it.global||(it.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var y=this._blockedFuncs.shift();try{Ai(y[1],y[0])}catch{}}return this},Hi.prototype._locked=function(){return this._reculock&&it.lockOwnerFor!==this},Hi.prototype.create=function(y){var b=this;if(!this.mode)return this;var I=this.db.idbdb,O=this.db._state.dbOpenError;if(P(!this.idbtrans),!y&&!I)switch(O&&O.name){case"DatabaseClosedError":throw new Se.DatabaseClosed(O);case"MissingAPIError":throw new Se.MissingAPI(O.message,O);default:throw new Se.OpenFailed(O)}if(!this.active)throw new Se.TransactionInactive;return P(this._completion._state===null),(y=this.idbtrans=y||(this.db.core||I).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=pt(function(_){No(_),b._reject(y.error)}),y.onabort=pt(function(_){No(_),b.active&&b._reject(new Se.Abort(y.error)),b.active=!1,b.on("abort").fire(_)}),y.oncomplete=pt(function(){b.active=!1,b._resolve(),"mutatedParts"in y&&fs.storagemutated.fire(y.mutatedParts)}),this},Hi.prototype._promise=function(y,b,I){var O=this;if(y==="readwrite"&&this.mode!=="readwrite")return cn(new Se.ReadOnly("Transaction is readonly"));if(!this.active)return cn(new Se.TransactionInactive);if(this._locked())return new Je(function(K,Z){O._blockedFuncs.push([function(){O._promise(y,b,I).then(K,Z)},it])});if(I)return qn(function(){var K=new Je(function(Z,te){O._lock();var le=b(Z,te,O);le&&le.then&&le.then(Z,te)});return K.finally(function(){return O._unlock()}),K._lib=!0,K});var _=new Je(function(K,Z){var te=b(K,Z,O);te&&te.then&&te.then(K,Z)});return _._lib=!0,_},Hi.prototype._root=function(){return this.parent?this.parent._root():this},Hi.prototype.waitFor=function(y){var b,I=this._root(),O=Je.resolve(y);I._waitingFor?I._waitingFor=I._waitingFor.then(function(){return O}):(I._waitingFor=O,I._waitingQueue=[],b=I.idbtrans.objectStore(I.storeNames[0]),function K(){for(++I._spinCount;I._waitingQueue.length;)I._waitingQueue.shift()();I._waitingFor&&(b.get(-1/0).onsuccess=K)}());var _=I._waitingFor;return new Je(function(K,Z){O.then(function(te){return I._waitingQueue.push(pt(K.bind(null,te)))},function(te){return I._waitingQueue.push(pt(Z.bind(null,te)))}).finally(function(){I._waitingFor===_&&(I._waitingFor=null)})})},Hi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Se.Abort))},Hi.prototype.table=function(y){var b=this._memoizedTables||(this._memoizedTables={});if(m(b,y))return b[y];var I=this.schema[y];if(!I)throw new Se.NotFound("Table "+y+" not part of transaction");return I=new this.db.Table(y,I,this),I.core=this.db.core.table(y),b[y]=I},Hi);function Hi(){}function pc(y,b,I,O,_,K,Z,te){return{name:y,keyPath:b,unique:I,multi:O,auto:_,compound:K,src:(I&&!Z?"&":"")+(O?"*":"")+(_?"++":"")+em(b),type:te}}function em(y){return typeof y=="string"?y:y?"["+[].join.call(y,"+")+"]":""}function gc(y,b,I){return{name:y,primKey:b,indexes:I,mappedClass:null,idxByName:(O=function(_){return[_.name,_]},I.reduce(function(_,K,Z){return Z=O(K,Z),Z&&(_[Z[0]]=Z[1]),_},{}))};var O}var Ha=function(y){try{return y.only([[]]),Ha=function(){return[[]]},[[]]}catch{return Ha=function(){return ji},ji}};function Ua(y){return y==null?function(){}:typeof y=="string"?(b=y).split(".").length===1?function(I){return I[b]}:function(I){return z(I,b)}:function(I){return z(I,y)};var b}function Ql(y){return[].slice.call(y)}var Sd=0;function Wa(y){return y==null?":id":typeof y=="string"?y:"[".concat(y.join("+"),"]")}function tm(y,b,le){function O(xe){if(xe.type===3)return null;if(xe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var ce=xe.lower,pe=xe.upper,he=xe.lowerOpen,xe=xe.upperOpen;return ce===void 0?pe===void 0?null:b.upperBound(pe,!!xe):pe===void 0?b.lowerBound(ce,!!he):b.bound(ce,pe,!!he,!!xe)}function _(Ae){var ce,pe=Ae.name;return{name:pe,schema:Ae,mutate:function(he){var xe=he.trans,we=he.type,ke=he.keys,De=he.values,Le=he.range;return new Promise(function(Qe,nt){Qe=pt(Qe);var Ke=xe.objectStore(pe),qe=Ke.keyPath==null,rt=we==="put"||we==="add";if(!rt&&we!=="delete"&&we!=="deleteRange")throw new Error("Invalid operation type: "+we);var Ve,at=(ke||De||{length:1}).length;if(ke&&De&&ke.length!==De.length)throw new Error("Given keys array must have same length as given values array.");if(at===0)return Qe({numFailures:0,failures:{},results:[],lastResult:void 0});function vt(Ir){++zr,No(Ir)}var Ot=[],Ft=[],zr=0;if(we==="deleteRange"){if(Le.type===4)return Qe({numFailures:zr,failures:Ft,results:[],lastResult:void 0});Le.type===3?Ot.push(Ve=Ke.clear()):Ot.push(Ve=Ke.delete(O(Le)))}else{var qe=rt?qe?[De,ke]:[De,null]:[ke,null],Bt=qe[0],kr=qe[1];if(rt)for(var Xn=0;Xn<at;++Xn)Ot.push(Ve=kr&&kr[Xn]!==void 0?Ke[we](Bt[Xn],kr[Xn]):Ke[we](Bt[Xn])),Ve.onerror=vt;else for(Xn=0;Xn<at;++Xn)Ot.push(Ve=Ke[we](Bt[Xn])),Ve.onerror=vt}function Zl(Ir){Ir=Ir.target.result,Ot.forEach(function(Co,Pd){return Co.error!=null&&(Ft[Pd]=Co.error)}),Qe({numFailures:zr,failures:Ft,results:we==="delete"?ke:Ot.map(function(Co){return Co.result}),lastResult:Ir})}Ve.onerror=function(Ir){vt(Ir),Zl(Ir)},Ve.onsuccess=Zl})},getMany:function(he){var xe=he.trans,we=he.keys;return new Promise(function(ke,De){ke=pt(ke);for(var Le,Qe=xe.objectStore(pe),nt=we.length,Ke=new Array(nt),qe=0,rt=0,Ve=function(Ot){Ot=Ot.target,Ke[Ot._pos]=Ot.result,++rt===qe&&ke(Ke)},at=xi(De),vt=0;vt<nt;++vt)we[vt]!=null&&((Le=Qe.get(we[vt]))._pos=vt,Le.onsuccess=Ve,Le.onerror=at,++qe);qe===0&&ke(Ke)})},get:function(he){var xe=he.trans,we=he.key;return new Promise(function(ke,De){ke=pt(ke);var Le=xe.objectStore(pe).get(we);Le.onsuccess=function(Qe){return ke(Qe.target.result)},Le.onerror=xi(De)})},query:(ce=ue,function(he){return new Promise(function(xe,we){xe=pt(xe);var ke,De,Le,qe=he.trans,Qe=he.values,nt=he.limit,Ve=he.query,Ke=nt===1/0?void 0:nt,rt=Ve.index,Ve=Ve.range,qe=qe.objectStore(pe),rt=rt.isPrimaryKey?qe:qe.index(rt.name),Ve=O(Ve);if(nt===0)return xe({result:[]});ce?((Ke=Qe?rt.getAll(Ve,Ke):rt.getAllKeys(Ve,Ke)).onsuccess=function(at){return xe({result:at.target.result})},Ke.onerror=xi(we)):(ke=0,De=!Qe&&"openKeyCursor"in rt?rt.openKeyCursor(Ve):rt.openCursor(Ve),Le=[],De.onsuccess=function(at){var vt=De.result;return vt?(Le.push(Qe?vt.value:vt.primaryKey),++ke===nt?xe({result:Le}):void vt.continue()):xe({result:Le})},De.onerror=xi(we))})}),openCursor:function(he){var xe=he.trans,we=he.values,ke=he.query,De=he.reverse,Le=he.unique;return new Promise(function(Qe,nt){Qe=pt(Qe);var rt=ke.index,Ke=ke.range,qe=xe.objectStore(pe),qe=rt.isPrimaryKey?qe:qe.index(rt.name),rt=De?Le?"prevunique":"prev":Le?"nextunique":"next",Ve=!we&&"openKeyCursor"in qe?qe.openKeyCursor(O(Ke),rt):qe.openCursor(O(Ke),rt);Ve.onerror=xi(nt),Ve.onsuccess=pt(function(at){var vt,Ot,Ft,zr,Bt=Ve.result;Bt?(Bt.___id=++Sd,Bt.done=!1,vt=Bt.continue.bind(Bt),Ot=(Ot=Bt.continuePrimaryKey)&&Ot.bind(Bt),Ft=Bt.advance.bind(Bt),zr=function(){throw new Error("Cursor not stopped")},Bt.trans=xe,Bt.stop=Bt.continue=Bt.continuePrimaryKey=Bt.advance=function(){throw new Error("Cursor not started")},Bt.fail=pt(nt),Bt.next=function(){var kr=this,Xn=1;return this.start(function(){return Xn--?kr.continue():kr.stop()}).then(function(){return kr})},Bt.start=function(kr){function Xn(){if(Ve.result)try{kr()}catch(Ir){Bt.fail(Ir)}else Bt.done=!0,Bt.start=function(){throw new Error("Cursor behind last entry")},Bt.stop()}var Zl=new Promise(function(Ir,Co){Ir=pt(Ir),Ve.onerror=xi(Co),Bt.fail=Co,Bt.stop=function(Pd){Bt.stop=Bt.continue=Bt.continuePrimaryKey=Bt.advance=zr,Ir(Pd)}});return Ve.onsuccess=pt(function(Ir){Ve.onsuccess=Xn,Xn()}),Bt.continue=vt,Bt.continuePrimaryKey=Ot,Bt.advance=Ft,Xn(),Zl},Qe(Bt)):Qe(null)},nt)})},count:function(he){var xe=he.query,we=he.trans,ke=xe.index,De=xe.range;return new Promise(function(Le,Qe){var nt=we.objectStore(pe),Ke=ke.isPrimaryKey?nt:nt.index(ke.name),nt=O(De),Ke=nt?Ke.count(nt):Ke.count();Ke.onsuccess=pt(function(qe){return Le(qe.target.result)}),Ke.onerror=xi(Qe)})}}}var K,Z,te,ye=(Z=le,te=Ql((K=y).objectStoreNames),{schema:{name:K.name,tables:te.map(function(Ae){return Z.objectStore(Ae)}).map(function(Ae){var ce=Ae.keyPath,xe=Ae.autoIncrement,pe=u(ce),he={},xe={name:Ae.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:ce==null,compound:pe,keyPath:ce,autoIncrement:xe,unique:!0,extractKey:Ua(ce)},indexes:Ql(Ae.indexNames).map(function(we){return Ae.index(we)}).map(function(Le){var ke=Le.name,De=Le.unique,Qe=Le.multiEntry,Le=Le.keyPath,Qe={name:ke,compound:u(Le),keyPath:Le,unique:De,multiEntry:Qe,extractKey:Ua(Le)};return he[Wa(Le)]=Qe}),getIndexByKeyPath:function(we){return he[Wa(we)]}};return he[":id"]=xe.primaryKey,ce!=null&&(he[Wa(ce)]=xe.primaryKey),xe})},hasGetAll:0<te.length&&"getAll"in Z.objectStore(te[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),le=ye.schema,ue=ye.hasGetAll,ye=le.tables.map(_),ne={};return ye.forEach(function(Ae){return ne[Ae.name]=Ae}),{stack:"dbcore",transaction:y.transaction.bind(y),table:function(Ae){if(!ne[Ae])throw new Error("Table '".concat(Ae,"' not found"));return ne[Ae]},MIN_KEY:-1/0,MAX_KEY:Ha(b),schema:le}}function mc(y,b,I,O){var _=I.IDBKeyRange;return I.indexedDB,{dbcore:(O=tm(b,_,O),y.dbcore.reduce(function(K,Z){return Z=Z.create,r(r({},K),Z(K))},O))}}function yc(y,O){var I=O.db,O=mc(y._middlewares,I,y._deps,O);y.core=O.dbcore,y.tables.forEach(function(_){var K=_.name;y.core.schema.tables.some(function(Z){return Z.name===K})&&(_.core=y.core.table(K),y[K]instanceof y.Table&&(y[K].core=_.core))})}function $l(y,b,I,O){I.forEach(function(_){var K=O[_];b.forEach(function(Z){var te=function le(ue,ye){return R(ue,ye)||(ue=h(ue))&&le(ue,ye)}(Z,_);(!te||"value"in te&&te.value===void 0)&&(Z===y.Transaction.prototype||Z instanceof y.Transaction?w(Z,_,{get:function(){return this.table(_)},set:function(le){x(this,_,{value:le,writable:!0,configurable:!0,enumerable:!0})}}):Z[_]=new y.Table(_,K))})})}function bi(y,b){b.forEach(function(I){for(var O in I)I[O]instanceof y.Table&&delete I[O]})}function Lx(y,b){return y._cfg.version-b._cfg.version}function Px(y,b,I,O){var _=y._dbSchema;I.objectStoreNames.contains("$meta")&&!_.$meta&&(_.$meta=gc("$meta",$s("")[0],[]),y._storeNames.push("$meta"));var K=y._createTransaction("readwrite",y._storeNames,_);K.create(I),K._completion.catch(O);var Z=K._reject.bind(K),te=it.transless||it;qn(function(){return it.trans=K,it.transless=te,b!==0?(yc(y,I),ue=b,((le=K).storeNames.includes("$meta")?le.table("$meta").get("version").then(function(ye){return ye??ue}):Je.resolve(ue)).then(function(ye){return Ae=ye,ce=K,pe=I,he=[],ye=(ne=y)._versions,xe=ne._dbSchema=Qs(0,ne.idbdb,pe),(ye=ye.filter(function(we){return we._cfg.version>=Ae})).length!==0?(ye.forEach(function(we){he.push(function(){var ke=xe,De=we._cfg.dbschema;Ka(ne,ke,pe),Ka(ne,De,pe),xe=ne._dbSchema=De;var Le=vc(ke,De);Le.add.forEach(function(rt){wo(pe,rt[0],rt[1].primKey,rt[1].indexes)}),Le.change.forEach(function(rt){if(rt.recreate)throw new Se.Upgrade("Not yet support for changing primary key");var Ve=pe.objectStore(rt.name);rt.add.forEach(function(at){return Ui(Ve,at)}),rt.change.forEach(function(at){Ve.deleteIndex(at.name),Ui(Ve,at)}),rt.del.forEach(function(at){return Ve.deleteIndex(at)})});var Qe=we._cfg.contentUpgrade;if(Qe&&we._cfg.version>Ae){yc(ne,pe),ce._memoizedTables={};var nt=$(De);Le.del.forEach(function(rt){nt[rt]=ke[rt]}),bi(ne,[ne.Transaction.prototype]),$l(ne,[ne.Transaction.prototype],l(nt),nt),ce.schema=nt;var Ke,qe=de(Qe);return qe&&xn(),Le=Je.follow(function(){var rt;(Ke=Qe(ce))&&qe&&(rt=Kn.bind(null,null),Ke.then(rt,rt))}),Ke&&typeof Ke.then=="function"?Je.resolve(Ke):Le.then(function(){return Ke})}}),he.push(function(ke){var De,Le,Qe=we._cfg.dbschema;De=Qe,Le=ke,[].slice.call(Le.db.objectStoreNames).forEach(function(nt){return De[nt]==null&&Le.db.deleteObjectStore(nt)}),bi(ne,[ne.Transaction.prototype]),$l(ne,[ne.Transaction.prototype],ne._storeNames,ne._dbSchema),ce.schema=ne._dbSchema}),he.push(function(ke){ne.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(ne.idbdb.version/10)===we._cfg.version?(ne.idbdb.deleteObjectStore("$meta"),delete ne._dbSchema.$meta,ne._storeNames=ne._storeNames.filter(function(De){return De!=="$meta"})):ke.objectStore("$meta").put(we._cfg.version,"version"))})}),function we(){return he.length?Je.resolve(he.shift()(ce.idbtrans)).then(we):Je.resolve()}().then(function(){Ac(xe,pe)})):Je.resolve();var ne,Ae,ce,pe,he,xe}).catch(Z)):(l(_).forEach(function(ye){wo(I,ye,_[ye].primKey,_[ye].indexes)}),yc(y,I),void Je.follow(function(){return y.on.populate.fire(K)}).catch(Z));var le,ue})}function Cd(y,b){Ac(y._dbSchema,b),b.db.version%10!=0||b.objectStoreNames.contains("$meta")||b.db.createObjectStore("$meta").add(Math.ceil(b.db.version/10-1),"version");var I=Qs(0,y.idbdb,b);Ka(y,y._dbSchema,b);for(var O=0,_=vc(I,y._dbSchema).change;O<_.length;O++){var K=function(Z){if(Z.change.length||Z.recreate)return console.warn("Unable to patch indexes of table ".concat(Z.name," because it has changes on the type of index or primary key.")),{value:void 0};var te=b.objectStore(Z.name);Z.add.forEach(function(le){Dn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(Z.name,".").concat(le.src)),Ui(te,le)})}(_[O]);if(typeof K=="object")return K.value}}function vc(y,b){var I,O={del:[],add:[],change:[]};for(I in y)b[I]||O.del.push(I);for(I in b){var _=y[I],K=b[I];if(_){var Z={name:I,def:K,recreate:!1,del:[],add:[],change:[]};if(""+(_.primKey.keyPath||"")!=""+(K.primKey.keyPath||"")||_.primKey.auto!==K.primKey.auto)Z.recreate=!0,O.change.push(Z);else{var te=_.idxByName,le=K.idxByName,ue=void 0;for(ue in te)le[ue]||Z.del.push(ue);for(ue in le){var ye=te[ue],ne=le[ue];ye?ye.src!==ne.src&&Z.change.push(ne):Z.add.push(ne)}(0<Z.del.length||0<Z.add.length||0<Z.change.length)&&O.change.push(Z)}}else O.add.push([I,K])}return O}function wo(y,b,I,O){var _=y.db.createObjectStore(b,I.keyPath?{keyPath:I.keyPath,autoIncrement:I.auto}:{autoIncrement:I.auto});return O.forEach(function(K){return Ui(_,K)}),_}function Ac(y,b){l(y).forEach(function(I){b.db.objectStoreNames.contains(I)||(Dn&&console.debug("Dexie: Creating missing table",I),wo(b,I,y[I].primKey,y[I].indexes))})}function Ui(y,b){y.createIndex(b.name,b.keyPath,{unique:b.unique,multiEntry:b.multi})}function Qs(y,b,I){var O={};return k(b.objectStoreNames,0).forEach(function(_){for(var K=I.objectStore(_),Z=pc(em(ue=K.keyPath),ue||"",!0,!1,!!K.autoIncrement,ue&&typeof ue!="string",!0),te=[],le=0;le<K.indexNames.length;++le){var ye=K.index(K.indexNames[le]),ue=ye.keyPath,ye=pc(ye.name,ue,!!ye.unique,!!ye.multiEntry,!1,ue&&typeof ue!="string",!1);te.push(ye)}O[_]=gc(_,Z,te)}),O}function Ka(y,b,I){for(var O=I.db.objectStoreNames,_=0;_<O.length;++_){var K=O[_],Z=I.objectStore(K);y._hasGetAll="getAll"in Z;for(var te=0;te<Z.indexNames.length;++te){var le=Z.indexNames[te],ue=Z.index(le).keyPath,ye=typeof ue=="string"?ue:"["+k(ue).join("+")+"]";!b[K]||(ue=b[K].idxByName[ye])&&(ue.name=le,delete b[K].idxByName[ye],b[K].idxByName[le]=ue)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(y._hasGetAll=!1)}function $s(y){return y.split(",").map(function(b,I){var K=b.split(":"),O=(_=K[1])===null||_===void 0?void 0:_.trim(),_=(b=K[0].trim()).replace(/([&*]|\+\+)/g,""),K=/^\[/.test(_)?_.match(/^\[(.*)\]$/)[1].split("+"):_;return pc(_,K||null,/\&/.test(b),/\*/.test(b),/\+\+/.test(b),u(K),I===0,O)})}var Fx=(Qa.prototype._createTableSchema=gc,Qa.prototype._parseIndexSyntax=$s,Qa.prototype._parseStoresSpec=function(y,b){var I=this;l(y).forEach(function(O){if(y[O]!==null){var _=I._parseIndexSyntax(y[O]),K=_.shift();if(!K)throw new Se.Schema("Invalid schema for table "+O+": "+y[O]);if(K.unique=!0,K.multi)throw new Se.Schema("Primary key cannot be multiEntry*");_.forEach(function(Z){if(Z.auto)throw new Se.Schema("Only primary key can be marked as autoIncrement (++)");if(!Z.keyPath)throw new Se.Schema("Index must have a name and cannot be an empty string")}),_=I._createTableSchema(O,K,_),b[O]=_}})},Qa.prototype.stores=function(I){var b=this.db;this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,I):I;var I=b._versions,O={},_={};return I.forEach(function(K){c(O,K._cfg.storesSource),_=K._cfg.dbschema={},K._parseStoresSpec(O,_)}),b._dbSchema=_,bi(b,[b._allTables,b,b.Transaction.prototype]),$l(b,[b._allTables,b,b.Transaction.prototype,this._cfg.tables],l(_),_),b._storeNames=l(_),this},Qa.prototype.upgrade=function(y){return this._cfg.contentUpgrade=Nt(this._cfg.contentUpgrade||Ye,y),this},Qa);function Qa(){}function kd(y,b){var I=y._dbNamesDB;return I||(I=y._dbNamesDB=new _o(bn,{addons:[],indexedDB:y,IDBKeyRange:b})).version(1).stores({dbnames:"name"}),I.table("dbnames")}function Id(y){return y&&typeof y.databases=="function"}function xc(y){return qn(function(){return it.letThrough=!0,y()})}function bc(y){return!("from"in y)}var jr=function(y,b){if(!this){var I=new jr;return y&&"d"in y&&c(I,y),I}c(this,arguments.length?{d:1,from:y,to:1<arguments.length?b:y}:{d:0})};function Gl(y,b,I){var O=be(b,I);if(!isNaN(O)){if(0<O)throw RangeError();if(bc(y))return c(y,{from:b,to:I,d:1});var _=y.l,O=y.r;if(be(I,y.from)<0)return _?Gl(_,b,I):y.l={from:b,to:I,d:1,l:null,r:null},rm(y);if(0<be(b,y.to))return O?Gl(O,b,I):y.r={from:b,to:I,d:1,l:null,r:null},rm(y);be(b,y.from)<0&&(y.from=b,y.l=null,y.d=O?O.d+1:1),0<be(I,y.to)&&(y.to=I,y.r=null,y.d=y.l?y.l.d+1:1),I=!y.r,_&&!y.l&&Vl(y,_),O&&I&&Vl(y,O)}}function Vl(y,b){bc(b)||function I(O,le){var K=le.from,Z=le.to,te=le.l,le=le.r;Gl(O,K,Z),te&&I(O,te),le&&I(O,le)}(y,b)}function nm(y,b){var I=Yl(b),O=I.next();if(O.done)return!1;for(var _=O.value,K=Yl(y),Z=K.next(_.from),te=Z.value;!O.done&&!Z.done;){if(be(te.from,_.to)<=0&&0<=be(te.to,_.from))return!0;be(_.from,te.from)<0?_=(O=I.next(te.from)).value:te=(Z=K.next(_.from)).value}return!1}function Yl(y){var b=bc(y)?null:{s:0,n:y};return{next:function(I){for(var O=0<arguments.length;b;)switch(b.s){case 0:if(b.s=1,O)for(;b.n.l&&be(I,b.n.from)<0;)b={up:b,n:b.n.l,s:1};else for(;b.n.l;)b={up:b,n:b.n.l,s:1};case 1:if(b.s=2,!O||be(I,b.n.to)<=0)return{value:b.n,done:!1};case 2:if(b.n.r){b.s=3,b={up:b,n:b.n.r,s:0};continue}case 3:b=b.up}return{done:!0}}}}function rm(y){var b,I,O=(((b=y.r)===null||b===void 0?void 0:b.d)||0)-(((I=y.l)===null||I===void 0?void 0:I.d)||0),_=1<O?"r":O<-1?"l":"";_&&(b=_=="r"?"l":"r",I=r({},y),O=y[_],y.from=O.from,y.to=O.to,y[_]=O[_],I[_]=O[b],(y[b]=I).d=Ed(I)),y.d=Ed(y)}function Ed(I){var b=I.r,I=I.l;return(b?I?Math.max(b.d,I.d):b.d:I?I.d:0)+1}function Gs(y,b){return l(b).forEach(function(I){y[I]?Vl(y[I],b[I]):y[I]=function O(_){var K,Z,te={};for(K in _)m(_,K)&&(Z=_[K],te[K]=!Z||typeof Z!="object"||Y.has(Z.constructor)?Z:O(Z));return te}(b[I])}),y}function ds(y,b){return y.all||b.all||Object.keys(y).some(function(I){return b[I]&&nm(b[I],y[I])})}v(jr.prototype,((wi={add:function(y){return Vl(this,y),this},addKey:function(y){return Gl(this,y,y),this},addKeys:function(y){var b=this;return y.forEach(function(I){return Gl(b,I,I)}),this},hasKey:function(y){var b=Yl(this).next(y).value;return b&&be(b.from,y)<=0&&0<=be(b.to,y)}})[Re]=function(){return Yl(this)},wi));var Vs={},Dd={},Md=!1;function hs(y){Gs(Dd,y),Md||(Md=!0,setTimeout(function(){Md=!1,Qn(Dd,!(Dd={}))},0))}function Qn(y,b){b===void 0&&(b=!1);var I=new Set;if(y.all)for(var O=0,_=Object.values(Vs);O<_.length;O++)im(Z=_[O],y,I,b);else for(var K in y){var Z,te=/^idb\:\/\/(.*)\/(.*)\//.exec(K);te&&(K=te[1],te=te[2],(Z=Vs["idb://".concat(K,"/").concat(te)])&&im(Z,y,I,b))}I.forEach(function(le){return le()})}function im(y,b,I,O){for(var _=[],K=0,Z=Object.entries(y.queries.query);K<Z.length;K++){for(var te=Z[K],le=te[0],ue=[],ye=0,ne=te[1];ye<ne.length;ye++){var Ae=ne[ye];ds(b,Ae.obsSet)?Ae.subscribers.forEach(function(xe){return I.add(xe)}):O&&ue.push(Ae)}O&&_.push([le,ue])}if(O)for(var ce=0,pe=_;ce<pe.length;ce++){var he=pe[ce],le=he[0],ue=he[1];y.queries.query[le]=ue}}function om(y){var b=y._state,I=y._deps.indexedDB;if(b.isBeingOpened||y.idbdb)return b.dbReadyPromise.then(function(){return b.dbOpenError?cn(b.dbOpenError):y});b.isBeingOpened=!0,b.dbOpenError=null,b.openComplete=!1;var O=b.openCanceller,_=Math.round(10*y.verno),K=!1;function Z(){if(b.openCanceller!==O)throw new Se.DatabaseClosed("db.open() was cancelled")}function te(){return new Je(function(Ae,ce){if(Z(),!I)throw new Se.MissingAPI;var pe=y.name,he=b.autoSchema||!_?I.open(pe):I.open(pe,_);if(!he)throw new Se.MissingAPI;he.onerror=xi(ce),he.onblocked=pt(y._fireOnBlocked),he.onupgradeneeded=pt(function(xe){var we;ye=he.transaction,b.autoSchema&&!y._options.allowEmptyDB?(he.onerror=No,ye.abort(),he.result.close(),(we=I.deleteDatabase(pe)).onsuccess=we.onerror=pt(function(){ce(new Se.NoSuchDatabase("Database ".concat(pe," doesnt exist")))})):(ye.onerror=xi(ce),xe=xe.oldVersion>Math.pow(2,62)?0:xe.oldVersion,ne=xe<1,y.idbdb=he.result,K&&Cd(y,ye),Px(y,xe/10,ye,ce))},ce),he.onsuccess=pt(function(){ye=null;var xe,we,ke,De,Le,Qe=y.idbdb=he.result,nt=k(Qe.objectStoreNames);if(0<nt.length)try{var Ke=Qe.transaction((De=nt).length===1?De[0]:De,"readonly");if(b.autoSchema)we=Qe,ke=Ke,(xe=y).verno=we.version/10,ke=xe._dbSchema=Qs(0,we,ke),xe._storeNames=k(we.objectStoreNames,0),$l(xe,[xe._allTables],l(ke),ke);else if(Ka(y,y._dbSchema,Ke),((Le=vc(Qs(0,(Le=y).idbdb,Ke),Le._dbSchema)).add.length||Le.change.some(function(qe){return qe.add.length||qe.change.length}))&&!K)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Qe.close(),_=Qe.version+1,K=!0,Ae(te());yc(y,Ke)}catch{}io.push(y),Qe.onversionchange=pt(function(qe){b.vcFired=!0,y.on("versionchange").fire(qe)}),Qe.onclose=pt(function(){y.close({disableAutoOpen:!1})}),ne&&(Le=y._deps,Ke=pe,Qe=Le.indexedDB,Le=Le.IDBKeyRange,Id(Qe)||Ke===bn||kd(Qe,Le).put({name:Ke}).catch(Ye)),Ae()},ce)}).catch(function(Ae){switch(Ae==null?void 0:Ae.name){case"UnknownError":if(0<b.PR1398_maxLoop)return b.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),te();break;case"VersionError":if(0<_)return _=0,te()}return Je.reject(Ae)})}var le,ue=b.dbReadyResolve,ye=null,ne=!1;return Je.race([O,(typeof navigator>"u"?Je.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Ae){function ce(){return indexedDB.databases().finally(Ae)}le=setInterval(ce,100),ce()}).finally(function(){return clearInterval(le)}):Promise.resolve()).then(te)]).then(function(){return Z(),b.onReadyBeingFired=[],Je.resolve(xc(function(){return y.on.ready.fire(y.vip)})).then(function Ae(){if(0<b.onReadyBeingFired.length){var ce=b.onReadyBeingFired.reduce(Nt,Ye);return b.onReadyBeingFired=[],Je.resolve(xc(function(){return ce(y.vip)})).then(Ae)}})}).finally(function(){b.openCanceller===O&&(b.onReadyBeingFired=null,b.isBeingOpened=!1)}).catch(function(Ae){b.dbOpenError=Ae;try{ye&&ye.abort()}catch{}return O===b.openCanceller&&y._close(),cn(Ae)}).finally(function(){b.openComplete=!0,ue()}).then(function(){var Ae;return ne&&(Ae={},y.tables.forEach(function(ce){ce.schema.indexes.forEach(function(pe){pe.name&&(Ae["idb://".concat(y.name,"/").concat(ce.name,"/").concat(pe.name)]=new jr(-1/0,[[[]]]))}),Ae["idb://".concat(y.name,"/").concat(ce.name,"/")]=Ae["idb://".concat(y.name,"/").concat(ce.name,"/:dels")]=new jr(-1/0,[[[]]])}),fs(Kl).fire(Ae),Qn(Ae,!0)),y})}function Ys(y){function b(K){return y.next(K)}var I=_(b),O=_(function(K){return y.throw(K)});function _(K){return function(le){var te=K(le),le=te.value;return te.done?le:le&&typeof le.then=="function"?le.then(I,O):u(le)?Promise.all(le).then(I,O):I(le)}}return _(b)()}function wc(y,b,I){for(var O=u(y)?y.slice():[y],_=0;_<I;++_)O.push(b);return O}var sm={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(y){return r(r({},y),{table:function(b){var I=y.table(b),O=I.schema,_={},K=[];function Z(ne,Ae,ce){var pe=Wa(ne),he=_[pe]=_[pe]||[],xe=ne==null?0:typeof ne=="string"?1:ne.length,we=0<Ae,we=r(r({},ce),{name:we?"".concat(pe,"(virtual-from:").concat(ce.name,")"):ce.name,lowLevelIndex:ce,isVirtual:we,keyTail:Ae,keyLength:xe,extractKey:Ua(ne),unique:!we&&ce.unique});return he.push(we),we.isPrimaryKey||K.push(we),1<xe&&Z(xe===2?ne[0]:ne.slice(0,xe-1),Ae+1,ce),he.sort(function(ke,De){return ke.keyTail-De.keyTail}),we}b=Z(O.primaryKey.keyPath,0,O.primaryKey),_[":id"]=[b];for(var te=0,le=O.indexes;te<le.length;te++){var ue=le[te];Z(ue.keyPath,0,ue)}function ye(ne){var Ae,ce=ne.query.index;return ce.isVirtual?r(r({},ne),{query:{index:ce.lowLevelIndex,range:(Ae=ne.query.range,ce=ce.keyTail,{type:Ae.type===1?2:Ae.type,lower:wc(Ae.lower,Ae.lowerOpen?y.MAX_KEY:y.MIN_KEY,ce),lowerOpen:!0,upper:wc(Ae.upper,Ae.upperOpen?y.MIN_KEY:y.MAX_KEY,ce),upperOpen:!0})}}):ne}return r(r({},I),{schema:r(r({},O),{primaryKey:b,indexes:K,getIndexByKeyPath:function(ne){return(ne=_[Wa(ne)])&&ne[0]}}),count:function(ne){return I.count(ye(ne))},query:function(ne){return I.query(ye(ne))},openCursor:function(ne){var Ae=ne.query.index,ce=Ae.keyTail,pe=Ae.isVirtual,he=Ae.keyLength;return pe?I.openCursor(ye(ne)).then(function(we){return we&&xe(we)}):I.openCursor(ne);function xe(we){return Object.create(we,{continue:{value:function(ke){ke!=null?we.continue(wc(ke,ne.reverse?y.MAX_KEY:y.MIN_KEY,ce)):ne.unique?we.continue(we.key.slice(0,he).concat(ne.reverse?y.MIN_KEY:y.MAX_KEY,ce)):we.continue()}},continuePrimaryKey:{value:function(ke,De){we.continuePrimaryKey(wc(ke,y.MAX_KEY,ce),De)}},primaryKey:{get:function(){return we.primaryKey}},key:{get:function(){var ke=we.key;return he===1?ke[0]:ke.slice(0,he)}},value:{get:function(){return we.value}}})}}})}})}};function Rd(y,b,I,O){return I=I||{},O=O||"",l(y).forEach(function(_){var K,Z,te;m(b,_)?(K=y[_],Z=b[_],typeof K=="object"&&typeof Z=="object"&&K&&Z?(te=B(K))!==B(Z)?I[O+_]=b[_]:te==="Object"?Rd(K,Z,I,O+_+"."):K!==Z&&(I[O+_]=b[_]):K!==Z&&(I[O+_]=b[_])):I[O+_]=void 0}),l(b).forEach(function(_){m(y,_)||(I[O+_]=b[_])}),I}function Jl(y,b){return b.type==="delete"?b.keys:b.keys||b.values.map(y.extractKey)}var am={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(y){return r(r({},y),{table:function(b){var I=y.table(b),O=I.schema.primaryKey;return r(r({},I),{mutate:function(_){var K=it.trans,Z=K.table(b).hook,te=Z.deleting,le=Z.creating,ue=Z.updating;switch(_.type){case"add":if(le.fire===Ye)break;return K._promise("readwrite",function(){return ye(_)},!0);case"put":if(le.fire===Ye&&ue.fire===Ye)break;return K._promise("readwrite",function(){return ye(_)},!0);case"delete":if(te.fire===Ye)break;return K._promise("readwrite",function(){return ye(_)},!0);case"deleteRange":if(te.fire===Ye)break;return K._promise("readwrite",function(){return function ne(Ae,ce,pe){return I.query({trans:Ae,values:!1,query:{index:O,range:ce},limit:pe}).then(function(he){var xe=he.result;return ye({type:"delete",keys:xe,trans:Ae}).then(function(we){return 0<we.numFailures?Promise.reject(we.failures[0]):xe.length<pe?{failures:[],numFailures:0,lastResult:void 0}:ne(Ae,r(r({},ce),{lower:xe[xe.length-1],lowerOpen:!0}),pe)})})}(_.trans,_.range,1e4)},!0)}return I.mutate(_);function ye(ne){var Ae,ce,pe,he=it.trans,xe=ne.keys||Jl(O,ne);if(!xe)throw new Error("Keys missing");return(ne=ne.type==="add"||ne.type==="put"?r(r({},ne),{keys:xe}):r({},ne)).type!=="delete"&&(ne.values=i([],ne.values)),ne.keys&&(ne.keys=i([],ne.keys)),Ae=I,pe=xe,((ce=ne).type==="add"?Promise.resolve([]):Ae.getMany({trans:ce.trans,keys:pe,cache:"immutable"})).then(function(we){var ke=xe.map(function(De,Le){var Qe,nt,Ke,qe=we[Le],rt={onerror:null,onsuccess:null};return ne.type==="delete"?te.fire.call(rt,De,qe,he):ne.type==="add"||qe===void 0?(Qe=le.fire.call(rt,De,ne.values[Le],he),De==null&&Qe!=null&&(ne.keys[Le]=De=Qe,O.outbound||Q(ne.values[Le],O.keyPath,De))):(Qe=Rd(qe,ne.values[Le]),(nt=ue.fire.call(rt,Qe,De,qe,he))&&(Ke=ne.values[Le],Object.keys(nt).forEach(function(Ve){m(Ke,Ve)?Ke[Ve]=nt[Ve]:Q(Ke,Ve,nt[Ve])}))),rt});return I.mutate(ne).then(function(De){for(var Le=De.failures,Qe=De.results,nt=De.numFailures,De=De.lastResult,Ke=0;Ke<xe.length;++Ke){var qe=(Qe||xe)[Ke],rt=ke[Ke];qe==null?rt.onerror&&rt.onerror(Le[Ke]):rt.onsuccess&&rt.onsuccess(ne.type==="put"&&we[Ke]?ne.values[Ke]:qe)}return{failures:Le,results:Qe,numFailures:nt,lastResult:De}}).catch(function(De){return ke.forEach(function(Le){return Le.onerror&&Le.onerror(De)}),Promise.reject(De)})})}}})}})}};function lm(y,b,I){try{if(!b||b.keys.length<y.length)return null;for(var O=[],_=0,K=0;_<b.keys.length&&K<y.length;++_)be(b.keys[_],y[K])===0&&(O.push(I?J(b.values[_]):b.values[_]),++K);return O.length===y.length?O:null}catch{return null}}var Bx={stack:"dbcore",level:-1,create:function(y){return{table:function(b){var I=y.table(b);return r(r({},I),{getMany:function(O){if(!O.cache)return I.getMany(O);var _=lm(O.keys,O.trans._cache,O.cache==="clone");return _?Je.resolve(_):I.getMany(O).then(function(K){return O.trans._cache={keys:O.keys,values:O.cache==="clone"?J(K):K},K})},mutate:function(O){return O.type!=="add"&&(O.trans._cache=null),I.mutate(O)}})}}}};function Td(y,b){return y.trans.mode==="readonly"&&!!y.subscr&&!y.trans.explicit&&y.trans.db._options.cache!=="disabled"&&!b.schema.primaryKey.outbound}function Od(y,b){switch(y){case"query":return b.values&&!b.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Nx={stack:"dbcore",level:0,name:"Observability",create:function(y){var b=y.schema.name,I=new jr(y.MIN_KEY,y.MAX_KEY);return r(r({},y),{transaction:function(O,_,K){if(it.subscr&&_!=="readonly")throw new Se.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(it.querier));return y.transaction(O,_,K)},table:function(O){var _=y.table(O),K=_.schema,Z=K.primaryKey,ne=K.indexes,te=Z.extractKey,le=Z.outbound,ue=Z.autoIncrement&&ne.filter(function(ce){return ce.compound&&ce.keyPath.includes(Z.keyPath)}),ye=r(r({},_),{mutate:function(ce){function pe(Ve){return Ve="idb://".concat(b,"/").concat(O,"/").concat(Ve),De[Ve]||(De[Ve]=new jr)}var he,xe,we,ke=ce.trans,De=ce.mutatedParts||(ce.mutatedParts={}),Le=pe(""),Qe=pe(":dels"),nt=ce.type,rt=ce.type==="deleteRange"?[ce.range]:ce.type==="delete"?[ce.keys]:ce.values.length<50?[Jl(Z,ce).filter(function(Ve){return Ve}),ce.values]:[],Ke=rt[0],qe=rt[1],rt=ce.trans._cache;return u(Ke)?(Le.addKeys(Ke),(rt=nt==="delete"||Ke.length===qe.length?lm(Ke,rt):null)||Qe.addKeys(Ke),(rt||qe)&&(he=pe,xe=rt,we=qe,K.indexes.forEach(function(Ve){var at=he(Ve.name||"");function vt(Ft){return Ft!=null?Ve.extractKey(Ft):null}function Ot(Ft){return Ve.multiEntry&&u(Ft)?Ft.forEach(function(zr){return at.addKey(zr)}):at.addKey(Ft)}(xe||we).forEach(function(Ft,kr){var Bt=xe&&vt(xe[kr]),kr=we&&vt(we[kr]);be(Bt,kr)!==0&&(Bt!=null&&Ot(Bt),kr!=null&&Ot(kr))})}))):Ke?(qe={from:(qe=Ke.lower)!==null&&qe!==void 0?qe:y.MIN_KEY,to:(qe=Ke.upper)!==null&&qe!==void 0?qe:y.MAX_KEY},Qe.add(qe),Le.add(qe)):(Le.add(I),Qe.add(I),K.indexes.forEach(function(Ve){return pe(Ve.name).add(I)})),_.mutate(ce).then(function(Ve){return!Ke||ce.type!=="add"&&ce.type!=="put"||(Le.addKeys(Ve.results),ue&&ue.forEach(function(at){for(var vt=ce.values.map(function(Bt){return at.extractKey(Bt)}),Ot=at.keyPath.findIndex(function(Bt){return Bt===Z.keyPath}),Ft=0,zr=Ve.results.length;Ft<zr;++Ft)vt[Ft][Ot]=Ve.results[Ft];pe(at.name).addKeys(vt)})),ke.mutatedParts=Gs(ke.mutatedParts||{},De),Ve})}}),ne=function(pe){var he=pe.query,pe=he.index,he=he.range;return[pe,new jr((pe=he.lower)!==null&&pe!==void 0?pe:y.MIN_KEY,(he=he.upper)!==null&&he!==void 0?he:y.MAX_KEY)]},Ae={get:function(ce){return[Z,new jr(ce.key)]},getMany:function(ce){return[Z,new jr().addKeys(ce.keys)]},count:ne,query:ne,openCursor:ne};return l(Ae).forEach(function(ce){ye[ce]=function(pe){var he=it.subscr,xe=!!he,we=Td(it,_)&&Od(ce,pe)?pe.obsSet={}:he;if(xe){var ke=function(qe){return qe="idb://".concat(b,"/").concat(O,"/").concat(qe),we[qe]||(we[qe]=new jr)},De=ke(""),Le=ke(":dels"),he=Ae[ce](pe),xe=he[0],he=he[1];if((ce==="query"&&xe.isPrimaryKey&&!pe.values?Le:ke(xe.name||"")).add(he),!xe.isPrimaryKey){if(ce!=="count"){var Qe=ce==="query"&&le&&pe.values&&_.query(r(r({},pe),{values:!1}));return _[ce].apply(this,arguments).then(function(qe){if(ce==="query"){if(le&&pe.values)return Qe.then(function(vt){return vt=vt.result,De.addKeys(vt),qe});var rt=pe.values?qe.result.map(te):qe.result;(pe.values?De:Le).addKeys(rt)}else if(ce==="openCursor"){var Ve=qe,at=pe.values;return Ve&&Object.create(Ve,{key:{get:function(){return Le.addKey(Ve.primaryKey),Ve.key}},primaryKey:{get:function(){var vt=Ve.primaryKey;return Le.addKey(vt),vt}},value:{get:function(){return at&&De.addKey(Ve.primaryKey),Ve.value}}})}return qe})}Le.add(I)}}return _[ce].apply(this,arguments)}}),ye}})}};function $a(y,b,I){if(I.numFailures===0)return b;if(b.type==="deleteRange")return null;var O=b.keys?b.keys.length:"values"in b&&b.values?b.values.length:1;return I.numFailures===O?null:(b=r({},b),u(b.keys)&&(b.keys=b.keys.filter(function(_,K){return!(K in I.failures)})),"values"in b&&u(b.values)&&(b.values=b.values.filter(function(_,K){return!(K in I.failures)})),b)}function ao(y,b){return I=y,((O=b).lower===void 0||(O.lowerOpen?0<be(I,O.lower):0<=be(I,O.lower)))&&(y=y,(b=b).upper===void 0||(b.upperOpen?be(y,b.upper)<0:be(y,b.upper)<=0));var I,O}function ql(y,b,Ae,O,_,K){if(!Ae||Ae.length===0)return y;var Z=b.query.index,te=Z.multiEntry,le=b.query.range,ue=O.schema.primaryKey.extractKey,ye=Z.extractKey,ne=(Z.lowLevelIndex||Z).extractKey,Ae=Ae.reduce(function(ce,pe){var he=ce,xe=[];if(pe.type==="add"||pe.type==="put")for(var we=new jr,ke=pe.values.length-1;0<=ke;--ke){var De,Le=pe.values[ke],Qe=ue(Le);we.hasKey(Qe)||(De=ye(Le),(te&&u(De)?De.some(function(Ve){return ao(Ve,le)}):ao(De,le))&&(we.addKey(Qe),xe.push(Le)))}switch(pe.type){case"add":var nt=new jr().addKeys(b.values?ce.map(function(at){return ue(at)}):ce),he=ce.concat(b.values?xe.filter(function(at){return at=ue(at),!nt.hasKey(at)&&(nt.addKey(at),!0)}):xe.map(function(at){return ue(at)}).filter(function(at){return!nt.hasKey(at)&&(nt.addKey(at),!0)}));break;case"put":var Ke=new jr().addKeys(pe.values.map(function(at){return ue(at)}));he=ce.filter(function(at){return!Ke.hasKey(b.values?ue(at):at)}).concat(b.values?xe:xe.map(function(at){return ue(at)}));break;case"delete":var qe=new jr().addKeys(pe.keys);he=ce.filter(function(at){return!qe.hasKey(b.values?ue(at):at)});break;case"deleteRange":var rt=pe.range;he=ce.filter(function(at){return!ao(ue(at),rt)})}return he},y);return Ae===y?y:(Ae.sort(function(ce,pe){return be(ne(ce),ne(pe))||be(ue(ce),ue(pe))}),b.limit&&b.limit<1/0&&(Ae.length>b.limit?Ae.length=b.limit:y.length===b.limit&&Ae.length<b.limit&&(_.dirty=!0)),K?Object.freeze(Ae):Ae)}function Sc(y,b){return be(y.lower,b.lower)===0&&be(y.upper,b.upper)===0&&!!y.lowerOpen==!!b.lowerOpen&&!!y.upperOpen==!!b.upperOpen}function um(y,b){return function(I,O,_,K){if(I===void 0)return O!==void 0?-1:0;if(O===void 0)return 1;if((O=be(I,O))===0){if(_&&K)return 0;if(_)return 1;if(K)return-1}return O}(y.lower,b.lower,y.lowerOpen,b.lowerOpen)<=0&&0<=function(I,O,_,K){if(I===void 0)return O!==void 0?1:0;if(O===void 0)return-1;if((O=be(I,O))===0){if(_&&K)return 0;if(_)return-1;if(K)return 1}return O}(y.upper,b.upper,y.upperOpen,b.upperOpen)}function So(y,b,I,O){y.subscribers.add(I),O.addEventListener("abort",function(){var _,K;y.subscribers.delete(I),y.subscribers.size===0&&(_=y,K=b,setTimeout(function(){_.subscribers.size===0&&me(K,_)},3e3))})}var Js={stack:"dbcore",level:0,name:"Cache",create:function(y){var b=y.schema.name;return r(r({},y),{transaction:function(I,O,_){var K,Z,te=y.transaction(I,O,_);return O==="readwrite"&&(Z=(K=new AbortController).signal,_=function(le){return function(){if(K.abort(),O==="readwrite"){for(var ue=new Set,ye=0,ne=I;ye<ne.length;ye++){var Ae=ne[ye],ce=Vs["idb://".concat(b,"/").concat(Ae)];if(ce){var pe=y.table(Ae),he=ce.optimisticOps.filter(function(at){return at.trans===te});if(te._explicit&&le&&te.mutatedParts)for(var xe=0,we=Object.values(ce.queries.query);xe<we.length;xe++)for(var ke=0,De=(nt=we[xe]).slice();ke<De.length;ke++)ds((Ke=De[ke]).obsSet,te.mutatedParts)&&(me(nt,Ke),Ke.subscribers.forEach(function(at){return ue.add(at)}));else if(0<he.length){ce.optimisticOps=ce.optimisticOps.filter(function(at){return at.trans!==te});for(var Le=0,Qe=Object.values(ce.queries.query);Le<Qe.length;Le++)for(var nt,Ke,qe,rt=0,Ve=(nt=Qe[Le]).slice();rt<Ve.length;rt++)(Ke=Ve[rt]).res!=null&&te.mutatedParts&&(le&&!Ke.dirty?(qe=Object.isFrozen(Ke.res),qe=ql(Ke.res,Ke.req,he,pe,Ke,qe),Ke.dirty?(me(nt,Ke),Ke.subscribers.forEach(function(at){return ue.add(at)})):qe!==Ke.res&&(Ke.res=qe,Ke.promise=Je.resolve({result:qe}))):(Ke.dirty&&me(nt,Ke),Ke.subscribers.forEach(function(at){return ue.add(at)})))}}}ue.forEach(function(at){return at()})}}},te.addEventListener("abort",_(!1),{signal:Z}),te.addEventListener("error",_(!1),{signal:Z}),te.addEventListener("complete",_(!0),{signal:Z})),te},table:function(I){var O=y.table(I),_=O.schema.primaryKey;return r(r({},O),{mutate:function(K){var Z=it.trans;if(_.outbound||Z.db._options.cache==="disabled"||Z.explicit||Z.idbtrans.mode!=="readwrite")return O.mutate(K);var te=Vs["idb://".concat(b,"/").concat(I)];return te?(Z=O.mutate(K),K.type!=="add"&&K.type!=="put"||!(50<=K.values.length||Jl(_,K).some(function(le){return le==null}))?(te.optimisticOps.push(K),K.mutatedParts&&hs(K.mutatedParts),Z.then(function(le){0<le.numFailures&&(me(te.optimisticOps,K),(le=$a(0,K,le))&&te.optimisticOps.push(le),K.mutatedParts&&hs(K.mutatedParts))}),Z.catch(function(){me(te.optimisticOps,K),K.mutatedParts&&hs(K.mutatedParts)})):Z.then(function(le){var ue=$a(0,r(r({},K),{values:K.values.map(function(ye,ne){var Ae;return le.failures[ne]?ye:(ye=(Ae=_.keyPath)!==null&&Ae!==void 0&&Ae.includes(".")?J(ye):r({},ye),Q(ye,_.keyPath,le.results[ne]),ye)})}),le);te.optimisticOps.push(ue),queueMicrotask(function(){return K.mutatedParts&&hs(K.mutatedParts)})}),Z):O.mutate(K)},query:function(K){if(!Td(it,O)||!Od("query",K))return O.query(K);var Z=((ue=it.trans)===null||ue===void 0?void 0:ue.db._options.cache)==="immutable",ne=it,te=ne.requery,le=ne.signal,ue=function(pe,he,xe,we){var ke=Vs["idb://".concat(pe,"/").concat(he)];if(!ke)return[];if(!(he=ke.queries[xe]))return[null,!1,ke,null];var De=he[(we.query?we.query.index.name:null)||""];if(!De)return[null,!1,ke,null];switch(xe){case"query":var Le=De.find(function(Qe){return Qe.req.limit===we.limit&&Qe.req.values===we.values&&Sc(Qe.req.query.range,we.query.range)});return Le?[Le,!0,ke,De]:[De.find(function(Qe){return("limit"in Qe.req?Qe.req.limit:1/0)>=we.limit&&(!we.values||Qe.req.values)&&um(Qe.req.query.range,we.query.range)}),!1,ke,De];case"count":return Le=De.find(function(Qe){return Sc(Qe.req.query.range,we.query.range)}),[Le,!!Le,ke,De]}}(b,I,"query",K),ye=ue[0],ne=ue[1],Ae=ue[2],ce=ue[3];return ye&&ne?ye.obsSet=K.obsSet:(ne=O.query(K).then(function(pe){var he=pe.result;if(ye&&(ye.res=he),Z){for(var xe=0,we=he.length;xe<we;++xe)Object.freeze(he[xe]);Object.freeze(he)}else pe.result=J(he);return pe}).catch(function(pe){return ce&&ye&&me(ce,ye),Promise.reject(pe)}),ye={obsSet:K.obsSet,promise:ne,subscribers:new Set,type:"query",req:K,dirty:!1},ce?ce.push(ye):(ce=[ye],(Ae=Ae||(Vs["idb://".concat(b,"/").concat(I)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[K.query.index.name||""]=ce)),So(ye,ce,te,le),ye.promise.then(function(pe){return{result:ql(pe.result,K,Ae==null?void 0:Ae.optimisticOps,O,ye,Z)}})}})}})}};function Ga(y,b){return new Proxy(y,{get:function(I,O,_){return O==="db"?b:Reflect.get(I,O,_)}})}var _o=(Nn.prototype.version=function(y){if(isNaN(y)||y<.1)throw new Se.Type("Given version is not a positive number");if(y=Math.round(10*y)/10,this.idbdb||this._state.isBeingOpened)throw new Se.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,y);var b=this._versions,I=b.filter(function(O){return O._cfg.version===y})[0];return I||(I=new this.Version(y),b.push(I),b.sort(Lx),I.stores({}),this._state.autoSchema=!1,I)},Nn.prototype._whenReady=function(y){var b=this;return this.idbdb&&(this._state.openComplete||it.letThrough||this._vip)?y():new Je(function(I,O){if(b._state.openComplete)return O(new Se.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._state.autoOpen)return void O(new Se.DatabaseClosed);b.open().catch(Ye)}b._state.dbReadyPromise.then(I,O)}).then(y)},Nn.prototype.use=function(y){var b=y.stack,I=y.create,O=y.level,_=y.name;return _&&this.unuse({stack:b,name:_}),y=this._middlewares[b]||(this._middlewares[b]=[]),y.push({stack:b,create:I,level:O??10,name:_}),y.sort(function(K,Z){return K.level-Z.level}),this},Nn.prototype.unuse=function(y){var b=y.stack,I=y.name,O=y.create;return b&&this._middlewares[b]&&(this._middlewares[b]=this._middlewares[b].filter(function(_){return O?_.create!==O:!!I&&_.name!==I})),this},Nn.prototype.open=function(){var y=this;return Ai(Ln,function(){return om(y)})},Nn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var y=this._state,b=io.indexOf(this);if(0<=b&&io.splice(b,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}y.isBeingOpened||(y.dbReadyPromise=new Je(function(I){y.dbReadyResolve=I}),y.openCanceller=new Je(function(I,O){y.cancelOpen=O}))},Nn.prototype.close=function(I){var b=(I===void 0?{disableAutoOpen:!0}:I).disableAutoOpen,I=this._state;b?(I.isBeingOpened&&I.cancelOpen(new Se.DatabaseClosed),this._close(),I.autoOpen=!1,I.dbOpenError=new Se.DatabaseClosed):(this._close(),I.autoOpen=this._options.autoOpen||I.isBeingOpened,I.openComplete=!1,I.dbOpenError=null)},Nn.prototype.delete=function(y){var b=this;y===void 0&&(y={disableAutoOpen:!0});var I=0<arguments.length&&typeof arguments[0]!="object",O=this._state;return new Je(function(_,K){function Z(){b.close(y);var te=b._deps.indexedDB.deleteDatabase(b.name);te.onsuccess=pt(function(){var le,ue,ye;le=b._deps,ue=b.name,ye=le.indexedDB,le=le.IDBKeyRange,Id(ye)||ue===bn||kd(ye,le).delete(ue).catch(Ye),_()}),te.onerror=xi(K),te.onblocked=b._fireOnBlocked}if(I)throw new Se.InvalidArgument("Invalid closeOptions argument to db.delete()");O.isBeingOpened?O.dbReadyPromise.then(Z):Z()})},Nn.prototype.backendDB=function(){return this.idbdb},Nn.prototype.isOpen=function(){return this.idbdb!==null},Nn.prototype.hasBeenClosed=function(){var y=this._state.dbOpenError;return y&&y.name==="DatabaseClosed"},Nn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Nn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Nn.prototype,"tables",{get:function(){var y=this;return l(this._allTables).map(function(b){return y._allTables[b]})},enumerable:!1,configurable:!0}),Nn.prototype.transaction=function(){var y=(function(b,I,O){var _=arguments.length;if(_<2)throw new Se.InvalidArgument("Too few arguments");for(var K=new Array(_-1);--_;)K[_-1]=arguments[_];return O=K.pop(),[b,F(K),O]}).apply(this,arguments);return this._transaction.apply(this,y)},Nn.prototype._transaction=function(y,b,I){var O=this,_=it.trans;_&&_.db===this&&y.indexOf("!")===-1||(_=null);var K,Z,te=y.indexOf("?")!==-1;y=y.replace("!","").replace("?","");try{if(Z=b.map(function(ue){if(ue=ue instanceof O.Table?ue.name:ue,typeof ue!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ue}),y=="r"||y===ct)K=ct;else{if(y!="rw"&&y!=oo)throw new Se.InvalidArgument("Invalid transaction mode: "+y);K=oo}if(_){if(_.mode===ct&&K===oo){if(!te)throw new Se.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");_=null}_&&Z.forEach(function(ue){if(_&&_.storeNames.indexOf(ue)===-1){if(!te)throw new Se.SubTransaction("Table "+ue+" not included in parent transaction.");_=null}}),te&&_&&!_.active&&(_=null)}}catch(ue){return _?_._promise(null,function(ye,ne){ne(ue)}):cn(ue)}var le=(function ue(ye,ne,Ae,ce,pe){return Je.resolve().then(function(){var he=it.transless||it,xe=ye._createTransaction(ne,Ae,ye._dbSchema,ce);if(xe.explicit=!0,he={trans:xe,transless:he},ce)xe.idbtrans=ce.idbtrans;else try{xe.create(),xe.idbtrans._explicit=!0,ye._state.PR1398_maxLoop=3}catch(De){return De.name===Ue.InvalidState&&ye.isOpen()&&0<--ye._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ye.close({disableAutoOpen:!1}),ye.open().then(function(){return ue(ye,ne,Ae,null,pe)})):cn(De)}var we,ke=de(pe);return ke&&xn(),he=Je.follow(function(){var De;(we=pe.call(xe,xe))&&(ke?(De=Kn.bind(null,null),we.then(De,De)):typeof we.next=="function"&&typeof we.throw=="function"&&(we=Ys(we)))},he),(we&&typeof we.then=="function"?Je.resolve(we).then(function(De){return xe.active?De:cn(new Se.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):he.then(function(){return we})).then(function(De){return ce&&xe._resolve(),xe._completion.then(function(){return De})}).catch(function(De){return xe._reject(De),cn(De)})})}).bind(null,this,K,Z,_,I);return _?_._promise(K,le,"lock"):it.trans?Ai(it.transless,function(){return O._whenReady(le)}):this._whenReady(le)},Nn.prototype.table=function(y){if(!m(this._allTables,y))throw new Se.InvalidTable("Table ".concat(y," does not exist"));return this._allTables[y]},Nn);function Nn(y,b){var I=this;this._middlewares={},this.verno=0;var O=Nn.dependencies;this._options=b=r({addons:Nn.addons,autoOpen:!0,indexedDB:O.indexedDB,IDBKeyRange:O.IDBKeyRange,cache:"cloned"},b),this._deps={indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange},O=b.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var _,K,Z,te,le,ue={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ye,dbReadyPromise:null,cancelOpen:Ye,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:b.autoOpen};ue.dbReadyPromise=new Je(function(ne){ue.dbReadyResolve=ne}),ue.openCanceller=new Je(function(ne,Ae){ue.cancelOpen=Ae}),this._state=ue,this.name=y,this.on=It(this,"populate","blocked","versionchange","close",{ready:[Nt,Ye]}),this.once=function(ne,Ae){var ce=function(){for(var pe=[],he=0;he<arguments.length;he++)pe[he]=arguments[he];I.on(ne).unsubscribe(ce),Ae.apply(I,pe)};return I.on(ne,ce)},this.on.ready.subscribe=M(this.on.ready.subscribe,function(ne){return function(Ae,ce){Nn.vip(function(){var pe,he=I._state;he.openComplete?(he.dbOpenError||Je.resolve().then(Ae),ce&&ne(Ae)):he.onReadyBeingFired?(he.onReadyBeingFired.push(Ae),ce&&ne(Ae)):(ne(Ae),pe=I,ce||ne(function xe(){pe.on.ready.unsubscribe(Ae),pe.on.ready.unsubscribe(xe)}))})}}),this.Collection=(_=this,Ul(Jg.prototype,function(we,xe){this.db=_;var ce=si,pe=null;if(xe)try{ce=xe()}catch(ke){pe=ke}var he=we._ctx,xe=he.table,we=xe.hook.reading.fire;this._ctx={table:xe,index:he.index,isPrimKey:!he.index||xe.schema.primKey.keyPath&&he.index===xe.schema.primKey.name,range:ce,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:pe,or:he.or,valueMapper:we!==tt?we:null}})),this.Table=(K=this,Ul(Ws.prototype,function(ne,Ae,ce){this.db=K,this._tx=ce,this.name=ne,this.schema=Ae,this.hook=K._allTables[ne]?K._allTables[ne].hook:It(null,{creating:[Ht,Ye],reading:[Ne,tt],updating:[En,Ye],deleting:[Yt,Ye]})})),this.Transaction=(Z=this,Ul(Ox.prototype,function(ne,Ae,ce,pe,he){var xe=this;ne!=="readonly"&&Ae.forEach(function(we){we=(we=ce[we])===null||we===void 0?void 0:we.yProps,we&&(Ae=Ae.concat(we.map(function(ke){return ke.updatesTable})))}),this.db=Z,this.mode=ne,this.storeNames=Ae,this.schema=ce,this.chromeTransactionDurability=pe,this.idbtrans=null,this.on=It(this,"complete","error","abort"),this.parent=he||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Je(function(we,ke){xe._resolve=we,xe._reject=ke}),this._completion.then(function(){xe.active=!1,xe.on.complete.fire()},function(we){var ke=xe.active;return xe.active=!1,xe.on.error.fire(we),xe.parent?xe.parent._reject(we):ke&&xe.idbtrans&&xe.idbtrans.abort(),cn(we)})})),this.Version=(te=this,Ul(Fx.prototype,function(ne){this.db=te,this._cfg={version:ne,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(le=this,Ul(Xg.prototype,function(ne,Ae,ce){if(this.db=le,this._ctx={table:ne,index:Ae===":id"?null:Ae,or:ce},this._cmp=this._ascending=be,this._descending=function(pe,he){return be(he,pe)},this._max=function(pe,he){return 0<be(pe,he)?pe:he},this._min=function(pe,he){return be(pe,he)<0?pe:he},this._IDBKeyRange=le._deps.IDBKeyRange,!this._IDBKeyRange)throw new Se.MissingAPI})),this.on("versionchange",function(ne){0<ne.newVersion?console.warn("Another connection wants to upgrade database '".concat(I.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(I.name,"'. Closing db now to resume the delete request.")),I.close({disableAutoOpen:!1})}),this.on("blocked",function(ne){!ne.newVersion||ne.newVersion<ne.oldVersion?console.warn("Dexie.delete('".concat(I.name,"') was blocked")):console.warn("Upgrade '".concat(I.name,"' blocked by other connection holding version ").concat(ne.oldVersion/10))}),this._maxKey=Ha(b.IDBKeyRange),this._createTransaction=function(ne,Ae,ce,pe){return new I.Transaction(ne,Ae,ce,I._options.chromeTransactionDurability,pe)},this._fireOnBlocked=function(ne){I.on("blocked").fire(ne),io.filter(function(Ae){return Ae.name===I.name&&Ae!==I&&!Ae._state.vcFired}).map(function(Ae){return Ae.on("versionchange").fire(ne)})},this.use(Bx),this.use(Js),this.use(Nx),this.use(sm),this.use(am);var ye=new Proxy(this,{get:function(ne,Ae,ce){if(Ae==="_vip")return!0;if(Ae==="table")return function(he){return Ga(I.table(he),ye)};var pe=Reflect.get(ne,Ae,ce);return pe instanceof Ws?Ga(pe,ye):Ae==="tables"?pe.map(function(he){return Ga(he,ye)}):Ae==="_createTransaction"?function(){return Ga(pe.apply(this,arguments),ye)}:pe}});this.vip=ye,O.forEach(function(ne){return ne(I)})}var Cc,wi=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ld=(ps.prototype.subscribe=function(y,b,I){return this._subscribe(y&&typeof y!="function"?y:{next:y,error:b,complete:I})},ps.prototype[wi]=function(){return this},ps);function ps(y){this._subscribe=y}try{Cc={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{Cc={indexedDB:null,IDBKeyRange:null}}function lo(y){var b,I=!1,O=new Ld(function(_){var K=de(y),Z,te=!1,le={},ue={},ye={get closed(){return te},unsubscribe:function(){te||(te=!0,Z&&Z.abort(),ne&&fs.storagemutated.unsubscribe(ce))}};_.start&&_.start(ye);var ne=!1,Ae=function(){return us(pe)},ce=function(he){Gs(le,he),ds(ue,le)&&Ae()},pe=function(){var he,xe,we;!te&&Cc.indexedDB&&(le={},he={},Z&&Z.abort(),Z=new AbortController,we=function(ke){var De=st();try{K&&xn();var Le=qn(y,ke);return Le=K?Le.finally(Kn):Le}finally{De&&dt()}}(xe={subscr:he,signal:Z.signal,requery:Ae,querier:y,trans:null}),Promise.resolve(we).then(function(ke){I=!0,b=ke,te||xe.signal.aborted||(le={},function(De){for(var Le in De)if(m(De,Le))return;return 1}(ue=he)||ne||(fs(Kl,ce),ne=!0),us(function(){return!te&&_.next&&_.next(ke)}))},function(ke){I=!1,["DatabaseClosedError","AbortError"].includes(ke==null?void 0:ke.name)||te||us(function(){te||_.error&&_.error(ke)})}))};return setTimeout(Ae,0),ye});return O.hasValue=function(){return I},O.getValue=function(){return b},O}var gs=_o;function kc(y){var b=ms;try{ms=!0,fs.storagemutated.fire(y),Qn(y,!0)}finally{ms=b}}v(gs,r(r({},Fe),{delete:function(y){return new gs(y,{addons:[]}).delete()},exists:function(y){return new gs(y,{addons:[]}).open().then(function(b){return b.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(y){try{return b=gs.dependencies,I=b.indexedDB,b=b.IDBKeyRange,(Id(I)?Promise.resolve(I.databases()).then(function(O){return O.map(function(_){return _.name}).filter(function(_){return _!==bn})}):kd(I,b).toCollection().primaryKeys()).then(y)}catch{return cn(new Se.MissingAPI)}var b,I},defineClass:function(){return function(y){c(this,y)}},ignoreTransaction:function(y){return it.trans?Ai(it.transless,y):y()},vip:xc,async:function(y){return function(){try{var b=Ys(y.apply(this,arguments));return b&&typeof b.then=="function"?b:Je.resolve(b)}catch(I){return cn(I)}}},spawn:function(y,b,I){try{var O=Ys(y.apply(I,b||[]));return O&&typeof O.then=="function"?O:Je.resolve(O)}catch(_){return cn(_)}},currentTransaction:{get:function(){return it.trans||null}},waitFor:function(y,b){return b=Je.resolve(typeof y=="function"?gs.ignoreTransaction(y):y).timeout(b||6e4),it.trans?it.trans.waitFor(b):b},Promise:Je,debug:{get:function(){return Dn},set:function(y){xo(y)}},derive:E,extend:c,props:v,override:M,Events:It,on:fs,liveQuery:lo,extendObservabilitySet:Gs,getByKeyPath:z,setByKeyPath:Q,delByKeyPath:function(y,b){typeof b=="string"?Q(y,b,void 0):"length"in b&&[].map.call(b,function(I){Q(y,I,void 0)})},shallowClone:$,deepClone:J,getObjectDiff:Rd,cmp:be,asap:W,minKey:-1/0,addons:[],connections:io,errnames:Ue,dependencies:Cc,cache:Vs,semVer:"4.2.1",version:"4.2.1".split(".").map(function(y){return parseInt(y)}).reduce(function(y,b,I){return y+b/Math.pow(10,2*I)})})),gs.maxKey=Ha(gs.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(fs(Kl,function(y){ms||(y=new CustomEvent(wd,{detail:y}),ms=!0,dispatchEvent(y),ms=!1)}),addEventListener(wd,function(y){y=y.detail,ms||kc(y)}));var Va,ms=!1,cm=function(){};return typeof BroadcastChannel<"u"&&((cm=function(){(Va=new BroadcastChannel(wd)).onmessage=function(y){return y.data&&kc(y.data)}})(),typeof Va.unref=="function"&&Va.unref(),fs(Kl,function(y){ms||Va.postMessage(y)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(y){if(!_o.disableBfCache&&y.persisted){Dn&&console.debug("Dexie: handling persisted pagehide"),Va!=null&&Va.close();for(var b=0,I=io;b<I.length;b++)I[b].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(y){!_o.disableBfCache&&y.persisted&&(Dn&&console.debug("Dexie: handling persisted pageshow"),cm(),kc({all:new jr(-1/0,[[]])}))})),Je.rejectionMapper=function(y,b){return!y||y instanceof G||y instanceof TypeError||y instanceof SyntaxError||!y.name||!Ee[y.name]?y:(b=new Ee[y.name](b||y.message,y),"stack"in y&&w(b,"stack",{get:function(){return this.inner.stack}}),b)},xo(Dn),r(_o,Object.freeze({__proto__:null,Dexie:_o,liveQuery:lo,Entity:X,cmp:be,PropModification:Qt,replacePrefix:function(y,b){return new Qt({replacePrefix:[y,b]})},add:function(y){return new Qt({add:y})},remove:function(y){return new Qt({remove:y})},default:_o,RangeSet:jr,mergeRanges:Vl,rangesOverlap:nm}),{default:_o}),_o})})(tI);var s_=tI.exports;const LA=Mn(s_),nI=Symbol.for("Dexie"),Hu=globalThis[nI]||(globalThis[nI]=LA);if(LA.semVer!==Hu.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${LA.semVer} and ${Hu.semVer}`);const{liveQuery:kG,mergeRanges:IG,rangesOverlap:EG,RangeSet:DG,cmp:MG,Entity:RG,PropModification:TG,replacePrefix:OG,add:LG,remove:PG,DexieYProvider:FG}=Hu;class a_ extends Hu{constructor(){super("quillmonkey");mr(this,"messages");mr(this,"searchIndex");mr(this,"conversationMetas");mr(this,"driveSyncState");this.version(1).stores({messages:"[conversationId+id], conversationId, timestamp",searchIndex:"conversationId"}),this.version(2).stores({messages:"[conversationId+id], conversationId, timestamp",searchIndex:"conversationId",conversationMetas:"conversationId, updatedAt, isPinned"}),this.version(3).stores({messages:"[conversationId+id], conversationId, timestamp",searchIndex:"conversationId",conversationMetas:"conversationId, updatedAt, isPinned",driveSyncState:"key"})}}const Ct=new a_,l_="858119213465-11uh9gni06sbs6ruuaddh54oqkv9s02o.apps.googleusercontent.com",rI="quillmonkey-scripts.json",iI="https://www.googleapis.com/drive/v3",oI="https://www.googleapis.com/upload/drive/v3",PA="singleton";async function Uu(){return await Ct.driveSyncState.get(PA)??{key:PA,accessToken:null,fileId:null,enabled:!1,lastSyncTime:null,deletedScripts:[]}}async function ng(e){const t=await Uu();await Ct.driveSyncState.put({...t,...e})}async function u_(){return(await Uu()).accessToken}async function rg(e){const t=chrome.identity.getRedirectURL(),n=new URL("https://accounts.google.com/o/oauth2/v2/auth");n.searchParams.set("client_id",l_),n.searchParams.set("response_type","token"),n.searchParams.set("redirect_uri",t),n.searchParams.set("scope","https://www.googleapis.com/auth/drive.appdata"),e||n.searchParams.set("prompt","none");const r=await chrome.identity.launchWebAuthFlow({url:n.toString(),interactive:e});if(!r)throw new Error("Drive authorization was cancelled");const i=new URL(r).hash.substring(1),l=new URLSearchParams(i).get("access_token");if(!l)throw new Error("No access token in response");return await ng({accessToken:l}),l}async function ig(e,t={}){let n=await u_();n||(n=await rg(!0));const r=s=>fetch(e,{...t,headers:{...t.headers,Authorization:`Bearer ${s}`}});let i=await r(n);if(i.status===401){try{n=await rg(!1)}catch{n=await rg(!0)}i=await r(n)}return i}async function c_(){var n;const e=await ig(`${iI}/files?spaces=appDataFolder&q=name='${rI}'&fields=files(id)`);if(!e.ok)throw new Error(`Drive list failed: ${e.status}`);return((n=(await e.json()).files[0])==null?void 0:n.id)??null}async function f_(){const e={name:rI,parents:["appDataFolder"]},t=JSON.stringify([]),n="---quillmonkey-boundary",r=`--${n}\r
Content-Type: application/json; charset=UTF-8\r
\r
${JSON.stringify(e)}\r
--${n}\r
Content-Type: application/json\r
\r
${t}\r
--${n}--`,i=await ig(`${oI}/files?uploadType=multipart`,{method:"POST",headers:{"Content-Type":`multipart/related; boundary=${n}`},body:r});if(!i.ok)throw new Error(`Drive create failed: ${i.status}`);return(await i.json()).id}async function d_(){const e=await c_();return e||f_()}async function h_(e){const t=await ig(`${iI}/files/${e}?alt=media`);if(!t.ok)throw new Error(`Drive download failed: ${t.status}`);return await t.json()??[]}async function p_(e,t){const n=await ig(`${oI}/files/${e}?uploadType=media`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`Drive upload failed: ${n.status}`)}function g_(e){const t={...e};return delete t.createdFromTabId,delete t.lastOutputPerTabId,t}function m_(e,t,n){const r=new Map(n.map(u=>[u.id,u.deletedAt])),i=new Map(e.map(u=>[u.id,u])),s=new Map,l={added:0,updated:0,deleted:0};for(const u of t){const c=r.get(u.id);if(c&&c>u.updatedAt){l.deleted++;continue}const h=i.get(u.id);h?u.updatedAt>h.updatedAt?(s.set(u.id,{...u,createdFromTabId:h.createdFromTabId,lastOutputPerTabId:h.lastOutputPerTabId}),l.updated++):(s.set(u.id,h),h.updatedAt>u.updatedAt&&l.updated++):(s.set(u.id,u),l.added++)}for(const u of e)s.has(u.id)||(s.set(u.id,u),l.added++);return{merged:Array.from(s.values()),result:l}}async function y_(){await rg(!0);const e=await d_();await ng({fileId:e,enabled:!0})}async function v_(){await Ct.driveSyncState.delete(PA)}async function A_(){return(await Uu()).enabled}async function x_(){return(await Uu()).lastSyncTime}async function sI(e){const t=new Date().toISOString(),n=await Uu(),r=e.map(i=>({id:i,deletedAt:t}));await ng({deletedScripts:[...n.deletedScripts,...r]})}async function b_(){const e=await Uu();if(!e.fileId)throw new Error("Drive sync not set up");const[t,n]=await Promise.all([Jo(),h_(e.fileId)]),{merged:r,result:i}=m_(t,n,e.deletedScripts);return await p_(e.fileId,r.map(g_)),await $r(r),await ng({lastSyncTime:new Date().toISOString(),deletedScripts:[]}),i}const aI={isSetUp:!1,status:"idle",lastSyncTime:null,syncError:null,syncResult:null};function w_({onSyncComplete:e}){const{c:t}=Tt(),{fs:n,fw:r}=_t(),[i,s]=H.useState(aI);H.useEffect(()=>{(async()=>{const[x,w]=await Promise.all([A_(),x_()]);s(E=>({...E,isSetUp:x,lastSyncTime:w}))})()},[]);const l=H.useCallback(async()=>{s(v=>({...v,status:"setting-up",syncError:null}));try{await y_(),s(v=>({...v,isSetUp:!0,status:"idle"}))}catch(v){s(x=>({...x,status:"idle",syncError:v.message}))}},[]),u=H.useCallback(async()=>{s(v=>({...v,status:"syncing",syncError:null,syncResult:null}));try{const v=await b_();s(x=>({...x,status:"idle",syncResult:v,lastSyncTime:new Date().toISOString()})),e()}catch(v){s(x=>({...x,status:"idle",syncError:v.message}))}},[e]),c=H.useCallback(async()=>{await v_(),s(aI)},[]),h=i.status==="syncing",g=i.status==="setting-up",m=v=>({fontSize:n("sm"),fontWeight:r("medium"),color:t("text","primary"),backgroundColor:t("bg","tertiary"),border:`1px solid ${t("border","subtle")}`,borderRadius:"6px",padding:"8px 16px",cursor:v?"default":"pointer",opacity:v?.6:1});return i.isSetUp?T.jsxs("div",{style:{marginTop:"12px"},children:[T.jsx("button",{onClick:u,disabled:h,style:m(h),children:h?T.jsxs(T.Fragment,{children:["Syncing ",T.jsx(Pf,{size:"inline",speed:"medium"})]}):"Sync scripts"}),i.syncResult&&T.jsxs("p",{style:{fontSize:n("sm"),color:t("text","secondary"),marginTop:"8px"},children:["Added ",i.syncResult.added,", updated ",i.syncResult.updated,", deleted ",i.syncResult.deleted]}),i.lastSyncTime&&T.jsxs("p",{style:{fontSize:n("sm"),color:t("text","tertiary"),marginTop:"4px"},children:["Last synced: ",wp(i.lastSyncTime)]}),T.jsx("span",{onClick:c,style:{display:"block",marginTop:"8px",color:t("text","secondary"),cursor:"pointer",fontSize:n("sm")},children:"Disconnect sync"}),i.syncError&&T.jsx("p",{style:{fontSize:n("sm"),color:t("error","text"),marginTop:"8px"},children:i.syncError})]}):T.jsxs("div",{style:{marginTop:"12px"},children:[T.jsx("button",{onClick:l,disabled:g,style:m(g),children:g?T.jsxs(T.Fragment,{children:["Setting up ",T.jsx(Pf,{size:"inline",speed:"medium"})]}):"Set up Google Drive sync"}),i.syncError&&T.jsx("p",{style:{fontSize:n("sm"),color:t("error","text"),marginTop:"8px"},children:i.syncError})]})}async function lI(e,t){const n=await chrome.tabs.create({url:e});if(!n.id)return null;const r=new URLSearchParams;if(r.set("tabId",n.id.toString()),t)for(const[i,s]of Object.entries(t))r.set(i,s);await chrome.sidePanel.setOptions({tabId:n.id,path:`dist/sidepanel.html?${r.toString()}`,enabled:!0});try{return await chrome.sidePanel.open({tabId:n.id}),n}catch(i){return console.log(i),await chrome.tabs.remove(n.id),null}}function wa({label:e,children:t}){const{c:n}=Tt(),{fs:r}=_t();return T.jsxs("div",{style:{display:"flex",gap:"12px",padding:"10px 0",borderBottom:`1px solid ${n("border","subtle")}`},children:[T.jsx("div",{style:{width:"80px",flexShrink:0,fontSize:r("sm"),color:n("text","secondary"),paddingTop:"2px"},children:e}),T.jsx("div",{style:{flex:1,minWidth:0},children:t})]})}function S_({activeTab:e,settings:t,quillmonkeyModels:n=[],quillmonkeyModelsLoading:r=!1,onScriptsReload:i}){const{c:s,mode:l,toggleMode:u}=Tt(),{fs:c}=_t(),{defaultModel:h,setDefaultModel:g,scriptRules:m,setScriptRules:v,enqueueMode:x,setEnqueueMode:w,autoApplyScripts:E,setAutoApplyScripts:R,toolUsePermissions:S,setToolUsePermissions:k}=t,M=()=>r?[{value:"",label:"Loading models..."}]:n;return T.jsx("div",{style:e!=="settings"?{flex:1,overflow:"hidden",display:"none",flexDirection:"column"}:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column"},id:"settingsPanel",children:T.jsxs("div",{style:{padding:"12px 16px",overflowY:"auto",flex:1,minHeight:"100%",backgroundColor:s("bg","primary")},children:[T.jsx(wa,{label:"Account",children:T.jsx(o_,{})}),T.jsxs(wa,{label:"Side panel",children:[T.jsxs("p",{style:{fontSize:c("sm"),color:s("text","secondary"),marginBottom:"4px"},children:["Shortcut: ",T.jsx("kbd",{style:{padding:"2px 6px",fontSize:c("xs"),fontFamily:"monospace",backgroundColor:s("bg","tertiary"),border:`1px solid ${s("border","subtle")}`,borderRadius:"3px",color:s("text","primary")},children:navigator.userAgent.includes("Mac")?"+Shift+Y":"Ctrl+Shift+Y"})]}),T.jsx("span",{onMouseDown:()=>{lI("chrome://extensions/shortcuts",{sidePanelPage:"shortcuts"})},style:{fontSize:c("sm"),color:s("primary","text"),cursor:"pointer"},children:"change"})]}),T.jsx(wa,{label:"Appearance",children:T.jsx(Sl,{checked:l==="dark",onChange:u,label:"Dark Mode",size:"sm"})}),T.jsxs(wa,{label:"Scripts",children:[T.jsx(Sl,{checked:E,onChange:R,label:"Apply on page load",size:"sm"}),T.jsx(w_,{onSyncComplete:i})]}),T.jsx(wa,{label:"Default model",children:T.jsx(qN,{value:h,onValueChange:g,options:M()})}),T.jsx(wa,{label:"Default permissions",children:T.jsx(qk,{toolUsePermissions:S,onToggle:(P,W)=>k(z=>({...z,[P]:W?"approved":"request"}))})}),T.jsx(wa,{label:"Chat",children:T.jsx(Sl,{checked:x,onChange:w,label:"Queue messages while AI is responding",size:"sm"})}),T.jsx(wa,{label:"Connection",children:T.jsx(XP,{model:h})}),T.jsx(e_,{scriptRules:m,setScriptRules:v})]})})}function C_(e){const[t,n]=H.useState(!1),r=H.useRef(!0),i=H.useRef(!1),s=H.useRef(!1),l=H.useRef(),u=()=>{const w=e.current;w&&(r.current=w.scrollHeight-w.scrollTop-w.clientHeight<100)},c=H.useCallback(()=>{if(e.current){const w=e.current.scrollHeight>e.current.clientHeight;n(w)}},[e]),h=()=>{s.current=!0,clearTimeout(l.current),l.current=setTimeout(()=>{s.current=!1},150)},g=()=>{i.current=!0},m=()=>{i.current=!1},v=()=>i.current||s.current,x=H.useCallback(()=>{e.current&&r.current&&!v()&&requestAnimationFrame(()=>{e.current&&(e.current.scrollTop=e.current.scrollHeight)})},[e]);return H.useEffect(()=>{if(!e.current)return;const w=e.current,E=()=>{x(),c()};c();const R=new ResizeObserver(E);R.observe(w);for(const k of w.children)R.observe(k);const S=new MutationObserver(k=>{for(const M of k)for(const P of M.addedNodes)P instanceof Element&&R.observe(P);E()});return S.observe(w,{childList:!0}),()=>{R.disconnect(),S.disconnect()}},[e,x,c]),{handleScroll:u,handleWheel:h,handleMouseDown:g,handleMouseUp:m,isNearBottomRef:r,scrollingEnabled:t}}function FA(e,t,n="Output"){const r=t!=null&&t.enabled?t.values.filter(s=>s.trim()):[];if(r.length===0)return{passed:!0};const i=r.findIndex(s=>{try{return new RegExp(s).test(e)}catch{return e.includes(s)}});return i!==-1?{passed:!1,error:`${n} contains forbidden text (string #${i+1})`}:{passed:!0}}function k_(e,t){return!(t!=null&&t.enabled)||t.value===null||e.length<=t.value?{passed:!0}:{passed:!1,error:"truncated",truncated:e.slice(0,t.value)}}function uI(e,t){const n=FA(e,t.forbiddenOutputText);return n.passed?k_(e,t.maxOutputLength):n}function cI(e,t){if(!t)return e+"... [truncated]";try{return JSON.parse(e)}catch{return e+"... [truncated]"}}function Ts(e,t){var c;if(!t)return e;const n=e.success?JSON.stringify(e.result):e.error||"",{name:r,toolCallId:i,executionMs:s}=e,l={name:r,toolCallId:i,executionMs:s},u=uI(n,t);if(!u.passed){if(u.truncated){if(e.success)return{...l,success:!0,result:cI(u.truncated,!0)};const h=cI(u.truncated,!1);return{...l,success:!1,error:h,result:{error:h}}}return{...l,success:!1,error:u.error,result:{error:u.error}}}if((c=e.logs)!=null&&c.length){const h=JSON.stringify(e.logs);if(!uI(h,t).passed)return{...e,logs:void 0}}return e}const BA="// ==UserScript==",I_="// ==/UserScript==",E_=/\/\/\s*==UserScript==\s*([\s\S]*?)\/\/\s*==\/UserScript==/,D_=/\/\/\s*@([\w-]+)\s+(.+)/g;function NA(e){const t=E_.exec(e);if(!t)return null;const n=t[1]??"",r={match:[]};let i;const s=new RegExp(D_.source,"g"),l={"exclude-match":"excludeMatch",iconurl:"iconURL"},u=["match","include","exclude","excludeMatch","grant","require"],c=["name","version","namespace","description","author","icon","iconURL","defaulticon"];for(;(i=s.exec(n))!==null;){const h=i[1],g=i[2];if(!h||!g)continue;const m=h.toLowerCase(),v=l[m]??m,x=g.trim();u.includes(v)?(r[v]=r[v]||[],r[v].push(x)):c.includes(v)&&(r[v]=x)}return r}function og(e){const t=[BA];e.name&&t.push(`// @name        ${e.name}`),e.namespace&&t.push(`// @namespace   ${e.namespace}`),e.version&&t.push(`// @version     ${e.version}`),e.description&&t.push(`// @description ${e.description}`),e.author&&t.push(`// @author      ${e.author}`),e.icon&&t.push(`// @icon        ${e.icon}`),e.iconURL&&t.push(`// @iconURL     ${e.iconURL}`),e.defaulticon&&t.push(`// @defaulticon ${e.defaulticon}`);for(const n of e.match)t.push(`// @match       ${n}`);if(e.include)for(const n of e.include)t.push(`// @include     ${n}`);if(e.exclude)for(const n of e.exclude)t.push(`// @exclude     ${n}`);if(e.excludeMatch)for(const n of e.excludeMatch)t.push(`// @exclude-match ${n}`);if(e.grant)for(const n of e.grant)t.push(`// @grant       ${n}`);return t.push(I_),t.join(`
`)}function M_(e,t){var i;const n=NA(e);if(n){const s=!n.name&&t.name,l=n.match.length===0&&((i=t.match)==null?void 0:i.length);if(!s&&!l)return e;const u=[];if(s&&u.push(`// @name        ${t.name}`),l&&t.match)for(const c of t.match)u.push(`// @match       ${c}`);return e.replace(BA,BA+`
`+u.join(`
`))}const r={name:t.name,match:t.match||[],version:t.version,description:t.description,namespace:t.namespace,author:t.author,icon:t.icon,exclude:t.exclude,excludeMatch:t.excludeMatch};return og(r)+`

`+e}function R_(e,t){if(e==="page"&&t)return[t];if(t)try{const n=new URL(t);return[`*://${n.hostname}/*`,`*://*.${n.hostname}/*`]}catch{return["*://*/*"]}return["*://*/*"]}function T_(e){let t=e.replace(/^\*:\/\//,"");return t=t.replace(/\/\*$/,""),t.startsWith("*.")&&(t=t.slice(2)),t||e}const O_="require:";function fI(e){return`${O_}${e}`}async function dI(e){const t=fI(e),r=(await chrome.storage.local.get(t))[t];return(r==null?void 0:r.content)||null}async function L_(e){const t=await dI(e);if(t)return t;try{const n=await fetch(e);if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);const r=await n.text();return await chrome.storage.local.set({[fI(e)]:{content:r,fetchedAt:Date.now()}}),r}catch(n){throw console.warn(`[QuillMonkey] Failed to fetch @require: ${e}`,n),n}}async function P_(e){const t=[];for(const n of e){let r=await dI(n);if(!r)try{r=await L_(n)}catch(i){console.warn(`[QuillMonkey] Failed to fetch @require: ${n}`,i);continue}t.push(r)}return t}const hI="https://quillmonkey.com",pI={contactHelp:`${hI}/contact-help`,upgrade:`${hI}/upgrade`},_A=`/* oxlint-disable no-undef, @typescript-eslint/no-unused-vars */
// This file is imported as a raw string and injected into browser page context.
// Browser globals (window, document, Element, etc.) are available at runtime.
var MAX_DEPTH = 5;
function serializeResult(value, depth) {
  if (depth === undefined) depth = 0;
  if (depth > MAX_DEPTH) return "[max depth]";
  if (value === null || value === undefined) return value;
  if (typeof value === "symbol") return String(value);
  if (typeof value === "bigint") return String(value);
  if (typeof value === "function") return "[function]";
  if (value instanceof Error) {
    return { _type: "Error", message: value.message, stack: value.stack };
  }
  if (value instanceof Date) return value.toISOString();
  if (value instanceof RegExp) return value.toString();
  if (value instanceof Promise) return "[Promise]";
  if (value instanceof WeakMap) return "[WeakMap]";
  if (value instanceof WeakSet) return "[WeakSet]";
  if (value instanceof Map) {
    return {
      _type: "Map",
      entries: Array.from(value.entries()).map(function (e) {
        return [
          serializeResult(e[0], depth + 1),
          serializeResult(e[1], depth + 1),
        ];
      }),
    };
  }
  if (value instanceof Set) {
    return {
      _type: "Set",
      values: Array.from(value).map(function (v) {
        return serializeResult(v, depth + 1);
      }),
    };
  }
  if (value instanceof ArrayBuffer) {
    return { _type: "ArrayBuffer", byteLength: value.byteLength };
  }
  if (ArrayBuffer.isView(value)) {
    return { _type: value.constructor.name, byteLength: value.byteLength };
  }
  if (value === window) return "[Window]";
  if (value === document) return "[Document]";
  if (value instanceof Element) {
    return {
      _type: "Element",
      tag: value.tagName.toLowerCase(),
      id: value.id || null,
      classes: Array.from(value.classList),
      text: (value.textContent || "").trim(),
    };
  }
  if (value instanceof Node) {
    return {
      _type: "Node",
      nodeType: value.nodeType,
      nodeName: value.nodeName,
      text: (value.textContent || "").trim(),
    };
  }
  if (value instanceof NodeList || value instanceof HTMLCollection) {
    return Array.from(value).map(function (v) {
      return serializeResult(v, depth + 1);
    });
  }
  if (Array.isArray(value)) {
    return value.map(function (v) {
      return serializeResult(v, depth + 1);
    });
  }
  if (typeof value === "object") {
    var obj = {};
    var keys = Object.keys(value);
    for (var i = 0; i < keys.length; i++) {
      try {
        obj[keys[i]] = serializeResult(value[keys[i]], depth + 1);
      } catch (e) {
        obj[keys[i]] = "[error reading property]";
      }
    }
    return obj;
  }
  return value;
}
`,jA=`var _logs = [];
  var _origLog = console.log;
  var _origWarn = console.warn;
  var _origError = console.error;
  function _capture(level) {
    return function() {
      var args = [];
      for (var i = 0; i < arguments.length; i++) args.push(serializeResult(arguments[i]));
      _logs.push({ level: level, args: args });
    };
  }
  console.log = _capture("log");
  console.warn = _capture("warn");
  console.error = _capture("error");`,sg=`console.log = _origLog;
    console.warn = _origWarn;
    console.error = _origError;`,gI=_A.split(`
`).length+jA.split(`
`).length;function mI(e){return{code:`(function() {
  ${_A}
  ${jA}
  try {
    ${e}
    ${sg}
    return { success: true, logs: _logs };
  } catch (e) {
    ${sg}
    return { success: false, error: e.stack || e.message || String(e), logs: _logs };
  }
})()`,linesBefore:2+gI+1}}function F_(e){return{code:`(function() {
  ${_A}
  ${jA}
  try {
    var result = (${e});
    ${sg}
    return { success: true, result: serializeResult(result), logs: _logs };
  } catch (e) {
    ${sg}
    return { success: false, error: e.stack || e.message, logs: _logs };
  }
})()`,linesBefore:2+gI+2}}const ag=`User Scripts must be enabled to run code. To enable: 1. Go to chrome://extensions, 2. Click 'Details' on QuillMonkey, 3. Enable 'Allow User Scripts' toggle. If it still doesn't work, visit ${pI.contactHelp}`;async function B_(e){var s;const t=NA(e);if(!((s=t==null?void 0:t.require)!=null&&s.length))return e;const r=(await chrome.storage.local.get("scriptRules")).scriptRules;if((r==null?void 0:r.allowRequire)===!1)return e;const i=await P_(t.require);return i.length===0?e:(console.log(`[QuillMonkey] Prepending ${i.length} @require dependencies`),i.join(`

`)+`

`+e)}async function N_(e,t){if(!chrome.userScripts||!chrome.userScripts)return{success:!1,permissionIssue:"USERSCRIPTS_REQUIRED",error:ag};const n=await B_(t),{code:r}=mI(n);try{const i=await chrome.userScripts.execute({target:{tabId:e},js:[{code:r}]}),s=i==null?void 0:i[0];return(s==null?void 0:s.result)!=null?s.result:{success:!1,error:`Script returned no result  the code may have failed to inject. Got: ${JSON.stringify(s)}`}}catch(i){const s=i,l=s.message||String(i);return l.includes("is not available")?{success:!1,permissionIssue:"USERSCRIPTS_REQUIRED",error:ag}:{success:!1,error:s.stack||l}}}async function yI(e,t){if(!chrome.userScripts||!chrome.userScripts)return{success:!1,permissionIssue:"USERSCRIPTS_REQUIRED",error:ag};const{code:n}=F_(t);try{const r=await chrome.userScripts.execute({target:{tabId:e},js:[{code:n}]}),i=r==null?void 0:r[0];return i!=null&&i.result?i.result:{success:!1,error:"Expression returned no result. Something may have failed, and the expression is evaluated as a single value  for multi-statement logic, make sure to wrap in an IIFE: (() => { ...; return result; })()"}}catch(r){const s=r.message||String(r);return s.includes("is not available")?{success:!1,permissionIssue:"USERSCRIPTS_REQUIRED",error:ag}:{success:!1,error:s}}}async function zA(e,t,n){const r=await N_(e,n);try{const s=(await Jo()).map(l=>{if(l.id!==t)return l;const u={...l.lastOutputPerTabId},c={timestamp:new Date().toISOString(),logs:r.logs};return r.success||(c.error={errorText:r.error||"Unknown error"}),u[e]=c,{...l,lastOutputPerTabId:u}});await $r(s)}catch(i){console.error("[QuillMonkey] Failed to save script output to storage:",i)}return r}async function HA(e,t){if(e!=="last")return e;if(t)return t;const n=await Jo();if(n.length===0)return{success:!1,result:{error:"No scripts exist yet. Use writeNew() to create one first."},error:"No scripts exist yet. Use writeNew() to create one first."};const i=[...n].sort((s,l)=>new Date(l.updatedAt).getTime()-new Date(s.updatedAt).getTime())[0];if(!i)throw new Error("Unexpected empty script list");return i.id}async function __(e,t,n,r){if(!(r!=null&&r.enabled)||!r.value||r.value<=0)return zA(e,t,n);const i=r.value*1e3,s=await Promise.race([zA(e,t,n),new Promise(l=>setTimeout(()=>l({timedOut:!0}),i))]);if("timedOut"in s){const l=`Script execution timed out after ${r.value} seconds`;return{success:!1,error:l,result:{error:l}}}return s}async function lg(e,t,n,r,i,s,l,u){const c=await __(e,n,r,i);return c.permissionIssue==="USERSCRIPTS_REQUIRED"&&s&&l&&l(s,{status:"pending",tool:t,args:u||{}}),c}async function j_(e,t,n){if(!(n!=null&&n.enabled)||!n.value||n.value<=0)return yI(e,t);const r=n.value*1e3,i=await Promise.race([yI(e,t),new Promise(s=>setTimeout(()=>s({timedOut:!0}),r))]);if("timedOut"in i){const s=`Script execution timed out after ${n.value} seconds`;return{success:!1,error:s,result:{error:s}}}return i}async function z_(e,t,n,r,i){const s=await j_(e,t,n);return s.permissionIssue==="USERSCRIPTS_REQUIRED"&&r&&i&&i(r,{status:"pending",tool:"analyzePage",args:{expression:t}}),s}async function vI(e,t,n){if(n&&n.length>0)return n;let r;try{r=(await chrome.tabs.get(e)).url}catch(i){console.error("Error getting tab URL:",i)}return R_(t||"domain",r)}async function AI(e,t,n){var i;const r=await z_(e.tabId,t,(i=e.scriptRules)==null?void 0:i.chatScriptsTimeout,n,e.onUserScriptsRequest);return Ts(r,e.scriptRules)}async function H_(e){const t=await fetch(xl().fetchPage,{method:"POST",headers:Lf(),body:JSON.stringify(e)});if(!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.message||`HTTP ${t.status}: ${t.statusText}`)}return t.json()}var UA;const U_=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),xI=(UA=String.fromCodePoint)!==null&&UA!==void 0?UA:e=>{let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function W_(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=U_.get(e))!==null&&t!==void 0?t:e}function bI(e){const t=typeof atob=="function"?atob(e):typeof Buffer.from=="function"?Buffer.from(e,"base64").toString("binary"):new Buffer(e,"base64").toString("binary"),n=t.length&-2,r=new Uint16Array(n/2);for(let i=0,s=0;i<n;i+=2){const l=t.charCodeAt(i),u=t.charCodeAt(i+1);r[s++]=l|u<<8}return r}const K_=bI("QR08ALkAAgH6AYsDNQR2BO0EPgXZBQEGLAbdBxMISQrvCmQLfQurDKQNLw4fD4YPpA+6D/IPAAAAAAAAAAAAAAAAKhBMEY8TmxUWF2EYLBkxGuAa3RsJHDscWR8YIC8jSCSIJcMl6ie3Ku8rEC0CLjoupS7kLgAIRU1hYmNmZ2xtbm9wcnN0dVQAWgBeAGUAaQBzAHcAfgCBAIQAhwCSAJoAoACsALMAbABpAGcAO4DGAMZAUAA7gCYAJkBjAHUAdABlADuAwQDBQHIiZXZlAAJhAAFpeW0AcgByAGMAO4DCAMJAEGRyAADgNdgE3XIAYQB2AGUAO4DAAMBA8CFoYZFj4SFjcgBhZAAAoFMqAAFncIsAjgBvAG4ABGFmAADgNdg43fAlbHlGdW5jdGlvbgCgYSBpAG4AZwA7gMUAxUAAAWNzpACoAHIAAOA12Jzc6SFnbgCgVCJpAGwAZABlADuAwwDDQG0AbAA7gMQAxEAABGFjZWZvcnN1xQDYANoA7QDxAPYA+QD8AAABY3LJAM8AayNzbGFzaAAAoBYidgHTANUAAKDnKmUAZAAAoAYjeQARZIABY3J0AOAA5QDrAGEidXNlAACgNSLuI291bGxpcwCgLCFhAJJjcgAA4DXYBd1wAGYAAOA12Dnd5SF2ZdhiYwDyAOoAbSJwZXEAAKBOIgAHSE9hY2RlZmhpbG9yc3UXARoBHwE6AVIBVQFiAWQBZgGCAakB6QHtAfIBYwB5ACdkUABZADuAqQCpQIABY3B5ACUBKAE1AfUhdGUGYWmg0iJ0KGFsRGlmZmVyZW50aWFsRAAAoEUhbCJleXMAAKAtIQACYWVpb0EBRAFKAU0B8iFvbgxhZABpAGwAO4DHAMdAcgBjAAhhbiJpbnQAAKAwIm8AdAAKYQABZG5ZAV0BaSJsbGEAuGB0I2VyRG90ALdg8gA5AWkAp2NyImNsZQAAAkRNUFRwAXQBeQF9AW8AdAAAoJkiaSJudXMAAKCWIuwhdXMAoJUiaSJtZXMAAKCXIm8AAAFjc4cBlAFrKndpc2VDb250b3VySW50ZWdyYWwAAKAyImUjQ3VybHkAAAFEUZwBpAFvJXVibGVRdW90ZQAAoB0gdSJvdGUAAKAZIAACbG5wdbABtgHNAdgBbwBuAGWgNyIAoHQqgAFnaXQAvAHBAcUB8iJ1ZW50AKBhIm4AdAAAoC8i7yV1ckludGVncmFsAKAuIgABZnLRAdMBAKACIe8iZHVjdACgECJuLnRlckNsb2Nrd2lzZUNvbnRvdXJJbnRlZ3JhbAAAoDMi7yFzcwCgLypjAHIAAOA12J7ccABDoNMiYQBwAACgTSKABURKU1phY2VmaW9zAAsCEgIVAhgCGwIsAjQCOQI9AnMCfwNvoEUh9CJyYWhkAKARKWMAeQACZGMAeQAFZGMAeQAPZIABZ3JzACECJQIoAuchZXIAoCEgcgAAoKEhaAB2AACg5CoAAWF5MAIzAvIhb24OYRRkbAB0oAciYQCUY3IAAOA12AfdAAFhZkECawIAAWNtRQJnAvIjaXRpY2FsAAJBREdUUAJUAl8CYwJjInV0ZQC0YG8AdAFZAloC2WJiJGxlQWN1dGUA3WJyImF2ZQBgYGkibGRlANxi7yFuZACgxCJmJWVyZW50aWFsRAAAoEYhcAR9AgAAAAAAAIECjgIAABoDZgAA4DXYO91EoagAhQKJAm8AdAAAoNwgcSJ1YWwAAKBQIuIhbGUAA0NETFJVVpkCqAK1Au8C/wIRA28AbgB0AG8AdQByAEkAbgB0AGUAZwByAGEA7ADEAW8AdAKvAgAAAACwAqhgbiNBcnJvdwAAoNMhAAFlb7kC0AJmAHQAgAFBUlQAwQLGAs0CciJyb3cAAKDQIekkZ2h0QXJyb3cAoNQhZQDlACsCbgBnAAABTFLWAugC5SFmdAABQVLcAuECciJyb3cAAKD4J+kkZ2h0QXJyb3cAoPon6SRnaHRBcnJvdwCg+SdpImdodAAAAUFU9gL7AnIicm93AACg0iFlAGUAAKCoInAAQQIGAwAAAAALA3Iicm93AACg0SFvJHduQXJyb3cAAKDVIWUlcnRpY2FsQmFyAACgJSJuAAADQUJMUlRhJAM2AzoDWgNxA3oDciJyb3cAAKGTIUJVLAMwA2EAcgAAoBMpcCNBcnJvdwAAoPUhciJldmUAEWPlIWZ00gJDAwAASwMAAFIDaSVnaHRWZWN0b3IAAKBQKWUkZVZlY3RvcgAAoF4p5SJjdG9yQqC9IWEAcgAAoFYpaSJnaHQA1AFiAwAAaQNlJGVWZWN0b3IAAKBfKeUiY3RvckKgwSFhAHIAAKBXKWUAZQBBoKQiciJyb3cAAKCnIXIAcgBvAPcAtAIAAWN0gwOHA3IAAOA12J/c8iFvaxBhAAhOVGFjZGZnbG1vcHFzdHV4owOlA6kDsAO/A8IDxgPNA9ID8gP9AwEEFAQeBCAEJQRHAEphSAA7gNAA0EBjAHUAdABlADuAyQDJQIABYWl5ALYDuQO+A/Ihb24aYXIAYwA7gMoAykAtZG8AdAAWYXIAAOA12AjdcgBhAHYAZQA7gMgAyEDlIm1lbnQAoAgiAAFhcNYD2QNjAHIAEmF0AHkAUwLhAwAAAADpA20lYWxsU3F1YXJlAACg+yVlJ3J5U21hbGxTcXVhcmUAAKCrJQABZ3D2A/kDbwBuABhhZgAA4DXYPN3zImlsb26VY3UAAAFhaQYEDgRsAFSgdSppImxkZQAAoEIi7CNpYnJpdW0AoMwhAAFjaRgEGwRyAACgMCFtAACgcyphAJdjbQBsADuAywDLQAABaXApBC0E8yF0cwCgAyLvJG5lbnRpYWxFAKBHIYACY2Zpb3MAPQQ/BEMEXQRyBHkAJGRyAADgNdgJ3WwibGVkAFMCTAQAAAAAVARtJWFsbFNxdWFyZQAAoPwlZSdyeVNtYWxsU3F1YXJlAACgqiVwA2UEAABpBAAAAABtBGYAAOA12D3dwSFsbACgACLyI2llcnRyZgCgMSFjAPIAcQQABkpUYWJjZGZnb3JzdIgEiwSOBJMElwSkBKcEqwStBLIE5QTqBGMAeQADZDuAPgA+QO0hbWFkoJMD3GNyImV2ZQAeYYABZWl5AJ0EoASjBOQhaWwiYXIAYwAcYRNkbwB0ACBhcgAA4DXYCt0AoNkicABmAADgNdg+3eUiYXRlcgADRUZHTFNUvwTIBM8E1QTZBOAEcSJ1YWwATKBlIuUhc3MAoNsidSRsbEVxdWFsAACgZyJyI2VhdGVyAACgoirlIXNzAKB3IuwkYW50RXF1YWwAoH4qaSJsZGUAAKBzImMAcgAA4DXYotwAoGsiAARBYWNmaW9zdfkE/QQFBQgFCwUTBSIFKwVSIkRjeQAqZAABY3QBBQQFZQBrAMdiXmDpIXJjJGFyAACgDCFsJWJlcnRTcGFjZQAAoAsh8AEYBQAAGwVmAACgDSHpJXpvbnRhbExpbmUAoAAlAAFjdCYFKAXyABIF8iFvayZhbQBwAEQBMQU5BW8AdwBuAEgAdQBtAPAAAAFxInVhbAAAoE8iAAdFSk9hY2RmZ21ub3N0dVMFVgVZBVwFYwVtBXAFcwV6BZAFtgXFBckFzQVjAHkAFWTsIWlnMmFjAHkAAWRjAHUAdABlADuAzQDNQAABaXlnBWwFcgBjADuAzgDOQBhkbwB0ADBhcgAAoBEhcgBhAHYAZQA7gMwAzEAAoREhYXB/BYsFAAFjZ4MFhQVyACphaSNuYXJ5SQAAoEghbABpAGUA8wD6AvQBlQUAAKUFZaAsIgABZ3KaBZ4F8iFhbACgKyLzI2VjdGlvbgCgwiJpI3NpYmxlAAABQ1SsBbEFbyJtbWEAAKBjIGkibWVzAACgYiCAAWdwdAC8Bb8FwwVvAG4ALmFmAADgNdhA3WEAmWNjAHIAAKAQIWkibGRlAChh6wHSBQAA1QVjAHkABmRsADuAzwDPQIACY2Zvc3UA4QXpBe0F8gX9BQABaXnlBegFcgBjADRhGWRyAADgNdgN3XAAZgAA4DXYQd3jAfcFAAD7BXIAAOA12KXc8iFjeQhk6yFjeQRkgANISmFjZm9zAAwGDwYSBhUGHQYhBiYGYwB5ACVkYwB5AAxk8CFwYZpjAAFleRkGHAbkIWlsNmEaZHIAAOA12A7dcABmAADgNdhC3WMAcgAA4DXYptyABUpUYWNlZmxtb3N0AD0GQAZDBl4GawZkB2gHcAd0B80H2gdjAHkACWQ7gDwAPECAAmNtbnByAEwGTwZSBlUGWwb1IXRlOWHiIWRhm2NnAACg6ifsI2FjZXRyZgCgEiFyAACgniGAAWFleQBkBmcGagbyIW9uPWHkIWlsO2EbZAABZnNvBjQHdAAABUFDREZSVFVWYXKABp4GpAbGBssG3AYDByEHwQIqBwABbnKEBowGZyVsZUJyYWNrZXQAAKDoJ/Ihb3cAoZAhQlKTBpcGYQByAACg5CHpJGdodEFycm93AKDGIWUjaWxpbmcAAKAII28A9QGqBgAAsgZiJWxlQnJhY2tldAAAoOYnbgDUAbcGAAC+BmUkZVZlY3RvcgAAoGEp5SJjdG9yQqDDIWEAcgAAoFkpbCJvb3IAAKAKI2kiZ2h0AAABQVbSBtcGciJyb3cAAKCUIeUiY3RvcgCgTikAAWVy4AbwBmUAAKGjIkFW5gbrBnIicm93AACgpCHlImN0b3IAoFopaSNhbmdsZQBCorIi+wYAAAAA/wZhAHIAAKDPKXEidWFsAACgtCJwAIABRFRWAAoHEQcYB+8kd25WZWN0b3IAoFEpZSRlVmVjdG9yAACgYCnlImN0b3JCoL8hYQByAACgWCnlImN0b3JCoLwhYQByAACgUilpAGcAaAB0AGEAcgByAG8A9wDMAnMAAANFRkdMU1Q/B0cHTgdUB1gHXwfxJXVhbEdyZWF0ZXIAoNoidSRsbEVxdWFsAACgZiJyI2VhdGVyAACgdiLlIXNzAKChKuwkYW50RXF1YWwAoH0qaSJsZGUAAKByInIAAOA12A/dZaDYIuYjdGFycm93AKDaIWkiZG90AD9hgAFucHcAege1B7kHZwAAAkxSbHKCB5QHmwerB+UhZnQAAUFSiAeNB3Iicm93AACg9SfpJGdodEFycm93AKD3J+kkZ2h0QXJyb3cAoPYn5SFmdAABYXLcAqEHaQBnAGgAdABhAHIAcgBvAPcA5wJpAGcAaAB0AGEAcgByAG8A9wDuAmYAAOA12EPdZQByAAABTFK/B8YHZSRmdEFycm93AACgmSHpJGdodEFycm93AKCYIYABY2h0ANMH1QfXB/IAWgYAoLAh8iFva0FhAKBqIgAEYWNlZmlvc3XpB+wH7gf/BwMICQgOCBEIcAAAoAUpeQAcZAABZGzyB/kHaSR1bVNwYWNlAACgXyBsI2ludHJmAACgMyFyAADgNdgQ3e4jdXNQbHVzAKATInAAZgAA4DXYRN1jAPIA/gecY4AESmFjZWZvc3R1ACEIJAgoCDUIgQiFCDsKQApHCmMAeQAKZGMidXRlAENhgAFhZXkALggxCDQI8iFvbkdh5CFpbEVhHWSAAWdzdwA7CGEIfQjhInRpdmWAAU1UVgBECEwIWQhlJWRpdW1TcGFjZQAAoAsgaABpAAABY25SCFMIawBTAHAAYQBjAOUASwhlAHIAeQBUAGgAaQDuAFQI9CFlZAABR0xnCHUIcgBlAGEAdABlAHIARwByAGUAYQB0AGUA8gDrBGUAcwBzAEwAZQBzAPMA2wdMImluZQAKYHIAAOA12BHdAAJCbnB0jAiRCJkInAhyImVhawAAoGAgwiZyZWFraW5nU3BhY2WgYGYAAKAVIUOq7CqzCMIIzQgAAOcIGwkAAAAAAAAtCQAAbwkAAIcJAACdCcAJGQoAADQKAAFvdbYIvAjuI2dydWVudACgYiJwIkNhcAAAoG0ibyh1YmxlVmVydGljYWxCYXIAAKAmIoABbHF4ANII1wjhCOUibWVudACgCSL1IWFsVKBgImkibGRlAADgQiI4A2kic3RzAACgBCJyI2VhdGVyAACjbyJFRkdMU1T1CPoIAgkJCQ0JFQlxInVhbAAAoHEidSRsbEVxdWFsAADgZyI4A3IjZWF0ZXIAAOBrIjgD5SFzcwCgeSLsJGFudEVxdWFsAOB+KjgDaSJsZGUAAKB1IvUhbXBEASAJJwnvI3duSHVtcADgTiI4A3EidWFsAADgTyI4A2UAAAFmczEJRgn0JFRyaWFuZ2xlQqLqIj0JAAAAAEIJYQByAADgzyk4A3EidWFsAACg7CJzAICibiJFR0xTVABRCVYJXAlhCWkJcSJ1YWwAAKBwInIjZWF0ZXIAAKB4IuUhc3MA4GoiOAPsJGFudEVxdWFsAOB9KjgDaSJsZGUAAKB0IuUic3RlZAABR0x1CX8J8iZlYXRlckdyZWF0ZXIA4KIqOAPlI3NzTGVzcwDgoSo4A/IjZWNlZGVzAKGAIkVTjwmVCXEidWFsAADgryo4A+wkYW50RXF1YWwAoOAiAAFlaaAJqQl2JmVyc2VFbGVtZW50AACgDCLnJWh0VHJpYW5nbGVCousitgkAAAAAuwlhAHIAAODQKTgDcSJ1YWwAAKDtIgABcXXDCeAJdSNhcmVTdQAAAWJwywnVCfMhZXRF4I8iOANxInVhbAAAoOIi5SJyc2V0ReCQIjgDcSJ1YWwAAKDjIoABYmNwAOYJ8AkNCvMhZXRF4IIi0iBxInVhbAAAoIgi4yJlZWRzgKGBIkVTVAD6CQAKBwpxInVhbAAA4LAqOAPsJGFudEVxdWFsAKDhImkibGRlAADgfyI4A+UicnNldEXggyLSIHEidWFsAACgiSJpImxkZQCAoUEiRUZUACIKJwouCnEidWFsAACgRCJ1JGxsRXF1YWwAAKBHImkibGRlAACgSSJlJXJ0aWNhbEJhcgAAoCQiYwByAADgNdip3GkAbABkAGUAO4DRANFAnWMAB0VhY2RmZ21vcHJzdHV2XgphCmgKcgp2CnoKgQqRCpYKqwqtCrsKyArNCuwhaWdSYWMAdQB0AGUAO4DTANNAAAFpeWwKcQpyAGMAO4DUANRAHmRiImxhYwBQYXIAAOA12BLdcgBhAHYAZQA7gNIA0kCAAWFlaQCHCooKjQpjAHIATGFnAGEAqWNjInJvbgCfY3AAZgAA4DXYRt3lI25DdXJseQABRFGeCqYKbyV1YmxlUXVvdGUAAKAcIHUib3RlAACgGCAAoFQqAAFjbLEKtQpyAADgNdiq3GEAcwBoADuA2ADYQGkAbAHACsUKZABlADuA1QDVQGUAcwAAoDcqbQBsADuA1gDWQGUAcgAAAUJQ0wrmCgABYXLXCtoKcgAAoD4gYQBjAAABZWvgCuIKAKDeI2UAdAAAoLQjYSVyZW50aGVzaXMAAKDcI4AEYWNmaGlsb3JzAP0KAwsFCwkLCwsMCxELIwtaC3IjdGlhbEQAAKACInkAH2RyAADgNdgT3WkApmOgY/Ujc01pbnVzsWAAAWlwFQsgC24AYwBhAHIAZQBwAGwAYQBuAOUACgVmAACgGSGAobsqZWlvACoLRQtJC+MiZWRlc4CheiJFU1QANAs5C0ALcSJ1YWwAAKCvKuwkYW50RXF1YWwAoHwiaSJsZGUAAKB+Im0AZQAAoDMgAAFkcE0LUQv1IWN0AKAPIm8jcnRpb24AYaA3ImwAAKAdIgABY2leC2ILcgAA4DXYq9yoYwACVWZvc2oLbwtzC3cLTwBUADuAIgAiQHIAAOA12BTdcABmAACgGiFjAHIAAOA12KzcAAZCRWFjZWZoaW9yc3WPC5MLlwupC7YL2AvbC90LhQyTDJoMowzhIXJyAKAQKUcAO4CuAK5AgAFjbnIAnQugC6ML9SF0ZVRhZwAAoOsncgB0oKAhbAAAoBYpgAFhZXkArwuyC7UL8iFvblhh5CFpbFZhIGR2oBwhZSJyc2UAAAFFVb8LzwsAAWxxwwvIC+UibWVudACgCyL1JGlsaWJyaXVtAKDLIXAmRXF1aWxpYnJpdW0AAKBvKXIAAKAcIW8AoWPnIWh0AARBQ0RGVFVWYewLCgwQDDIMNwxeDHwM9gIAAW5y8Av4C2clbGVCcmFja2V0AACg6SfyIW93AKGSIUJM/wsDDGEAcgAAoOUhZSRmdEFycm93AACgxCFlI2lsaW5nAACgCSNvAPUBFgwAAB4MYiVsZUJyYWNrZXQAAKDnJ24A1AEjDAAAKgxlJGVWZWN0b3IAAKBdKeUiY3RvckKgwiFhAHIAAKBVKWwib29yAACgCyMAAWVyOwxLDGUAAKGiIkFWQQxGDHIicm93AACgpiHlImN0b3IAoFspaSNhbmdsZQBCorMiVgwAAAAAWgxhAHIAAKDQKXEidWFsAACgtSJwAIABRFRWAGUMbAxzDO8kd25WZWN0b3IAoE8pZSRlVmVjdG9yAACgXCnlImN0b3JCoL4hYQByAACgVCnlImN0b3JCoMAhYQByAACgUykAAXB1iQyMDGYAAKAdIe4kZEltcGxpZXMAoHAp6SRnaHRhcnJvdwCg2yEAAWNongyhDHIAAKAbIQCgsSHsJGVEZWxheWVkAKD0KYAGSE9hY2ZoaW1vcXN0dQC/DMgMzAzQDOIM5gwKDQ0NFA0ZDU8NVA1YDQABQ2PDDMYMyCFjeSlkeQAoZEYiVGN5ACxkYyJ1dGUAWmEAorwqYWVpedgM2wzeDOEM8iFvbmBh5CFpbF5hcgBjAFxhIWRyAADgNdgW3e8hcnQAAkRMUlXvDPYM/QwEDW8kd25BcnJvdwAAoJMhZSRmdEFycm93AACgkCHpJGdodEFycm93AKCSIXAjQXJyb3cAAKCRIechbWGjY+EkbGxDaXJjbGUAoBgicABmAADgNdhK3XICHw0AAAAAIg10AACgGiLhIXJlgKGhJUlTVQAqDTINSg3uJXRlcnNlY3Rpb24AoJMidQAAAWJwNw1ADfMhZXRFoI8icSJ1YWwAAKCRIuUicnNldEWgkCJxInVhbAAAoJIibiJpb24AAKCUImMAcgAA4DXYrtxhAHIAAKDGIgACYmNtcF8Nag2ODZANc6DQImUAdABFoNAicSJ1YWwAAKCGIgABY2huDYkNZSJlZHMAgKF7IkVTVAB4DX0NhA1xInVhbAAAoLAq7CRhbnRFcXVhbACgfSJpImxkZQAAoH8iVABoAGEA9ADHCwCgESIAodEiZXOVDZ8NciJzZXQARaCDInEidWFsAACghyJlAHQAAKDRIoAFSFJTYWNmaGlvcnMAtQ27Db8NyA3ODdsN3w3+DRgOHQ4jDk8AUgBOADuA3gDeQMEhREUAoCIhAAFIY8MNxg1jAHkAC2R5ACZkAAFidcwNzQ0JYKRjgAFhZXkA1A3XDdoN8iFvbmRh5CFpbGJhImRyAADgNdgX3QABZWnjDe4N8gHoDQAA7Q3lImZvcmUAoDQiYQCYYwABY27yDfkNayNTcGFjZQAA4F8gCiDTInBhY2UAoAkg7CFkZYChPCJFRlQABw4MDhMOcSJ1YWwAAKBDInUkbGxFcXVhbAAAoEUiaSJsZGUAAKBIInAAZgAA4DXYS93pI3BsZURvdACg2yAAAWN0Jw4rDnIAAOA12K/c8iFva2Zh4QpFDlYOYA5qDgAAbg5yDgAAAAAAAAAAAAB5DnwOqA6zDgAADg8RDxYPGg8AAWNySA5ODnUAdABlADuA2gDaQHIAb6CfIeMhaXIAoEkpcgDjAVsOAABdDnkADmR2AGUAbGEAAWl5Yw5oDnIAYwA7gNsA20AjZGIibGFjAHBhcgAA4DXYGN1yAGEAdgBlADuA2QDZQOEhY3JqYQABZGl/Dp8OZQByAAABQlCFDpcOAAFhcokOiw5yAF9gYQBjAAABZWuRDpMOAKDfI2UAdAAAoLUjYSVyZW50aGVzaXMAAKDdI28AbgBQoMMi7CF1cwCgjiIAAWdwqw6uDm8AbgByYWYAAOA12EzdAARBREVUYWRwc78O0g7ZDuEOBQPqDvMOBw9yInJvdwDCoZEhyA4AAMwOYQByAACgEilvJHduQXJyb3cAAKDFIW8kd25BcnJvdwAAoJUhcSV1aWxpYnJpdW0AAKBuKWUAZQBBoKUiciJyb3cAAKClIW8AdwBuAGEAcgByAG8A9wAQA2UAcgAAAUxS+Q4AD2UkZnRBcnJvdwAAoJYh6SRnaHRBcnJvdwCglyFpAGyg0gNvAG4ApWPpIW5nbmFjAHIAAOA12LDcaSJsZGUAaGFtAGwAO4DcANxAgAREYmNkZWZvc3YALQ8xDzUPNw89D3IPdg97D4AP4SFzaACgqyJhAHIAAKDrKnkAEmThIXNobKCpIgCg5ioAAWVyQQ9DDwCgwSKAAWJ0eQBJD00Paw9hAHIAAKAWIGmgFiDjIWFsAAJCTFNUWA9cD18PZg9hAHIAAKAjIukhbmV8YGUkcGFyYXRvcgAAoFgnaSJsZGUAAKBAItQkaGluU3BhY2UAoAogcgAA4DXYGd1wAGYAAOA12E3dYwByAADgNdix3GQiYXNoAACgqiKAAmNlZm9zAI4PkQ+VD5kPng/pIXJjdGHkIWdlAKDAInIAAOA12BrdcABmAADgNdhO3WMAcgAA4DXYstwAAmZpb3OqD64Prw+0D3IAAOA12BvdnmNwAGYAAOA12E/dYwByAADgNdiz3IAEQUlVYWNmb3N1AMgPyw/OD9EP2A/gD+QP6Q/uD2MAeQAvZGMAeQAHZGMAeQAuZGMAdQB0AGUAO4DdAN1AAAFpedwP3w9yAGMAdmErZHIAAOA12BzdcABmAADgNdhQ3WMAcgAA4DXYtNxtAGwAeGEABEhhY2RlZm9z/g8BEAUQDRAQEB0QIBAkEGMAeQAWZGMidXRlAHlhAAFheQkQDBDyIW9ufWEXZG8AdAB7YfIBFRAAABwQbwBXAGkAZAB0AOgAVAhhAJZjcgAAoCghcABmAACgJCFjAHIAAOA12LXc4QtCEEkQTRAAAGcQbRByEAAAAAAAAAAAeRCKEJcQ8hD9EAAAGxEhETIROREAAD4RYwB1AHQAZQA7gOEA4UByImV2ZQADYYCiPiJFZGl1eQBWEFkQWxBgEGUQAOA+IjMDAKA/InIAYwA7gOIA4kB0AGUAO4C0ALRAMGRsAGkAZwA7gOYA5kByoGEgAOA12B7dcgBhAHYAZQA7gOAA4EAAAWVwfBCGEAABZnCAEIQQ8yF5bQCgNSHoAIMQaABhALFjAAFhcI0QWwAAAWNskRCTEHIAAWFnAACgPypkApwQAAAAALEQAKInImFkc3ajEKcQqRCuEG4AZAAAoFUqAKBcKmwib3BlAACgWCoAoFoqAKMgImVsbXJzersQvRDAEN0Q5RDtEACgpCllAACgICJzAGQAYaAhImEEzhDQENIQ1BDWENgQ2hDcEACgqCkAoKkpAKCqKQCgqykAoKwpAKCtKQCgrikAoK8pdAB2oB8iYgBkoL4iAKCdKQABcHTpEOwQaAAAoCIixWDhIXJyAKB8IwABZ3D1EPgQbwBuAAVhZgAA4DXYUt0Ao0giRWFlaW9wBxEJEQ0RDxESERQRAKBwKuMhaXIAoG8qAKBKImQAAKBLInMAJ2DyIW94ZaBIIvEADhFpAG4AZwA7gOUA5UCAAWN0eQAmESoRKxFyAADgNdi23CpgbQBwAGWgSCLxAPgBaQBsAGQAZQA7gOMA40BtAGwAO4DkAORAAAFjaUERRxFvAG4AaQBuAPQA6AFuAHQAAKARKgAITmFiY2RlZmlrbG5vcHJzdWQRaBGXEZ8RpxGrEdIR1hErEjASexKKEn0RThNbE3oTbwB0AACg7SoAAWNybBGJEWsAAAJjZXBzdBF4EX0RghHvIW5nAKBMInAjc2lsb24A9mNyImltZQAAoDUgaQBtAGWgPSJxAACgzSJ2AY0RkRFlAGUAAKC9ImUAZABnoAUjZQAAoAUjcgBrAHSgtSPiIXJrAKC2IwABb3mjEaYRbgDnAHcRMWTxIXVvAKAeIIACY21wcnQAtBG5Eb4RwRHFEeEhdXPloDUi5ABwInR5dgAAoLApcwDpAH0RbgBvAPUA6gCAAWFodwDLEcwRzhGyYwCgNiHlIWVuAKBsInIAAOA12B/dZwCAA2Nvc3R1dncA4xHyEQUSEhIhEiYSKRKAAWFpdQDpEesR7xHwAKMFcgBjAACg7yVwAACgwyKAAWRwdAD4EfwRABJvAHQAAKAAKuwhdXMAoAEqaSJtZXMAAKACKnECCxIAAAAADxLjIXVwAKAGKmEAcgAAoAUm8iNpYW5nbGUAAWR1GhIeEu8hd24AoL0lcAAAoLMlcCJsdXMAAKAEKmUA5QBCD+UAkg9hInJvdwAAoA0pgAFha28ANhJoEncSAAFjbjoSZRJrAIABbHN0AEESRxJNEm8jemVuZ2UAAKDrKXEAdQBhAHIA5QBcBPIjaWFuZ2xlgKG0JWRscgBYElwSYBLvIXduAKC+JeUhZnQAoMIlaSJnaHQAAKC4JWsAAKAjJLEBbRIAAHUSsgFxEgAAcxIAoJIlAKCRJTQAAKCTJWMAawAAoIglAAFlb38ShxJx4D0A5SD1IWl2AOBhIuUgdAAAoBAjAAJwdHd4kRKVEpsSnxJmAADgNdhT3XSgpSJvAG0AAKClIvQhaWUAoMgiAAZESFVWYmRobXB0dXayEsES0RLgEvcS+xIKExoTHxMjEygTNxMAAkxSbHK5ErsSvRK/EgCgVyUAoFQlAKBWJQCgUyUAolAlRFVkdckSyxLNEs8SAKBmJQCgaSUAoGQlAKBnJQACTFJsctgS2hLcEt4SAKBdJQCgWiUAoFwlAKBZJQCjUSVITFJobHLrEu0S7xLxEvMS9RIAoGwlAKBjJQCgYCUAoGslAKBiJQCgXyVvAHgAAKDJKQACTFJscgITBBMGEwgTAKBVJQCgUiUAoBAlAKAMJQCiACVEVWR1EhMUExYTGBMAoGUlAKBoJQCgLCUAoDQlaSJudXMAAKCfIuwhdXMAoJ4iaSJtZXMAAKCgIgACTFJsci8TMRMzEzUTAKBbJQCgWCUAoBglAKAUJQCjAiVITFJobHJCE0QTRhNIE0oTTBMAoGolAKBhJQCgXiUAoDwlAKAkJQCgHCUAAWV2UhNVE3YA5QD5AGIAYQByADuApgCmQAACY2Vpb2ITZhNqE24TcgAA4DXYt9xtAGkAAKBPIG0A5aA9IogRbAAAoVwAYmh0E3YTAKDFKfMhdWIAoMgnbAF+E4QTbABloCIgdAAAoCIgcAAAoU4iRWWJE4sTAKCuKvGgTyI8BeEMqRMAAN8TABQDFB8UAAAjFDQUAAAAAIUUAAAAAI0UAAAAANcU4xT3FPsUAACIFQAAlhWAAWNwcgCuE7ET1RP1IXRlB2GAoikiYWJjZHMAuxO/E8QTzhPSE24AZAAAoEQqciJjdXAAAKBJKgABYXXIE8sTcAAAoEsqcAAAoEcqbwB0AACgQCoA4CkiAP4AAWVv2RPcE3QAAKBBIO4ABAUAAmFlaXXlE+8T9RP4E/AB6hMAAO0TcwAAoE0qbwBuAA1hZABpAGwAO4DnAOdAcgBjAAlhcABzAHOgTCptAACgUCpvAHQAC2GAAWRtbgAIFA0UEhRpAGwAO4C4ALhAcCJ0eXYAAKCyKXQAAIGiADtlGBQZFKJAcgBkAG8A9ABiAXIAAOA12CDdgAFjZWkAKBQqFDIUeQBHZGMAawBtoBMn4SFyawCgEyfHY3IAAKPLJUVjZWZtcz8UQRRHFHcUfBSAFACgwykAocYCZWxGFEkUcQAAoFciZQBhAlAUAAAAAGAUciJyb3cAAAFsclYUWhTlIWZ0AKC6IWkiZ2h0AACguyGAAlJTYWNkAGgUaRRrFG8UcxSuYACgyCRzAHQAAKCbIukhcmMAoJoi4SFzaACgnSJuImludAAAoBAqaQBkAACg7yrjIWlyAKDCKfUhYnN1oGMmaQB0AACgYybsApMUmhS2FAAAwxRvAG4AZaA6APGgVCKrAG0CnxQAAAAAoxRhAHSgLABAYAChASJmbKcUqRTuABMNZQAAAW14rhSyFOUhbnQAoAEiZQDzANIB5wG6FAAAwBRkoEUibwB0AACgbSpuAPQAzAGAAWZyeQDIFMsUzhQA4DXYVN1vAOQA1wEAgakAO3MeAdMUcgAAoBchAAFhb9oU3hRyAHIAAKC1IXMAcwAAoBcnAAFjdeYU6hRyAADgNdi43AABYnDuFPIUZaDPKgCg0SploNAqAKDSKuQhb3QAoO8igANkZWxwcnZ3AAYVEBUbFSEVRBVlFYQV4SFycgABbHIMFQ4VAKA4KQCgNSlwAhYVAAAAABkVcgAAoN4iYwAAoN8i4SFycnCgtiEAoD0pgKIqImJjZG9zACsVMBU6FT4VQRVyImNhcAAAoEgqAAFhdTQVNxVwAACgRipwAACgSipvAHQAAKCNInIAAKBFKgDgKiIA/gACYWxydksVURVuFXMVcgByAG2gtyEAoDwpeQCAAWV2dwBYFWUVaRVxAHACXxUAAAAAYxVyAGUA4wAXFXUA4wAZFWUAZQAAoM4iZSJkZ2UAAKDPImUAbgA7gKQApEBlI2Fycm93AAABbHJ7FX8V5SFmdACgtiFpImdodAAAoLchZQDkAG0VAAFjaYsVkRVvAG4AaQBuAPQAkwFuAHQAAKAxImwiY3R5AACgLSOACUFIYWJjZGVmaGlqbG9yc3R1d3oAuBW7Fb8V1RXgFegV+RUKFhUWHxZUFlcWZRbFFtsW7xb7FgUXChdyAPIAtAJhAHIAAKBlKQACZ2xyc8YVyhXOFdAV5yFlcgCgICDlIXRoAKA4IfIA9QxoAHagECAAoKMiawHZFd4VYSJyb3cAAKAPKWEA4wBfAgABYXnkFecV8iFvbg9hNGQAoUYhYW/tFfQVAAFnciEC8RVyAACgyiF0InNlcQAAoHcqgAFnbG0A/xUCFgUWO4CwALBAdABhALRjcCJ0eXYAAKCxKQABaXIOFhIW8yFodACgfykA4DXYId1hAHIAAAFschsWHRYAoMMhAKDCIYACYWVnc3YAKBauAjYWOhY+Fm0AAKHEIm9zLhY0Fm4AZABzoMQi9SFpdACgZiZhIm1tYQDdY2kAbgAAoPIiAKH3AGlvQxZRFmQAZQAAgfcAO29KFksW90BuI3RpbWVzAACgxyJuAPgAUBZjAHkAUmRjAG8CXhYAAAAAYhZyAG4AAKAeI28AcAAAoA0jgAJscHR1dwBuFnEWdRaSFp4W7CFhciRgZgAA4DXYVd0AotkCZW1wc30WhBaJFo0WcQBkoFAibwB0AACgUSJpIm51cwAAoDgi7CF1cwCgFCLxInVhcmUAoKEiYgBsAGUAYgBhAHIAdwBlAGQAZwDlANcAbgCAAWFkaAClFqoWtBZyAHIAbwD3APUMbwB3AG4AYQByAHIAbwB3APMA8xVhI3Jwb29uAAABbHK8FsAWZQBmAPQAHBZpAGcAaAD0AB4WYgHJFs8WawBhAHIAbwD3AJILbwLUFgAAAADYFnIAbgAAoB8jbwBwAACgDCOAAWNvdADhFukW7BYAAXJ55RboFgDgNdi53FVkbAAAoPYp8iFvaxFhAAFkcvMW9xZvAHQAAKDxImkA5qC/JVsSAAFhaP8WAhdyAPIANQNhAPIA1wvhIm5nbGUAoKYpAAFjaQ4XEBd5AF9k5yJyYXJyAKD/JwAJRGFjZGVmZ2xtbm9wcXJzdHV4MRc4F0YXWxcyBF4XaRd5F40XrBe0F78X2RcVGCEYLRg1GEAYAAFEbzUXgRZvAPQA+BUAAWNzPBdCF3UAdABlADuA6QDpQPQhZXIAoG4qAAJhaW95TRdQF1YXWhfyIW9uG2FyAGOgViI7gOoA6kDsIW9uAKBVIk1kbwB0ABdhAAFEcmIXZhdvAHQAAKBSIgDgNdgi3XKhmipuF3QXYQB2AGUAO4DoAOhAZKCWKm8AdAAAoJgqgKGZKmlscwCAF4UXhxfuInRlcnMAoOcjAKATIWSglSpvAHQAAKCXKoABYXBzAJMXlheiF2MAcgATYXQAeQBzogUinxcAAAAAoRdlAHQAAKAFInAAMaADIDMBqRerFwCgBCAAoAUgAAFnc7AXsRdLYXAAAKACIAABZ3C4F7sXbwBuABlhZgAA4DXYVt2AAWFscwDFF8sXzxdyAHOg1SJsAACg4yl1AHMAAKBxKmkAAKG1A2x21RfYF28AbgC1Y/VjAAJjc3V24BfoF/0XEBgAAWlv5BdWF3IAYwAAoFYiaQLuFwAAAADwF+0ADQThIW50AAFnbPUX+Rd0AHIAAKCWKuUhc3MAoJUqgAFhZWkAAxgGGAoYbABzAD1gcwB0AACgXyJ2AESgYSJEAACgeCrwImFyc2wAoOUpAAFEYRkYHRhvAHQAAKBTInIAcgAAoHEpgAFjZGkAJxgqGO0XcgAAoC8hbwD0AIwCAAFhaDEYMhi3YzuA8ADwQAABbXI5GD0YbAA7gOsA60BvAACgrCCAAWNpcABGGEgYSxhsACFgcwD0ACwEAAFlb08YVxhjAHQAYQB0AGkAbwDuABoEbgBlAG4AdABpAGEAbADlADME4Ql1GAAAgRgAAIMYiBgAAAAAoRilGAAAqhgAALsYvhjRGAAA1xgnGWwAbABpAG4AZwBkAG8AdABzAGUA8QBlF3kARGRtImFsZQAAoEAmgAFpbHIAjRiRGJ0Y7CFpZwCgA/tpApcYAAAAAJoYZwAAoAD7aQBnAACgBPsA4DXYI93sIWlnAKAB++whaWcA4GYAagCAAWFsdACvGLIYthh0AACgbSZpAGcAAKAC+24AcwAAoLElbwBmAJJh8AHCGAAAxhhmAADgNdhX3QABYWvJGMwYbADsAGsEdqDUIgCg2SphI3J0aW50AACgDSoAAWFv2hgiGQABY3PeGB8ZsQPnGP0YBRkSGRUZAAAdGbID7xjyGPQY9xj5GAAA+xg7gL0AvUAAoFMhO4C8ALxAAKBVIQCgWSEAoFshswEBGQAAAxkAoFQhAKBWIbQCCxkOGQAAAAAQGTuAvgC+QACgVyEAoFwhNQAAoFghtgEZGQAAGxkAoFohAKBdITgAAKBeIWwAAKBEIHcAbgAAoCIjYwByAADgNdi73IAIRWFiY2RlZmdpamxub3JzdHYARhlKGVoZXhlmGWkZkhmWGZkZnRmgGa0ZxhnLGc8Z4BkjGmygZyIAoIwqgAFjbXAAUBlTGVgZ9SF0ZfVhbQBhAOSgswM6FgCghipyImV2ZQAfYQABaXliGWUZcgBjAB1hM2RvAHQAIWGAoWUibHFzAMYEcBl6GfGhZSLOBAAAdhlsAGEAbgD0AN8EgKF+KmNkbACBGYQZjBljAACgqSpvAHQAb6CAKmyggioAoIQqZeDbIgD+cwAAoJQqcgAA4DXYJN3noGsirATtIWVsAKA3IWMAeQBTZIChdyJFYWoApxmpGasZAKCSKgCgpSoAoKQqAAJFYWVztBm2Gb0ZwhkAoGkicABwoIoq8iFveACgiipxoIgq8aCIKrUZaQBtAACg5yJwAGYAAOA12FjdYQB2AOUAYwIAAWNp0xnWGXIAAKAKIW0AAKFzImVs3BneGQCgjioAoJAqAIM+ADtjZGxxco0E6xn0GfgZ/BkBGgABY2nvGfEZAKCnKnIAAKB6Km8AdAAAoNci0CFhcgCglSl1ImVzdAAAoHwqgAJhZGVscwAKGvQZFhrVBCAa8AEPGgAAFBpwAHIAbwD4AFkZcgAAoHgpcQAAAWxxxAQbGmwAZQBzAPMASRlpAO0A5AQAAWVuJxouGnIjdG5lcXEAAOBpIgD+xQAsGgAFQWFiY2Vma29zeUAaQxpmGmoabRqDGocalhrCGtMacgDyAMwCAAJpbG1yShpOGlAaVBpyAHMA8ABxD2YAvWBpAGwA9AASBQABZHJYGlsaYwB5AEpkAKGUIWN3YBpkGmkAcgAAoEgpAKCtIWEAcgAAoA8h6SFyYyVhgAFhbHIAcxp7Gn8a8iF0c3WgZSZpAHQAAKBlJuwhaXAAoCYg4yFvbgCguSJyAADgNdgl3XMAAAFld4wakRphInJvdwAAoCUpYSJyb3cAAKAmKYACYW1vcHIAnxqjGqcauhq+GnIAcgAAoP8h9CFodACgOyJrAAABbHKsGrMaZSRmdGFycm93AACgqSHpJGdodGFycm93AKCqIWYAAOA12Fnd4iFhcgCgFSCAAWNsdADIGswa0BpyAADgNdi93GEAcwDoAGka8iFvaydhAAFicNca2xr1IWxsAKBDIOghZW4AoBAg4Qr2GgAA/RoAAAgbExsaGwAAIRs7GwAAAAA+G2IbmRuVG6sbAACyG80b0htjAHUAdABlADuA7QDtQAChYyBpeQEbBhtyAGMAO4DuAO5AOGQAAWN4CxsNG3kANWRjAGwAO4ChAKFAAAFmcssCFhsA4DXYJt1yAGEAdgBlADuA7ADsQIChSCFpbm8AJxsyGzYbAAFpbisbLxtuAHQAAKAMKnQAAKAtIuYhaW4AoNwpdABhAACgKSHsIWlnM2GAAWFvcABDG1sbXhuAAWNndABJG0sbWRtyACthgAFlbHAAcQVRG1UbaQBuAOUAyAVhAHIA9AByBWgAMWFmAACgtyJlAGQAtWEAoggiY2ZvdGkbbRt1G3kb4SFyZQCgBSFpAG4AdKAeImkAZQAAoN0pZABvAPQAWxsAoisiY2VscIEbhRuPG5QbYQBsAACguiIAAWdyiRuNG2UAcgDzACMQ4wCCG2EicmhrAACgFyryIW9kAKA8KgACY2dwdJ8boRukG6gbeQBRZG8AbgAvYWYAAOA12FrdYQC5Y3UAZQBzAHQAO4C/AL9AAAFjabUbuRtyAADgNdi+3G4AAKIIIkVkc3bCG8QbyBvQAwCg+SJvAHQAAKD1Inag9CIAoPMiaaBiIOwhZGUpYesB1hsAANkbYwB5AFZkbAA7gO8A70AAA2NmbW9zdeYb7hvyG/Ub+hsFHAABaXnqG+0bcgBjADVhOWRyAADgNdgn3eEhdGg3YnAAZgAA4DXYW93jAf8bAAADHHIAAOA12L/c8iFjeVhk6yFjeVRkAARhY2ZnaGpvcxUcGhwiHCYcKhwtHDAcNRzwIXBhdqC6A/BjAAFleR4cIRzkIWlsN2E6ZHIAAOA12CjdciJlZW4AOGFjAHkARWRjAHkAXGRwAGYAAOA12FzdYwByAADgNdjA3IALQUJFSGFiY2RlZmdoamxtbm9wcnN0dXYAXhxtHHEcdRx5HN8cBx0dHTwd3B3tHfEdAR4EHh0eLB5FHrwewx7hHgkfPR9LH4ABYXJ0AGQcZxxpHHIA8gBvB/IAxQLhIWlsAKAbKeEhcnIAoA4pZ6BmIgCgiyphAHIAAKBiKWMJjRwAAJAcAACVHAAAAAAAAAAAAACZHJwcAACmHKgcrRwAANIc9SF0ZTph7SJwdHl2AKC0KXIAYQDuAFoG4iFkYbtjZwAAoegnZGyhHKMcAKCRKeUAiwYAoIUqdQBvADuAqwCrQHIAgKOQIWJmaGxwc3QAuhy/HMIcxBzHHMoczhxmoOQhcwAAoB8pcwAAoB0p6wCyGnAAAKCrIWwAAKA5KWkAbQAAoHMpbAAAoKIhAKGrKmFl1hzaHGkAbAAAoBkpc6CtKgDgrSoA/oABYWJyAOUc6RztHHIAcgAAoAwpcgBrAACgcicAAWFr8Rz4HGMAAAFla/Yc9xx7YFtgAAFlc/wc/hwAoIspbAAAAWR1Ax0FHQCgjykAoI0pAAJhZXV5Dh0RHRodHB3yIW9uPmEAAWRpFR0YHWkAbAA8YewAowbiAPccO2QAAmNxcnMkHScdLB05HWEAAKA2KXUAbwDyoBwgqhEAAWR1MB00HeghYXIAoGcpcyJoYXIAAKBLKWgAAKCyIQCiZCJmZ3FzRB1FB5Qdnh10AIACYWhscnQATh1WHWUdbB2NHXIicm93AHSgkCFhAOkAzxxhI3Jwb29uAAABZHVeHWId7yF3bgCgvSFwAACgvCHlJGZ0YXJyb3dzAKDHIWkiZ2h0AIABYWhzAHUdex2DHXIicm93APOglCGdBmEAcgBwAG8AbwBuAPMAzgtxAHUAaQBnAGEAcgByAG8A9wBlGugkcmVldGltZXMAoMsi8aFkIk0HAACaHWwAYQBuAPQAXgcAon0qY2Rnc6YdqR2xHbcdYwAAoKgqbwB0AG+gfypyoIEqAKCDKmXg2iIA/nMAAKCTKoACYWRlZ3MAwB3GHcod1h3ZHXAAcAByAG8A+ACmHG8AdAAAoNYicQAAAWdxzx3SHXQA8gBGB2cAdADyAHQcdADyAFMHaQDtAGMHgAFpbHIA4h3mHeod8yFodACgfClvAG8A8gDKBgDgNdgp3UWgdiIAoJEqYQH1Hf4dcgAAAWR1YB35HWygvCEAoGopbABrAACghCVjAHkAWWQAomoiYWNodAweDx4VHhkecgDyAGsdbwByAG4AZQDyAGAW4SFyZACgaylyAGkAAKD6JQABaW8hHiQe5CFvdEBh9SFzdGGgsCPjIWhlAKCwIwACRWFlczMeNR48HkEeAKBoInAAcKCJKvIhb3gAoIkqcaCHKvGghyo0HmkAbQAAoOYiAARhYm5vcHR3elIeXB5fHoUelh6mHqsetB4AAW5yVh5ZHmcAAKDsJ3IAAKD9IXIA6wCwBmcAgAFsbXIAZh52Hnse5SFmdAABYXKIB2weaQBnAGgAdABhAHIAcgBvAPcAkwfhInBzdG8AoPwnaQBnAGgAdABhAHIAcgBvAPcAmgdwI2Fycm93AAABbHKNHpEeZQBmAPQAxhxpImdodAAAoKwhgAFhZmwAnB6fHqIecgAAoIUpAOA12F3ddQBzAACgLSppIm1lcwAAoDQqYQGvHrMecwB0AACgFyLhAIoOZaHKJbkeRhLuIWdlAKDKJWEAcgBsoCgAdAAAoJMpgAJhY2htdADMHs8e1R7bHt0ecgDyAJ0GbwByAG4AZQDyANYWYQByAGSgyyEAoG0pAKAOIHIAaQAAoL8iAANhY2hpcXTrHu8e1QfzHv0eBh/xIXVvAKA5IHIAAOA12MHcbQDloXIi+h4AAPweAKCNKgCgjyoAAWJ19xwBH28AcqAYIACgGiDyIW9rQmEAhDwAO2NkaGlscXJCBhcfxh0gHyQfKB8sHzEfAAFjaRsfHR8AoKYqcgAAoHkqcgBlAOUAkx3tIWVzAKDJIuEhcnIAoHYpdSJlc3QAAKB7KgABUGk1HzkfYQByAACglillocMlAgdfEnIAAAFkdUIfRx9zImhhcgAAoEop6CFhcgCgZikAAWVuTx9WH3IjdG5lcXEAAOBoIgD+xQBUHwAHRGFjZGVmaGlsbm9wc3VuH3Ifoh+rH68ftx+7H74f5h/uH/MfBwj/HwsgxCFvdACgOiIAAmNscHJ5H30fiR+eH3IAO4CvAK9AAAFldIEfgx8AoEImZaAgJ3MAZQAAoCAnc6CmIXQAbwCAoaYhZGx1AJQfmB+cH28AdwDuAHkDZQBmAPQA6gbwAOkO6yFlcgCgriUAAW95ph+qH+0hbWEAoCkqPGThIXNoAKAUIOElc3VyZWRhbmdsZQCgISJyAADgNdgq3W8AAKAnIYABY2RuAMQfyR/bH3IAbwA7gLUAtUBhoiMi0B8AANMf1x9zAPQAKxFpAHIAAKDwKm8AdAA7gLcAt0B1AHMA4qESIh4TAADjH3WgOCIAoCoqYwHqH+0fcAAAoNsq8gB+GnAAbAB1APMACAgAAWRw9x/7H+UhbHMAoKciZgAA4DXYXt0AAWN0AyAHIHIAAOA12MLc8CFvcwCgPiJsobwDECAVIPQiaW1hcACguCJhAPAAEyAADEdMUlZhYmNkZWZnaGlqbG1vcHJzdHV2dzwgRyBmIG0geSCqILgg2iDeIBEhFSEyIUMhTSFQIZwhnyHSIQAiIyKLIrEivyIUIwABZ3RAIEMgAODZIjgD9uBrItIgBwmAAWVsdABNIF8gYiBmAHQAAAFhclMgWCByInJvdwAAoM0h6SRnaHRhcnJvdwCgziEA4NgiOAP24Goi0iBfCekkZ2h0YXJyb3cAoM8hAAFEZHEgdSDhIXNoAKCvIuEhc2gAoK4igAJiY25wdACCIIYgiSCNIKIgbABhAACgByL1IXRlRGFnAADgICLSIACiSSJFaW9wlSCYIJwgniAA4HAqOANkAADgSyI4A3MASWFyAG8A+AAyCnUAcgBhoG4mbADzoG4mmwjzAa8gAACzIHAAO4CgAKBAbQBwAOXgTiI4AyoJgAJhZW91eQDBIMogzSDWINkg8AHGIAAAyCAAoEMqbwBuAEhh5CFpbEZhbgBnAGSgRyJvAHQAAOBtKjgDcAAAoEIqPWThIXNoAKATIACjYCJBYWRxc3jpIO0g+SD+IAIhDCFyAHIAAKDXIXIAAAFocvIg9SBrAACgJClvoJch9wAGD28AdAAA4FAiOAN1AGkA9gC7CAABZWkGIQohYQByAACgKCntAN8I6SFzdPOgBCLlCHIAAOA12CvdAAJFZXN0/wgcISshLiHxoXEiIiEAABMJ8aFxIgAJAAAnIWwAYQBuAPQAEwlpAO0AGQlyoG8iAKBvIoABQWFwADghOyE/IXIA8gBeIHIAcgAAoK4hYQByAACg8ipzogsiSiEAAAAAxwtkoPwiAKD6ImMAeQBaZIADQUVhZGVzdABcIV8hYiFmIWkhkyGWIXIA8gBXIADgZiI4A3IAcgAAoJohcgAAoCUggKFwImZxcwBwIYQhjiF0AAABYXJ1IXohcgByAG8A9wBlIWkAZwBoAHQAYQByAHIAbwD3AD4h8aFwImAhAACKIWwAYQBuAPQAZwlz4H0qOAMAoG4iaQDtAG0JcqBuImkA5aDqIkUJaQDkADoKAAFwdKMhpyFmAADgNdhf3YCBrAA7aW4AriGvIcchrEBuAIChCSJFZHYAtyG6Ib8hAOD5IjgDbwB0AADg9SI4A+EB1gjEIcYhAKD3IgCg9iJpAHagDCLhAagJzyHRIQCg/iIAoP0igAFhb3IA2CHsIfEhcgCAoSYiYXN0AOAh5SHpIWwAbABlAOwAywhsAADg/SrlIADgAiI4A2wiaW50AACgFCrjoYAi9yEAAPohdQDlAJsJY+CvKjgDZaCAIvEAkwkAAkFhaXQHIgoiFyIeInIA8gBsIHIAcgAAoZshY3cRIhQiAOAzKTgDAOCdITgDZyRodGFycm93AACgmyFyAGkA5aDrIr4JgANjaGltcHF1AC8iPCJHIpwhTSJQIloigKGBImNlcgA2Iv0JOSJ1AOUABgoA4DXYw9zvIXJ0bQKdIQAAAABEImEAcgDhAOEhbQBloEEi8aBEIiYKYQDyAMsIcwB1AAABYnBWIlgi5QDUCeUA3wmAAWJjcABgInMieCKAoYQiRWVzAGci7glqIgDgxSo4A2UAdABl4IIi0iBxAPGgiCJoImMAZaCBIvEA/gmAoYUiRWVzAH8iFgqCIgDgxio4A2UAdABl4IMi0iBxAPGgiSKAIgACZ2lscpIilCKaIpwi7AAMCWwAZABlADuA8QDxQOcAWwlpI2FuZ2xlAAABbHKkIqoi5SFmdGWg6iLxAEUJaSJnaHQAZaDrIvEAvgltoL0DAKEjAGVzuCK8InIAbwAAoBYhcAAAoAcggARESGFkZ2lscnMAziLSItYi2iLeIugi7SICIw8j4SFzaACgrSLhIXJyAKAEKXAAAOBNItIg4SFzaACgrCIAAWV04iLlIgDgZSLSIADgPgDSIG4iZmluAACg3imAAUFldADzIvci+iJyAHIAAKACKQDgZCLSIHLgPADSIGkAZQAA4LQi0iAAAUF0BiMKI3IAcgAAoAMp8iFpZQDgtSLSIGkAbQAA4Dwi0iCAAUFhbgAaIx4jKiNyAHIAAKDWIXIAAAFociMjJiNrAACgIylvoJYh9wD/DuUhYXIAoCcpUxJqFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVCMAAF4jaSN/I4IjjSOeI8AUAAAAAKYjwCMAANoj3yMAAO8jHiQvJD8kRCQAAWNzVyNsFHUAdABlADuA8wDzQAABaXlhI2cjcgBjoJoiO4D0APRAPmSAAmFiaW9zAHEjdCN3I3EBeiNzAOgAdhTsIWFjUWF2AACgOCrvIWxkAKC8KewhaWdTYQABY3KFI4kjaQByAACgvykA4DXYLN1vA5QjAAAAAJYjAACcI24A22JhAHYAZQA7gPIA8kAAoMEpAAFibaEjjAphAHIAAKC1KQACYWNpdKwjryO6I70jcgDyAFkUAAFpcrMjtiNyAACgvinvIXNzAKC7KW4A5QDZCgCgwCmAAWFlaQDFI8gjyyNjAHIATWFnAGEAyWOAAWNkbgDRI9Qj1iPyIW9uv2MAoLYpdQDzAHgBcABmAADgNdhg3YABYWVsAOQj5yPrI3IAAKC3KXIAcAAAoLkpdQDzAHwBAKMoImFkaW9zdvkj/CMPJBMkFiQbJHIA8gBeFIChXSplZm0AAyQJJAwkcgBvoDQhZgAAoDQhO4CqAKpAO4C6ALpA5yFvZgCgtiJyAACgVipsIm9wZQAAoFcqAKBbKoABY2xvACMkJSQrJPIACCRhAHMAaAA7gPgA+EBsAACgmCJpAGwBMyQ4JGQAZQA7gPUA9UBlAHMAYaCXInMAAKA2Km0AbAA7gPYA9kDiIWFyAKA9I+EKXiQAAHokAAB8JJQkAACYJKkkAAAAALUkEQsAAPAkAAAAAAQleiUAAIMlcgCAoSUiYXN0AGUkbyQBCwCBtgA7bGokayS2QGwAZQDsABgDaQJ1JAAAAAB4JG0AAKDzKgCg/Sp5AD9kcgCAAmNpbXB0AIUkiCSLJJkSjyRuAHQAJWBvAGQALmBpAGwAAKAwIOUhbmsAoDEgcgAA4DXYLd2AAWltbwCdJKAkpCR2oMYD1WNtAGEA9AD+B24AZQAAoA4m9KHAA64kAAC0JGMjaGZvcmsAAKDUItZjAAFhdbgkxCRuAAABY2u9JMIkawBooA8hAKAOIfYAaRpzAACkKwBhYmNkZW1zdNMkIRPXJNsk4STjJOck6yTjIWlyAKAjKmkAcgAAoCIqAAFvdYsW3yQAoCUqAKByKm4AO4CxALFAaQBtAACgJip3AG8AAKAnKoABaXB1APUk+iT+JO4idGludACgFSpmAADgNdhh3W4AZAA7gKMAo0CApHoiRWFjZWlub3N1ABMlFSUYJRslTCVRJVklSSV1JQCgsypwAACgtyp1AOUAPwtjoK8qgKJ6ImFjZW5zACclLSU0JTYlSSVwAHAAcgBvAPgAFyV1AHIAbAB5AGUA8QA/C/EAOAuAAWFlcwA8JUElRSXwInByb3gAoLkqcQBxAACgtSppAG0AAKDoImkA7QBEC20AZQDzoDIgIguAAUVhcwBDJVclRSXwAEAlgAFkZnAATwtfJXElgAFhbHMAZSVpJW0l7CFhcgCgLiPpIW5lAKASI/UhcmYAoBMjdKAdIu8AWQvyIWVsAKCwIgABY2l9JYElcgAA4DXYxdzIY24iY3NwAACgCCAAA2Zpb3BzdZElKxuVJZolnyWkJXIAAOA12C7dcABmAADgNdhi3XIiaW1lAACgVyBjAHIAAOA12MbcgAFhZW8AqiW6JcAldAAAAWVpryW2JXIAbgBpAG8AbgDzABkFbgB0AACgFipzAHQAZaA/APEACRj0AG0LgApBQkhhYmNkZWZoaWxtbm9wcnN0dXgA4yXyJfYl+iVpJpAmpia9JtUm5ib4JlonaCdxJ3UnnietJ7EnyCfiJ+cngAFhcnQA6SXsJe4lcgDyAJkM8gD6AuEhaWwAoBwpYQByAPIA3BVhAHIAAKBkKYADY2RlbnFydAAGJhAmEyYYJiYmKyZaJgABZXUKJg0mAOA9IjEDdABlAFVhaQDjACAN7SJwdHl2AKCzKWcAgKHpJ2RlbAAgJiImJCYAoJIpAKClKeUA9wt1AG8AO4C7ALtAcgAApZIhYWJjZmhscHN0dz0mQCZFJkcmSiZMJk4mUSZVJlgmcAAAoHUpZqDlIXMAAKAgKQCgMylzAACgHinrALka8ACVHmwAAKBFKWkAbQAAoHQpbAAAoKMhAKCdIQABYWleJmImaQBsAACgGilvAG6gNiJhAGwA8wB2C4ABYWJyAG8mciZ2JnIA8gAvEnIAawAAoHMnAAFha3omgSZjAAABZWt/JoAmfWBdYAABZXOFJocmAKCMKWwAAAFkdYwmjiYAoI4pAKCQKQACYWV1eZcmmiajJqUm8iFvbllhAAFkaZ4moSZpAGwAV2HsAA8M4gCAJkBkAAJjbHFzrSawJrUmuiZhAACgNylkImhhcgAAoGkpdQBvAPKgHSCjAWgAAKCzIYABYWNnAMMm0iaUC2wAgKEcIWlwcwDLJs4migxuAOUAoAxhAHIA9ADaC3QAAKCtJYABaWxyANsm3ybjJvMhaHQAoH0pbwBvAPIANgwA4DXYL90AAWFv6ib1JnIAAAFkde8m8SYAoMEhbKDAIQCgbCl2oMED8WOAAWducwD+Jk4nUCdoAHQAAANhaGxyc3QKJxInISc1Jz0nRydyInJvdwB0oJIhYQDpAFYmYSNycG9vbgAAAWR1GiceJ28AdwDuAPAmcAAAoMAh5SFmdAABYWgnJy0ncgByAG8AdwDzAAkMYQByAHAAbwBvAG4A8wATBGklZ2h0YXJyb3dzAACgySFxAHUAaQBnAGEAcgByAG8A9wBZJugkcmVldGltZXMAoMwiZwDaYmkAbgBnAGQAbwB0AHMAZQDxABwYgAFhaG0AYCdjJ2YncgDyAAkMYQDyABMEAKAPIG8idXN0AGGgsSPjIWhlAKCxI+0haWQAoO4qAAJhYnB0fCeGJ4knmScAAW5ygCeDJ2cAAKDtJ3IAAKD+IXIA6wAcDIABYWZsAI8nkieVJ3IAAKCGKQDgNdhj3XUAcwAAoC4qaSJtZXMAAKA1KgABYXCiJ6gncgBnoCkAdAAAoJQp7yJsaW50AKASKmEAcgDyADwnAAJhY2hxuCe8J6EMwCfxIXVvAKA6IHIAAOA12MfcAAFidYAmxCdvAPKgGSCoAYABaGlyAM4n0ifWJ3IAZQDlAE0n7SFlcwCgyiJpAIChuSVlZmwAXAxjEt4n9CFyaQCgzinsInVoYXIAoGgpAKAeIWENBSgJKA0oSyhVKIYoAACLKLAoAAAAAOMo5ygAABApJCkxKW0pcSmHKaYpAACYKgAAAACxKmMidXRlAFthcQB1AO8ABR+ApHsiRWFjZWlucHN5ABwoHignKCooLygyKEEoRihJKACgtCrwASMoAAAlKACguCpvAG4AYWF1AOUAgw1koLAqaQBsAF9hcgBjAF1hgAFFYXMAOCg6KD0oAKC2KnAAAKC6KmkAbQAAoOki7yJsaW50AKATKmkA7QCIDUFkbwB0AGKixSKRFgAAAABTKACgZiqAA0FhY21zdHgAYChkKG8ocyh1KHkogihyAHIAAKDYIXIAAAFocmkoayjrAJAab6CYIfcAzAd0ADuApwCnQGkAO2D3IWFyAKApKW0AAAFpbn4ozQBuAHUA8wDOAHQAAKA2J3IA7+A12DDdIxkAAmFjb3mRKJUonSisKHIAcAAAoG8mAAFoeZkonChjAHkASWRIZHIAdABtAqUoAAAAAKgoaQDkAFsPYQByAGEA7ABsJDuArQCtQAABZ22zKLsobQBhAAChwwNmdroouijCY4CjPCJkZWdsbnByAMgozCjPKNMo1yjaKN4obwB0AACgairxoEMiCw5FoJ4qAKCgKkWgnSoAoJ8qZQAAoEYi7CF1cwCgJCrhIXJyAKByKWEAcgDyAPwMAAJhZWl07Sj8KAEpCCkAAWxz8Sj4KGwAcwBlAHQAbQDpAH8oaABwAACgMyrwImFyc2wAoOQpAAFkbFoPBSllAACgIyNloKoqc6CsKgDgrCoA/oABZmxwABUpGCkfKfQhY3lMZGKgLwBhoMQpcgAAoD8jZgAA4DXYZN1hAAABZHIoKRcDZQBzAHWgYCZpAHQAAKBgJoABY3N1ADYpRilhKQABYXU6KUApcABzoJMiAOCTIgD+cABzoJQiAOCUIgD+dQAAAWJwSylWKQChjyJlcz4NUCllAHQAZaCPIvEAPw0AoZAiZXNIDVspZQB0AGWgkCLxAEkNAKGhJWFmZilbBHIAZQFrKVwEAKChJWEAcgDyAAMNAAJjZW10dyl7KX8pgilyAADgNdjI3HQAbQDuAM4AaQDsAAYpYQByAOYAVw0AAWFyiimOKXIA5qAGJhESAAFhbpIpoylpImdodAAAAWVwmSmgKXAAcwBpAGwAbwDuANkXaADpAKAkcwCvYIACYmNtbnAArin8KY4NJSooKgCkgiJFZGVtbnByc7wpvinCKcgpzCnUKdgp3CkAoMUqbwB0AACgvSpkoIYibwB0AACgwyr1IWx0AKDBKgABRWXQKdIpAKDLKgCgiiLsIXVzAKC/KuEhcnIAoHkpgAFlaXUA4inxKfQpdAAAoYIiZW7oKewpcQDxoIYivSllAHEA8aCKItEpbQAAoMcqAAFicPgp+ikAoNUqAKDTKmMAgKJ7ImFjZW5zAAcqDSoUKhYqRihwAHAAcgBvAPgAIyh1AHIAbAB5AGUA8QCDDfEAfA2AAWFlcwAcKiIqPShwAHAAcgBvAPgAPChxAPEAOShnAACgaiYApoMiMTIzRWRlaGxtbnBzPCo/KkIqRSpHKlIqWCpjKmcqaypzKncqO4C5ALlAO4CyALJAO4CzALNAAKDGKgABb3NLKk4qdAAAoL4qdQBiAACg2CpkoIcibwB0AACgxCpzAAABb3VdKmAqbAAAoMknYgAAoNcq4SFycgCgeyn1IWx0AKDCKgABRWVvKnEqAKDMKgCgiyLsIXVzAKDAKoABZWl1AH0qjCqPKnQAAKGDImVugyqHKnEA8aCHIkYqZQBxAPGgiyJwKm0AAKDIKgABYnCTKpUqAKDUKgCg1iqAAUFhbgCdKqEqrCpyAHIAAKDZIXIAAAFocqYqqCrrAJUab6CZIfcAxQf3IWFyAKAqKWwAaQBnADuA3wDfQOELzyrZKtwq6SrsKvEqAAD1KjQrAAAAAAAAAAAAAEwrbCsAAHErvSsAAAAAAADRK3IC1CoAAAAA2CrnIWV0AKAWI8RjcgDrAOUKgAFhZXkA4SrkKucq8iFvbmVh5CFpbGNhQmRvAPQAIg5sInJlYwAAoBUjcgAA4DXYMd0AAmVpa2/7KhIrKCsuK/IBACsAAAkrZQAAATRm6g0EK28AcgDlAOsNYQBzorgDECsAAAAAEit5AG0A0WMAAWNuFislK2sAAAFhcxsrIStwAHAAcgBvAPgAFw5pAG0AAKA8InMA8AD9DQABYXMsKyEr8AAXDnIAbgA7gP4A/kDsATgrOyswG2QA5QBnAmUAcwCAgdcAO2JkAEMrRCtJK9dAYaCgInIAAKAxKgCgMCqAAWVwcwBRK1MraSvhAAkh4qKkIlsrXysAAAAAYytvAHQAAKA2I2kAcgAAoPEqb+A12GXdcgBrAACg2irhAHgociJpbWUAAKA0IIABYWlwAHYreSu3K2QA5QC+DYADYWRlbXBzdACFK6MrmiunK6wrsCuzK24iZ2xlAACitSVkbHFykCuUK5ornCvvIXduAKC/JeUhZnRloMMl8QACBwCgXCJpImdodABloLkl8QBdDG8AdAAAoOwlaSJudXMAAKA6KuwhdXMAoDkqYgAAoM0p6SFtZQCgOyrlInppdW0AoOIjgAFjaHQAwivKK80rAAFyecYrySsA4DXYydxGZGMAeQBbZPIhb2tnYQABaW/UK9creAD0ANERaCJlYWQAAAFsct4r5ytlAGYAdABhAHIAcgBvAPcAXQbpJGdodGFycm93AKCgIQAJQUhhYmNkZmdobG1vcHJzdHV3CiwNLBEsHSwnLDEsQCxLLFIsYix6LIQsjyzLLOgs7Sz/LAotcgDyAAkDYQByAACgYykAAWNyFSwbLHUAdABlADuA+gD6QPIACQ1yAOMBIywAACUseQBeZHYAZQBtYQABaXkrLDAscgBjADuA+wD7QENkgAFhYmgANyw6LD0scgDyANEO7CFhY3FhYQDyAOAOAAFpckQsSCzzIWh0AKB+KQDgNdgy3XIAYQB2AGUAO4D5APlAYQFWLF8scgAAAWxyWixcLACgvyEAoL4hbABrAACggCUAAWN0Zix2LG8CbCwAAAAAcyxyAG4AZaAcI3IAAKAcI28AcAAAoA8jcgBpAACg+CUAAWFsfiyBLGMAcgBrYTuAqACoQAABZ3CILIssbwBuAHNhZgAA4DXYZt0AA2FkaGxzdZksniynLLgsuyzFLHIAcgBvAPcACQ1vAHcAbgBhAHIAcgBvAPcA2A5hI3Jwb29uAAABbHKvLLMsZQBmAPQAWyxpAGcAaAD0AF0sdQDzAKYOaQAAocUDaGzBLMIs0mNvAG4AxWPwI2Fycm93cwCgyCGAAWNpdADRLOEs5CxvAtcsAAAAAN4scgBuAGWgHSNyAACgHSNvAHAAAKAOI24AZwBvYXIAaQAAoPklYwByAADgNdjK3IABZGlyAPMs9yz6LG8AdAAAoPAi7CFkZWlhaQBmoLUlAKC0JQABYW0DLQYtcgDyAMosbAA7gPwA/EDhIm5nbGUAoKcpgAdBQkRhY2RlZmxub3Byc3oAJy0qLTAtNC2bLZ0toS2/LcMtxy3TLdgt3C3gLfwtcgDyABADYQByAHag6CoAoOkqYQBzAOgA/gIAAW5yOC08LechcnQAoJwpgANla25wcnN0AJkpSC1NLVQtXi1iLYItYQBwAHAA4QAaHG8AdABoAGkAbgDnAKEXgAFoaXIAoSmzJFotbwBwAPQAdCVooJUh7wD4JgABaXVmLWotZwBtAOEAuygAAWJwbi14LXMjZXRuZXEAceCKIgD+AODLKgD+cyNldG5lcQBx4IsiAP4A4MwqAP4AAWhyhi2KLWUAdADhABIraSNhbmdsZQAAAWxyki2WLeUhZnQAoLIiaSJnaHQAAKCzInkAMmThIXNoAKCiIoABZWxyAKcttC24LWKiKCKuLQAAAACyLWEAcgAAoLsicQAAoFoi7CFpcACg7iIAAWJ0vC1eD2EA8gBfD3IAAOA12DPddAByAOkAlS1zAHUAAAFicM0t0C0A4IIi0iAA4IMi0iBwAGYAAOA12GfdcgBvAPAAWQt0AHIA6QCaLQABY3XkLegtcgAA4DXYy9wAAWJw7C30LW4AAAFFZXUt8S0A4IoiAP5uAAABRWV/LfktAOCLIgD+6SJnemFnAKCaKYADY2Vmb3BycwANLhAuJS4pLiMuLi40LukhcmN1YQABZGkULiEuAAFiZxguHC5hAHIAAKBfKmUAcaAnIgCgWSLlIXJwAKAYIXIAAOA12DTdcABmAADgNdho3WWgQCJhAHQA6ABqD2MAcgAA4DXYzNzjCuQRUC4AAFQuAABYLmIuAAAAAGMubS5wLnQuAAAAAIguki4AAJouJxIqEnQAcgDpAB0ScgAA4DXYNd0AAUFhWy5eLnIA8gDnAnIA8gCTB75jAAFBYWYuaS5yAPIA4AJyAPIAjAdhAPAAeh5pAHMAAKD7IoABZHB0APgReS6DLgABZmx9LoAuAOA12GnddQDzAP8RaQBtAOUABBIAAUFhiy6OLnIA8gDuAnIA8gCaBwABY3GVLgoScgAA4DXYzdwAAXB0nS6hLmwAdQDzACUScgDpACASAARhY2VmaW9zdbEuvC7ELsguzC7PLtQu2S5jAAABdXm2LrsudABlADuA/QD9QE9kAAFpecAuwy5yAGMAd2FLZG4AO4ClAKVAcgAA4DXYNt1jAHkAV2RwAGYAAOA12GrdYwByAADgNdjO3AABY23dLt8ueQBOZGwAO4D/AP9AAAVhY2RlZmhpb3N38y73Lv8uAi8MLxAvEy8YLx0vIi9jInV0ZQB6YQABYXn7Lv4u8iFvbn5hN2RvAHQAfGEAAWV0Bi8KL3QAcgDmAB8QYQC2Y3IAAOA12DfdYwB5ADZk5yJyYXJyAKDdIXAAZgAA4DXYa91jAHIAAOA12M/cAAFqbiYvKC8AoA0gagAAoAwg"),Q_=bI("AAJhZ2xxBwARABMAFQBtAg0AAAAAAA8AcAAmYG8AcwAnYHQAPmB0ADxg9SFvdCJg");var gi;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.FLAG13=8192]="FLAG13",e[e.BRANCH_LENGTH=8064]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(gi||(gi={}));var Un;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Un||(Un={}));const wI=32;function WA(e){return e>=Un.ZERO&&e<=Un.NINE}function $_(e){return e>=Un.UPPER_A&&e<=Un.UPPER_F||e>=Un.LOWER_A&&e<=Un.LOWER_F}function G_(e){return e>=Un.UPPER_A&&e<=Un.UPPER_Z||e>=Un.LOWER_A&&e<=Un.LOWER_Z||WA(e)}function V_(e){return e===Un.EQUALS||G_(e)}var Pr;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Pr||(Pr={}));var qo;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(qo||(qo={}));class Y_{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Pr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=qo.Strict,this.runConsumed=0}startEntity(t){this.decodeMode=t,this.state=Pr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1,this.runConsumed=0}write(t,n){switch(this.state){case Pr.EntityStart:return t.charCodeAt(n)===Un.NUM?(this.state=Pr.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Pr.NamedEntity,this.stateNamedEntity(t,n));case Pr.NumericStart:return this.stateNumericStart(t,n);case Pr.NumericDecimal:return this.stateNumericDecimal(t,n);case Pr.NumericHex:return this.stateNumericHex(t,n);case Pr.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|wI)===Un.LOWER_X?(this.state=Pr.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Pr.NumericDecimal,this.stateNumericDecimal(t,n))}stateNumericHex(t,n){for(;n<t.length;){const r=t.charCodeAt(n);if(WA(r)||$_(r)){const i=r<=Un.NINE?r-Un.ZERO:(r|wI)-Un.LOWER_A+10;this.result=this.result*16+i,this.consumed++,n++}else return this.emitNumericEntity(r,3)}return-1}stateNumericDecimal(t,n){for(;n<t.length;){const r=t.charCodeAt(n);if(WA(r))this.result=this.result*10+(r-Un.ZERO),this.consumed++,n++;else return this.emitNumericEntity(r,2)}return-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Un.SEMI)this.consumed+=1;else if(this.decodeMode===qo.Strict)return 0;return this.emitCodePoint(W_(this.result),this.consumed),this.errors&&(t!==Un.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&gi.VALUE_LENGTH)>>14;for(;n<t.length;){if(s===0&&i&gi.FLAG13){const u=(i&gi.BRANCH_LENGTH)>>7;if(this.runConsumed===0){const c=i&gi.JUMP_TABLE;if(t.charCodeAt(n)!==c)return this.result===0?0:this.emitNotTerminatedNamedEntity();n++,this.excess++,this.runConsumed++}for(;this.runConsumed<u;){if(n>=t.length)return-1;const c=this.runConsumed-1,h=r[this.treeIndex+1+(c>>1)],g=c%2===0?h&255:h>>8&255;if(t.charCodeAt(n)!==g)return this.runConsumed=0,this.result===0?0:this.emitNotTerminatedNamedEntity();n++,this.excess++,this.runConsumed++}this.runConsumed=0,this.treeIndex+=1+(u>>1),i=r[this.treeIndex],s=(i&gi.VALUE_LENGTH)>>14}if(n>=t.length)break;const l=t.charCodeAt(n);if(l===Un.SEMI&&s!==0&&i&gi.FLAG13)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);if(this.treeIndex=J_(r,i,this.treeIndex+Math.max(1,s),l),this.treeIndex<0)return this.result===0||this.decodeMode===qo.Attribute&&(s===0||V_(l))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&gi.VALUE_LENGTH)>>14,s!==0){if(l===Un.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==qo.Strict&&!(i&gi.FLAG13)&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}n++,this.excess++}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&gi.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~(gi.VALUE_LENGTH|gi.FLAG13):i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case Pr.NamedEntity:return this.result!==0&&(this.decodeMode!==qo.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Pr.NumericDecimal:return this.emitNumericEntity(0,2);case Pr.NumericHex:return this.emitNumericEntity(0,3);case Pr.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Pr.EntityStart:return 0}}}function J_(e,t,n,r){const i=(t&gi.BRANCH_LENGTH)>>7,s=t&gi.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const h=r-s;return h<0||h>=i?-1:e[n+h]-1}const l=i+1>>1;let u=0,c=i-1;for(;u<=c;){const h=u+c>>>1,g=h>>1,v=e[n+g]>>(h&1)*8&255;if(v<r)u=h+1;else if(v>r)c=h-1;else return e[n+l+h]}return-1}var Dt;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(Dt||(Dt={}));var He;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(He||(He={}));function Os(e){return e===Dt.Space||e===Dt.NewLine||e===Dt.Tab||e===Dt.FormFeed||e===Dt.CarriageReturn}function ug(e){return e===Dt.Slash||e===Dt.Gt||Os(e)}function q_(e){return e>=Dt.LowerA&&e<=Dt.LowerZ||e>=Dt.UpperA&&e<=Dt.UpperZ}var Zo;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(Zo||(Zo={}));const ur={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};class Z_{constructor({xmlMode:t=!1,decodeEntities:n=!0},r){this.cbs=r,this.state=He.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=He.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=t,this.decodeEntities=n,this.entityDecoder=new Y_(t?Q_:K_,(i,s)=>this.emitCodePoint(i,s))}reset(){this.state=He.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=He.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(t){this.offset+=this.buffer.length,this.buffer=t,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(t){t===Dt.Lt||!this.decodeEntities&&this.fastForwardTo(Dt.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=He.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&t===Dt.Amp&&this.startEntity()}stateSpecialStartSequence(t){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?ug(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=He.InTagName,this.stateInTagName(t)}stateInSpecialTag(t){if(this.sequenceIndex===this.currentSequence.length){if(t===Dt.Gt||Os(t)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.isSpecial=!1,this.sectionStart=n+2,this.stateInClosingTagName(t);return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===ur.TitleEnd?this.decodeEntities&&t===Dt.Amp&&this.startEntity():this.fastForwardTo(Dt.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===Dt.Lt)}stateCDATASequence(t){t===ur.Cdata[this.sequenceIndex]?++this.sequenceIndex===ur.Cdata.length&&(this.state=He.InCommentLike,this.currentSequence=ur.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=He.InDeclaration,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===t)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===ur.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=He.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(t){return this.xmlMode?!ug(t):q_(t)}startSpecial(t,n){this.isSpecial=!0,this.currentSequence=t,this.sequenceIndex=n,this.state=He.SpecialStartSequence}stateBeforeTagName(t){if(t===Dt.ExclamationMark)this.state=He.BeforeDeclaration,this.sectionStart=this.index+1;else if(t===Dt.Questionmark)this.state=He.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(t)){const n=t|32;this.sectionStart=this.index,this.xmlMode?this.state=He.InTagName:n===ur.ScriptEnd[2]?this.state=He.BeforeSpecialS:n===ur.TitleEnd[2]||n===ur.XmpEnd[2]?this.state=He.BeforeSpecialT:this.state=He.InTagName}else t===Dt.Slash?this.state=He.BeforeClosingTagName:(this.state=He.Text,this.stateText(t))}stateInTagName(t){ug(t)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=He.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateBeforeClosingTagName(t){Os(t)||(t===Dt.Gt?this.state=He.Text:(this.state=this.isTagStartChar(t)?He.InClosingTagName:He.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(t){(t===Dt.Gt||Os(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=He.AfterClosingTagName,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){(t===Dt.Gt||this.fastForwardTo(Dt.Gt))&&(this.state=He.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(t){t===Dt.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=He.InSpecialTag,this.sequenceIndex=0):this.state=He.Text,this.sectionStart=this.index+1):t===Dt.Slash?this.state=He.InSelfClosingTag:Os(t)||(this.state=He.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===Dt.Gt?(this.cbs.onselfclosingtag(this.index),this.state=He.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Os(t)||(this.state=He.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateInAttributeName(t){(t===Dt.Eq||ug(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=He.AfterAttributeName,this.stateAfterAttributeName(t))}stateAfterAttributeName(t){t===Dt.Eq?this.state=He.BeforeAttributeValue:t===Dt.Slash||t===Dt.Gt?(this.cbs.onattribend(Zo.NoValue,this.sectionStart),this.sectionStart=-1,this.state=He.BeforeAttributeName,this.stateBeforeAttributeName(t)):Os(t)||(this.cbs.onattribend(Zo.NoValue,this.sectionStart),this.state=He.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(t){t===Dt.DoubleQuote?(this.state=He.InAttributeValueDq,this.sectionStart=this.index+1):t===Dt.SingleQuote?(this.state=He.InAttributeValueSq,this.sectionStart=this.index+1):Os(t)||(this.sectionStart=this.index,this.state=He.InAttributeValueNq,this.stateInAttributeValueNoQuotes(t))}handleInAttributeValue(t,n){t===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===Dt.DoubleQuote?Zo.Double:Zo.Single,this.index+1),this.state=He.BeforeAttributeName):this.decodeEntities&&t===Dt.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(t){this.handleInAttributeValue(t,Dt.DoubleQuote)}stateInAttributeValueSingleQuotes(t){this.handleInAttributeValue(t,Dt.SingleQuote)}stateInAttributeValueNoQuotes(t){Os(t)||t===Dt.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(Zo.Unquoted,this.index),this.state=He.BeforeAttributeName,this.stateBeforeAttributeName(t)):this.decodeEntities&&t===Dt.Amp&&this.startEntity()}stateBeforeDeclaration(t){t===Dt.OpeningSquareBracket?(this.state=He.CDATASequence,this.sequenceIndex=0):this.state=t===Dt.Dash?He.BeforeComment:He.InDeclaration}stateInDeclaration(t){(t===Dt.Gt||this.fastForwardTo(Dt.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=He.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===Dt.Gt||this.fastForwardTo(Dt.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=He.Text,this.sectionStart=this.index+1)}stateBeforeComment(t){t===Dt.Dash?(this.state=He.InCommentLike,this.currentSequence=ur.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=He.InDeclaration}stateInSpecialComment(t){(t===Dt.Gt||this.fastForwardTo(Dt.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=He.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){const n=t|32;n===ur.ScriptEnd[3]?this.startSpecial(ur.ScriptEnd,4):n===ur.StyleEnd[3]?this.startSpecial(ur.StyleEnd,4):(this.state=He.InTagName,this.stateInTagName(t))}stateBeforeSpecialT(t){switch(t|32){case ur.TitleEnd[3]:{this.startSpecial(ur.TitleEnd,4);break}case ur.TextareaEnd[3]:{this.startSpecial(ur.TextareaEnd,4);break}case ur.XmpEnd[3]:{this.startSpecial(ur.XmpEnd,4);break}default:this.state=He.InTagName,this.stateInTagName(t)}}startEntity(){this.baseState=this.state,this.state=He.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?qo.Strict:this.baseState===He.Text||this.baseState===He.InSpecialTag?qo.Legacy:qo.Attribute)}stateInEntity(){const t=this.index-this.offset,n=this.entityDecoder.write(this.buffer,t);if(n>=0)this.state=this.baseState,n===0&&(this.index-=1);else{if(t<this.buffer.length&&this.buffer.charCodeAt(t)===Dt.Amp){this.state=this.baseState,this.index-=1;return}this.index=this.offset+this.buffer.length-1}}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===He.Text||this.state===He.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===He.InAttributeValueDq||this.state===He.InAttributeValueSq||this.state===He.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const t=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case He.Text:{this.stateText(t);break}case He.SpecialStartSequence:{this.stateSpecialStartSequence(t);break}case He.InSpecialTag:{this.stateInSpecialTag(t);break}case He.CDATASequence:{this.stateCDATASequence(t);break}case He.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(t);break}case He.InAttributeName:{this.stateInAttributeName(t);break}case He.InCommentLike:{this.stateInCommentLike(t);break}case He.InSpecialComment:{this.stateInSpecialComment(t);break}case He.BeforeAttributeName:{this.stateBeforeAttributeName(t);break}case He.InTagName:{this.stateInTagName(t);break}case He.InClosingTagName:{this.stateInClosingTagName(t);break}case He.BeforeTagName:{this.stateBeforeTagName(t);break}case He.AfterAttributeName:{this.stateAfterAttributeName(t);break}case He.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(t);break}case He.BeforeAttributeValue:{this.stateBeforeAttributeValue(t);break}case He.BeforeClosingTagName:{this.stateBeforeClosingTagName(t);break}case He.AfterClosingTagName:{this.stateAfterClosingTagName(t);break}case He.BeforeSpecialS:{this.stateBeforeSpecialS(t);break}case He.BeforeSpecialT:{this.stateBeforeSpecialT(t);break}case He.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(t);break}case He.InSelfClosingTag:{this.stateInSelfClosingTag(t);break}case He.InDeclaration:{this.stateInDeclaration(t);break}case He.BeforeDeclaration:{this.stateBeforeDeclaration(t);break}case He.BeforeComment:{this.stateBeforeComment(t);break}case He.InProcessingInstruction:{this.stateInProcessingInstruction(t);break}case He.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===He.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length+this.offset;this.sectionStart>=t||(this.state===He.InCommentLike?this.currentSequence===ur.CdataEnd?this.cbs.oncdata(this.sectionStart,t,0):this.cbs.oncomment(this.sectionStart,t,0):this.state===He.InTagName||this.state===He.BeforeAttributeName||this.state===He.BeforeAttributeValue||this.state===He.AfterAttributeName||this.state===He.InAttributeName||this.state===He.InAttributeValueSq||this.state===He.InAttributeValueDq||this.state===He.InAttributeValueNq||this.state===He.InClosingTagName||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,n){this.baseState!==He.Text&&this.baseState!==He.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.onattribentity(t)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.ontextentity(t,this.sectionStart))}}const Wu=new Set(["input","option","optgroup","select","button","datalist","textarea"]),yn=new Set(["p"]),SI=new Set(["thead","tbody"]),CI=new Set(["dd","dt"]),kI=new Set(["rt","rp"]),X_=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",yn],["h1",yn],["h2",yn],["h3",yn],["h4",yn],["h5",yn],["h6",yn],["select",Wu],["input",Wu],["output",Wu],["button",Wu],["datalist",Wu],["textarea",Wu],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",CI],["dt",CI],["address",yn],["article",yn],["aside",yn],["blockquote",yn],["details",yn],["div",yn],["dl",yn],["fieldset",yn],["figcaption",yn],["figure",yn],["footer",yn],["form",yn],["header",yn],["hr",yn],["main",yn],["nav",yn],["ol",yn],["pre",yn],["section",yn],["table",yn],["ul",yn],["rt",kI],["rp",kI],["tbody",SI],["tfoot",SI]]),e3=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),II=new Set(["math","svg"]),EI=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),t3=/\s|\//;class n3{constructor(t,n={}){var r,i,s,l,u,c;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=t??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=n.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(i=n.lowerCaseAttributeNames)!==null&&i!==void 0?i:this.htmlMode,this.recognizeSelfClosing=(s=n.recognizeSelfClosing)!==null&&s!==void 0?s:!this.htmlMode,this.tokenizer=new((l=n.Tokenizer)!==null&&l!==void 0?l:Z_)(this.options,this),this.foreignContext=[!this.htmlMode],(c=(u=this.cbs).onparserinit)===null||c===void 0||c.call(u,this)}ontext(t,n){var r,i;const s=this.getSlice(t,n);this.endIndex=n-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,s),this.startIndex=n}ontextentity(t,n){var r,i;this.endIndex=n-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,xI(t)),this.startIndex=n}isVoidElement(t){return this.htmlMode&&e3.has(t)}onopentagname(t,n){this.endIndex=n;let r=this.getSlice(t,n);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(t){var n,r,i,s;this.openTagStart=this.startIndex,this.tagname=t;const l=this.htmlMode&&X_.get(t);if(l)for(;this.stack.length>0&&l.has(this.stack[0]);){const u=this.stack.shift();(r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,u,!0)}this.isVoidElement(t)||(this.stack.unshift(t),this.htmlMode&&(II.has(t)?this.foreignContext.unshift(!0):EI.has(t)&&this.foreignContext.unshift(!1))),(s=(i=this.cbs).onopentagname)===null||s===void 0||s.call(i,t),this.cbs.onopentag&&(this.attribs={})}endOpenTag(t){var n,r;this.startIndex=this.openTagStart,this.attribs&&((r=(n=this.cbs).onopentag)===null||r===void 0||r.call(n,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1}onclosetag(t,n){var r,i,s,l,u,c,h,g;this.endIndex=n;let m=this.getSlice(t,n);if(this.lowerCaseTagNames&&(m=m.toLowerCase()),this.htmlMode&&(II.has(m)||EI.has(m))&&this.foreignContext.shift(),this.isVoidElement(m))this.htmlMode&&m==="br"&&((l=(s=this.cbs).onopentagname)===null||l===void 0||l.call(s,"br"),(c=(u=this.cbs).onopentag)===null||c===void 0||c.call(u,"br",{},!0),(g=(h=this.cbs).onclosetag)===null||g===void 0||g.call(h,"br",!1));else{const v=this.stack.indexOf(m);if(v!==-1)for(let x=0;x<=v;x++){const w=this.stack.shift();(i=(r=this.cbs).onclosetag)===null||i===void 0||i.call(r,w,x!==v)}else this.htmlMode&&m==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1}onselfclosingtag(t){this.endIndex=t,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)}closeCurrentTag(t){var n,r;const i=this.tagname;this.endOpenTag(t),this.stack[0]===i&&((r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,i,!t),this.stack.shift())}onattribname(t,n){this.startIndex=t;const r=this.getSlice(t,n);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(t,n){this.attribvalue+=this.getSlice(t,n)}onattribentity(t){this.attribvalue+=xI(t)}onattribend(t,n){var r,i;this.endIndex=n,(i=(r=this.cbs).onattribute)===null||i===void 0||i.call(r,this.attribname,this.attribvalue,t===Zo.Double?'"':t===Zo.Single?"'":t===Zo.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(t){const n=t.search(t3);let r=n<0?t:t.substr(0,n);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(t,n){this.endIndex=n;const r=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${i}`,`!${r}`)}this.startIndex=n+1}onprocessinginstruction(t,n){this.endIndex=n;const r=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${i}`,`?${r}`)}this.startIndex=n+1}oncomment(t,n,r){var i,s,l,u;this.endIndex=n,(s=(i=this.cbs).oncomment)===null||s===void 0||s.call(i,this.getSlice(t,n-r)),(u=(l=this.cbs).oncommentend)===null||u===void 0||u.call(l),this.startIndex=n+1}oncdata(t,n,r){var i,s,l,u,c,h,g,m,v,x;this.endIndex=n;const w=this.getSlice(t,n-r);!this.htmlMode||this.options.recognizeCDATA?((s=(i=this.cbs).oncdatastart)===null||s===void 0||s.call(i),(u=(l=this.cbs).ontext)===null||u===void 0||u.call(l,w),(h=(c=this.cbs).oncdataend)===null||h===void 0||h.call(c)):((m=(g=this.cbs).oncomment)===null||m===void 0||m.call(g,`[CDATA[${w}]]`),(x=(v=this.cbs).oncommentend)===null||x===void 0||x.call(v)),this.startIndex=n+1}onend(){var t,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(n=(t=this.cbs).onend)===null||n===void 0||n.call(t)}reset(){var t,n,r,i;(n=(t=this.cbs).onreset)===null||n===void 0||n.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(r=this.cbs).onparserinit)===null||i===void 0||i.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(t){this.reset(),this.end(t)}getSlice(t,n){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(t-this.bufferOffset,n-this.bufferOffset);for(;n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,n-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(t){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".write() after done!"));return}this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++)}end(t){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".end() after done!"));return}t&&this.write(t),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(t){this.write(t)}done(t){this.end(t)}}var ln;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(ln||(ln={}));function r3(e){return e.type===ln.Tag||e.type===ln.Script||e.type===ln.Style}const i3=ln.Root,o3=ln.Text,s3=ln.Directive,a3=ln.Comment,l3=ln.Script,u3=ln.Style,c3=ln.Tag,f3=ln.CDATA,d3=ln.Doctype;let DI=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(t){this.parent=t}get previousSibling(){return this.prev}set previousSibling(t){this.prev=t}get nextSibling(){return this.next}set nextSibling(t){this.next=t}cloneNode(t=!1){return PI(this,t)}};class KA extends DI{constructor(t){super(),this.data=t}get nodeValue(){return this.data}set nodeValue(t){this.data=t}}class QA extends KA{constructor(){super(...arguments),this.type=ln.Text}get nodeType(){return 3}}class MI extends KA{constructor(){super(...arguments),this.type=ln.Comment}get nodeType(){return 8}}class RI extends KA{constructor(t,n){super(n),this.name=t,this.type=ln.Directive}get nodeType(){return 1}}class $A extends DI{constructor(t){super(),this.children=t}get firstChild(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(t){this.children=t}}class TI extends $A{constructor(){super(...arguments),this.type=ln.CDATA}get nodeType(){return 4}}class GA extends $A{constructor(){super(...arguments),this.type=ln.Root}get nodeType(){return 9}}let OI=class extends $A{constructor(t,n,r=[],i=t==="script"?ln.Script:t==="style"?ln.Style:ln.Tag){super(r),this.name=t,this.attribs=n,this.type=i}get nodeType(){return 1}get tagName(){return this.name}set tagName(t){this.name=t}get attributes(){return Object.keys(this.attribs).map(t=>{var n,r;return{name:t,value:this.attribs[t],namespace:(n=this["x-attribsNamespace"])===null||n===void 0?void 0:n[t],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[t]}})}};function LI(e){return r3(e)}function h3(e){return e.type===ln.CDATA}function p3(e){return e.type===ln.Text}function g3(e){return e.type===ln.Comment}function m3(e){return e.type===ln.Directive}function y3(e){return e.type===ln.Root}function v3(e){return Object.prototype.hasOwnProperty.call(e,"children")}function PI(e,t=!1){let n;if(p3(e))n=new QA(e.data);else if(g3(e))n=new MI(e.data);else if(LI(e)){const r=t?VA(e.children):[],i=new OI(e.name,{...e.attribs},r);r.forEach(s=>s.parent=i),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]={...e["x-attribsPrefix"]}),n=i}else if(h3(e)){const r=t?VA(e.children):[],i=new TI(r);r.forEach(s=>s.parent=i),n=i}else if(y3(e)){const r=t?VA(e.children):[],i=new GA(r);r.forEach(s=>s.parent=i),e["x-mode"]&&(i["x-mode"]=e["x-mode"]),n=i}else if(m3(e)){const r=new RI(e.name,e.data);e["x-name"]!=null&&(r["x-name"]=e["x-name"],r["x-publicId"]=e["x-publicId"],r["x-systemId"]=e["x-systemId"]),n=r}else throw new Error(`Not implemented yet: ${e.type}`);return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function VA(e){const t=e.map(n=>PI(n,!0));for(let n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}const FI={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class A3{constructor(t,n,r){this.dom=[],this.root=new GA(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(r=n,n=FI),typeof t=="object"&&(n=t,t=void 0),this.callback=t??null,this.options=n??FI,this.elementCB=r??null}onparserinit(t){this.parser=t}onreset(){this.dom=[],this.root=new GA(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(t){this.handleCallback(t)}onclosetag(){this.lastNode=null;const t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)}onopentag(t,n){const r=this.options.xmlMode?ln.Tag:void 0,i=new OI(t,n,void 0,r);this.addNode(i),this.tagStack.push(i)}ontext(t){const{lastNode:n}=this;if(n&&n.type===ln.Text)n.data+=t,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{const r=new QA(t);this.addNode(r),this.lastNode=r}}oncomment(t){if(this.lastNode&&this.lastNode.type===ln.Comment){this.lastNode.data+=t;return}const n=new MI(t);this.addNode(n),this.lastNode=n}oncommentend(){this.lastNode=null}oncdatastart(){const t=new QA(""),n=new TI([t]);this.addNode(n),t.parent=n,this.lastNode=t}oncdataend(){this.lastNode=null}onprocessinginstruction(t,n){const r=new RI(t,n);this.addNode(r)}handleCallback(t){if(typeof this.callback=="function")this.callback(t,this.dom);else if(t)throw t}addNode(t){const n=this.tagStack[this.tagStack.length-1],r=n.children[n.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),n.children.push(t),r&&(t.prev=r,r.next=t),t.parent=n,this.lastNode=null}}const BI=/["&'<>$\x80-\uFFFF]/g,x3=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),b3=String.prototype.codePointAt!=null?(e,t)=>e.codePointAt(t):(e,t)=>(e.charCodeAt(t)&64512)===55296?(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function NI(e){let t="",n=0,r;for(;(r=BI.exec(e))!==null;){const i=r.index,s=e.charCodeAt(i),l=x3.get(s);l!==void 0?(t+=e.substring(n,i)+l,n=i+1):(t+=`${e.substring(n,i)}&#x${b3(e,i).toString(16)};`,n=BI.lastIndex+=+((s&64512)===55296))}return t+e.substr(n)}function _I(e,t){return function(r){let i,s=0,l="";for(;i=e.exec(r);)s!==i.index&&(l+=r.substring(s,i.index)),l+=t.get(i[0].charCodeAt(0)),s=i.index+1;return l+r.substring(s)}}const w3=_I(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),S3=_I(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),C3=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),k3=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),I3=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function E3(e){return e.replace(/"/g,"&quot;")}function D3(e,t){var n;if(!e)return;const r=((n=t.encodeEntities)!==null&&n!==void 0?n:t.decodeEntities)===!1?E3:t.xmlMode||t.encodeEntities!=="utf8"?NI:w3;return Object.keys(e).map(i=>{var s,l;const u=(s=e[i])!==null&&s!==void 0?s:"";return t.xmlMode==="foreign"&&(i=(l=k3.get(i))!==null&&l!==void 0?l:i),!t.emptyAttrs&&!t.xmlMode&&u===""?i:`${i}="${r(u)}"`}).join(" ")}const jI=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function cg(e,t={}){const n="length"in e?e:[e];let r="";for(let i=0;i<n.length;i++)r+=M3(n[i],t);return r}function M3(e,t){switch(e.type){case i3:return cg(e.children,t);case d3:case s3:return L3(e);case a3:return B3(e);case f3:return F3(e);case l3:case u3:case c3:return O3(e,t);case o3:return P3(e,t)}}const R3=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),T3=new Set(["svg","math"]);function O3(e,t){var n;t.xmlMode==="foreign"&&(e.name=(n=C3.get(e.name))!==null&&n!==void 0?n:e.name,e.parent&&R3.has(e.parent.name)&&(t={...t,xmlMode:!1})),!t.xmlMode&&T3.has(e.name)&&(t={...t,xmlMode:"foreign"});let r=`<${e.name}`;const i=D3(e.attribs,t);return i&&(r+=` ${i}`),e.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&jI.has(e.name))?(t.xmlMode||(r+=" "),r+="/>"):(r+=">",e.children.length>0&&(r+=cg(e.children,t)),(t.xmlMode||!jI.has(e.name))&&(r+=`</${e.name}>`)),r}function L3(e){return`<${e.data}>`}function P3(e,t){var n;let r=e.data||"";return((n=t.encodeEntities)!==null&&n!==void 0?n:t.decodeEntities)!==!1&&!(!t.xmlMode&&e.parent&&I3.has(e.parent.name))&&(r=t.xmlMode||t.encodeEntities!=="utf8"?NI(r):S3(r)),r}function F3(e){return`<![CDATA[${e.children[0].data}]]>`}function B3(e){return`<!--${e.data}-->`}function zI(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){const t=e.parent.children,n=t.lastIndexOf(e);n>=0&&t.splice(n,1)}e.next=null,e.prev=null,e.parent=null}function Il(e,t){const n=[],r=[Array.isArray(t)?t:[t]],i=[0];for(;;){if(i[0]>=r[0].length){if(r.length===1)return n;r.shift(),i.shift();continue}const s=r[0][i[0]++];LI(s)&&e(s)&&n.push(s),v3(s)&&s.children.length>0&&(i.unshift(0),r.unshift(s.children))}}function Hf(e,t){const n=new A3(void 0,t);return new n3(n,t).end(e),n.root}function N3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}function YA(e,t){return Array(t+1).join(e)}function HI(e){return e.replace(/^\n*/,"")}function UI(e){for(var t=e.length;t>0&&e[t-1]===`
`;)t--;return e.substring(0,t)}function WI(e){return UI(HI(e))}var _3=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function JA(e){return qA(e,_3)}var KI=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function QI(e){return qA(e,KI)}function j3(e){return GI(e,KI)}var $I=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function z3(e){return qA(e,$I)}function H3(e){return GI(e,$I)}function qA(e,t){return t.indexOf(e.nodeName)>=0}function GI(e,t){return e.getElementsByTagName&&t.some(function(n){return e.getElementsByTagName(n).length})}var ti={};ti.paragraph={filter:"p",replacement:function(e){return`

`+e+`

`}},ti.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+`
`}},ti.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));if(n.headingStyle==="setext"&&r<3){var i=YA(r===1?"=":"-",e.length);return`

`+e+`
`+i+`

`}else return`

`+YA("#",r)+" "+e+`

`}},ti.blockquote={filter:"blockquote",replacement:function(e){return e=WI(e).replace(/^/gm,"> "),`

`+e+`

`}},ti.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return n.nodeName==="LI"&&n.lastElementChild===t?`
`+e:`

`+e+`

`}},ti.listItem={filter:"li",replacement:function(e,t,n){var r=n.bulletListMarker+"   ",i=t.parentNode;if(i.nodeName==="OL"){var s=i.getAttribute("start"),l=Array.prototype.indexOf.call(i.children,t);r=(s?Number(s)+l:l+1)+".  "}var u=/\n$/.test(e);return e=WI(e)+(u?`
`:""),e=e.replace(/\n/gm,`
`+" ".repeat(r.length)),r+e+(t.nextSibling?`
`:"")}},ti.indentedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="indented"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}},ti.fencedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="fenced"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){for(var r=t.firstChild.getAttribute("class")||"",i=(r.match(/language-(\S+)/)||[null,""])[1],s=t.firstChild.textContent,l=n.fence.charAt(0),u=3,c=new RegExp("^"+l+"{3,}","gm"),h;h=c.exec(s);)h[0].length>=u&&(u=h[0].length+1);var g=YA(l,u);return`

`+g+i+`
`+s.replace(/\n$/,"")+`
`+g+`

`}},ti.horizontalRule={filter:"hr",replacement:function(e,t,n){return`

`+n.hr+`

`}},ti.inlineLink={filter:function(e,t){return t.linkStyle==="inlined"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href");n&&(n=n.replace(/([()])/g,"\\$1"));var r=fg(t.getAttribute("title"));return r&&(r=' "'+r.replace(/"/g,'\\"')+'"'),"["+e+"]("+n+r+")"}},ti.referenceLink={filter:function(e,t){return t.linkStyle==="referenced"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t,n){var r=t.getAttribute("href"),i=fg(t.getAttribute("title"));i&&(i=' "'+i+'"');var s,l;switch(n.linkReferenceStyle){case"collapsed":s="["+e+"][]",l="["+e+"]: "+r+i;break;case"shortcut":s="["+e+"]",l="["+e+"]: "+r+i;break;default:var u=this.references.length+1;s="["+e+"]["+u+"]",l="["+u+"]: "+r+i}return this.references.push(l),s},references:[],append:function(e){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}},ti.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}},ti.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}},ti.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n=e.parentNode.nodeName==="PRE"&&!t;return e.nodeName==="CODE"&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];r.indexOf(n)!==-1;)n=n+"`";return n+t+e+t+n}},ti.image={filter:"img",replacement:function(e,t){var n=fg(t.getAttribute("alt")),r=t.getAttribute("src")||"",i=fg(t.getAttribute("title")),s=i?' "'+i+'"':"";return r?"!["+n+"]("+r+s+")":""}};function fg(e){return e?e.replace(/(\n+\s*)+/g,`
`):""}function VI(e){this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[];for(var t in e.rules)this.array.push(e.rules[t])}VI.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){if(e.isBlank)return this.blankRule;var t;return(t=ZA(this.array,e,this.options))||(t=ZA(this._keep,e,this.options))||(t=ZA(this._remove,e,this.options))?t:this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};function ZA(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(U3(i,t,n))return i}}function U3(e,t,n){var r=e.filter;if(typeof r=="string"){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(e,t,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function W3(e){var t=e.element,n=e.isBlock,r=e.isVoid,i=e.isPre||function(m){return m.nodeName==="PRE"};if(!(!t.firstChild||i(t))){for(var s=null,l=!1,u=null,c=YI(u,t,i);c!==t;){if(c.nodeType===3||c.nodeType===4){var h=c.data.replace(/[ \r\n\t]+/g," ");if((!s||/ $/.test(s.data))&&!l&&h[0]===" "&&(h=h.substr(1)),!h){c=XA(c);continue}c.data=h,s=c}else if(c.nodeType===1)n(c)||c.nodeName==="BR"?(s&&(s.data=s.data.replace(/ $/,"")),s=null,l=!1):r(c)||i(c)?(s=null,l=!0):s&&(l=!1);else{c=XA(c);continue}var g=YI(u,c,i);u=c,c=g}s&&(s.data=s.data.replace(/ $/,""),s.data||XA(s))}}function XA(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function YI(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var e0=typeof window<"u"?window:{};function K3(){var e=e0.DOMParser,t=!1;try{new e().parseFromString("","text/html")&&(t=!0)}catch{}return t}function Q3(){var e=function(){};return $3()?e.prototype.parseFromString=function(t){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(t),n.close(),n}:e.prototype.parseFromString=function(t){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(t),n.close(),n},e}function $3(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch{e0.ActiveXObject&&(e=!0)}return e}var G3=K3()?e0.DOMParser:Q3();function V3(e,t){var n;if(typeof e=="string"){var r=Y3().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html");n=r.getElementById("turndown-root")}else n=e.cloneNode(!0);return W3({element:n,isBlock:JA,isVoid:QI,isPre:t.preformattedCode?J3:null}),n}var t0;function Y3(){return t0=t0||new G3,t0}function J3(e){return e.nodeName==="PRE"||e.nodeName==="CODE"}function q3(e,t){return e.isBlock=JA(e),e.isCode=e.nodeName==="CODE"||e.parentNode.isCode,e.isBlank=Z3(e),e.flankingWhitespace=X3(e,t),e}function Z3(e){return!QI(e)&&!z3(e)&&/^\s*$/i.test(e.textContent)&&!j3(e)&&!H3(e)}function X3(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n=ej(e.textContent);return n.leadingAscii&&JI("left",e,t)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&JI("right",e,t)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function ej(e){var t=e.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function JI(e,t,n){var r,i,s;return e==="left"?(r=t.previousSibling,i=/ $/):(r=t.nextSibling,i=/^ /),r&&(r.nodeType===3?s=i.test(r.nodeValue):n.preformattedCode&&r.nodeName==="CODE"?s=!1:r.nodeType===1&&!JA(r)&&(s=i.test(r.textContent))),s}var tj=Array.prototype.reduce,nj=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function dg(e){if(!(this instanceof dg))return new dg(e);var t={rules:ti,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,r){return r.isBlock?`

`:""},keepReplacement:function(n,r){return r.isBlock?`

`+r.outerHTML+`

`:r.outerHTML},defaultReplacement:function(n,r){return r.isBlock?`

`+n+`

`:n}};this.options=N3({},t,e),this.rules=new VI(this.options)}dg.prototype={turndown:function(e){if(!oj(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(e==="")return"";var t=qI.call(this,new V3(e,this.options));return rj.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else if(typeof e=="function")e(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return nj.reduce(function(t,n){return t.replace(n[0],n[1])},e)}};function qI(e){var t=this;return tj.call(e.childNodes,function(n,r){r=new q3(r,t.options);var i="";return r.nodeType===3?i=r.isCode?r.nodeValue:t.escape(r.nodeValue):r.nodeType===1&&(i=ij.call(t,r)),ZI(n,i)},"")}function rj(e){var t=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(e=ZI(e,n.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function ij(e){var t=this.rules.forNode(e),n=qI.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}function ZI(e,t){var n=UI(e),r=HI(t),i=Math.max(e.length-n.length,t.length-r.length),s=`

`.substring(0,i);return n+s+r}function oj(e){return e!=null&&(typeof e=="string"||e.nodeType&&(e.nodeType===1||e.nodeType===9||e.nodeType===11))}const XI=2e5;function sj(e){const t=e.length>XI;return{content:t?e.slice(0,XI):e,truncated:t}}const n0=new Set(["script","style","noscript"]);function aj(e,t){const n=Hf(e);for(const r of Il(i=>t.has(i.tagName.toLowerCase()),n.children))zI(r);return cg(n)}function lj(e){const t=Hf(e),n=[];let r=0;for(const s of Il(l=>l.tagName.toLowerCase()==="style",t.children)){r++;const l=s.children.map(u=>"data"in u?u.data:"").join("").trim();l&&n.push(`/* Style block ${r} */
${l}`)}const i=[];for(const s of Il(l=>"style"in l.attribs,t.children)){const l=s.tagName.toLowerCase(),u=s.attribs.style;let c=l;s.attribs.id&&(c+=`#${s.attribs.id}`),s.attribs.class&&(c+=`.${s.attribs.class.split(/\s+/).join(".")}`),i.push(`${c}: ${u}`)}return i.length>0&&n.push(`/* Inline styles */
${i.join(`
`)}`),n.length>0?n.join(`

`):"No CSS found on page."}function uj(e){const t=Hf(e),n=[];let r=0;for(const s of Il(l=>l.tagName.toLowerCase()==="script",t.children)){r++;const l=s.attribs.src,u=s.children.map(c=>"data"in c?c.data:"").join("").trim();l&&n.push(`/* Script ${r} */
[External: ${l}]`),u&&n.push(`/* Script ${r}${l?" (inline fallback)":""} */
${u}`)}const i=[];for(const s of Il(()=>!0,t.children))for(const[l,u]of Object.entries(s.attribs)){if(!l.toLowerCase().startsWith("on"))continue;let h=s.tagName.toLowerCase();s.attribs.id&&(h+=`#${s.attribs.id}`),s.attribs.class&&(h+=`.${s.attribs.class.split(/\s+/).join(".")}`),i.push(`${h}: ${l}="${u}"`)}return i.length>0&&n.push(`/* Inline event handlers */
${i.join(`
`)}`),n.length>0?n.join(`

`):"No JavaScript found on page."}const cj=new Set(["href","src","alt","title","role","name","content","type","value","placeholder","checked","selected","disabled","aria-label","aria-labelledby","aria-describedby"]);function eE(e){if(e.type==="text")return e.data.replace(/\s+/g," ").trim()||null;if(e.type!=="tag")return null;const t=e,n=t.tagName.toLowerCase();if(n0.has(n))return null;const r={};for(const[s,l]of Object.entries(t.attribs)){const u=s.toLowerCase();if(!cj.has(u)&&!u.startsWith("aria-"))continue;const c=typeof l=="string"?l.trim():"";c&&(r[u]=c.length>500?c.slice(0,500):c)}const i=[];for(const s of t.childNodes){const l=eE(s);l!=null&&(typeof l=="string"&&typeof i[i.length-1]=="string"?i[i.length-1]=i[i.length-1]+" "+l:i.push(l))}return[n,r,i]}function fj(e){const t=Hf(e),n=[];for(const r of t.childNodes){const i=eE(r);i!=null&&n.push(i)}return n.length===1?JSON.stringify(n[0]):JSON.stringify(n)}function dj(e){const t=Hf(e);for(const n of Il(r=>n0.has(r.tagName.toLowerCase()),t.children))zI(n);for(const n of Il(()=>!0,t.children)){delete n.attribs.style;for(const r of Object.keys(n.attribs))r.toLowerCase().startsWith("on")&&(n.attribs[r]="true")}return cg(t)}function hj(e){const t=aj(e,n0),n=new dg({headingStyle:"atx",codeBlockStyle:"fenced"});n.addRule("removeImages",{filter:"img",replacement:()=>""});let r=n.turndown(t);return r=r.replace(/\n{3,}/g,`

`),r}function pj(e,t){switch(t){case"markdown":return hj(e);case"html":return dj(e);case"css":return lj(e);case"js":return uj(e);case"dom-ast":return fj(e);default:return e}}async function gj(e){var r;const t=await chrome.scripting.executeScript({target:{tabId:e},func:()=>document.documentElement.outerHTML,world:"MAIN"}),n=(r=t==null?void 0:t[0])==null?void 0:r.result;if(!n)throw new Error("Failed to get page HTML");return n}async function tE(e,t,n="markdown",r){var i;try{const s=await gj(e.tabId),l=pj(s,n),{content:u}=sj(l),c=FA(u,((i=e.scriptRules)==null?void 0:i.forbiddenOutputText)??null);if(!c.passed)return{success:!1,result:c.error};const h=await H_({html:u,prompt:t,mode:n,traceId:r});return h.error?{success:!1,result:`Fetch error: ${h.error}`}:{success:!0,result:h.answer}}catch(s){return{success:!1,result:`Execution error: ${s.message}`}}}function Uf(e){let t=5381;for(let n=0;n<e.length;n++)t=(t<<5)+t+e.charCodeAt(n)>>>0;return t.toString(16).slice(-4).padStart(4,"0")}function Fr(e,t){var u;const n=e.versions;if(!(n!=null&&n.length))return"";const r=n[0];if(!r)return"";let i=r.code;if(r.commit!==e.currentCommit&&(i=((u=n.find(c=>c.commit===e.currentCommit))==null?void 0:u.code)??""),!t||!i)return i;const s=i.split(`
`),l=String(s.length).length;return s.map((c,h)=>`${String(h+1).padStart(l)}| ${c}`).join(`
`)}async function nE(e,t,n,r="new-script",i,s,l){var u;try{const c=await vI(e.tabId,i,s),h=og({name:t,match:c,author:"AI"}),g=n.includes("==UserScript==")?n:`${h}

${n}`,m=new Date().toISOString(),v=`script_${Date.now()}`,x=r==="one-time-action";let w;try{w=(await chrome.tabs.get(e.tabId)).favIconUrl}catch{}const E={id:v,name:t,currentCommit:1,versions:[{commit:1,code:g,createdAt:m,createdBy:"ai_create"}],urlMatchInclude:c,author:"AI",enabled:!x,createdAt:m,updatedAt:m,createdFromTabId:e.tabId,icon:w},R=await Jo();R.push(E),await $r(R);const S=await lg(e.tabId,"writeNew",v,n,(u=e.scriptRules)==null?void 0:u.chatScriptsTimeout,l,e.onUserScriptsRequest,{name:t,code:n,category:r,scope:i,matchPatterns:s});if(!S.success){const P=`Script saved but execution failed: ${S.error}`;return Ts({success:!1,error:P,result:{error:P,scriptId:v},logs:S.logs,permissionIssue:S.permissionIssue||void 0},e.scriptRules)}e.setLastScriptId(v);const k=x?" (one-time action, saved but disabled)":"",M={scriptId:v,name:t,commit:1,enabled:!x,codeHash:Uf(g),message:`Script created and executed${k}. Now verify. To edit this script later, use: update({ scriptId: '${v}', code: '...' })`};return Ts({success:!0,result:M,logs:S.logs},e.scriptRules)}catch(c){const h=c.message;return{success:!1,error:h,result:{error:h}}}}async function mj(e,t,n,r){var i;try{const s=await HA(t,e.lastScriptId);if(typeof s=="object")return s;const l=s,u=await Jo(),c=u.findIndex(W=>W.id===l);if(c===-1){const W=`Script with ID "${l}" not found`;return{success:!1,error:W,result:{error:W}}}const h=u[c];if(!h){const W=`Script with ID "${l}" not found`;return{success:!1,error:W,result:{error:W}}}const g=Uf(Fr(h));if(n.codeHash!==g){const W=`Code hash mismatch (expected ${n.codeHash}, got ${g}). The script has changed  call listScripts() to get the latest code and hash.`;return{success:!1,error:W,result:{error:W}}}const m=new Date().toISOString();let v;(n.matchPatterns||n.scope)&&(v=await vI(e.tabId,n.scope,n.matchPatterns));const x=n.code!==void 0;let w=h.currentCommit||1,E=h.versions,R;if(x&&n.code!==void 0){const W=n.code;let z;if(n.range){const F=Fr(h).split(`
`),{afterLine:Y,beforeLine:re}=n.range;if(Y<0){const Re=`Invalid range: afterLine must be >= 0 (got ${Y})`;return{success:!1,error:Re,result:{error:Re}}}if(re>F.length+1){const Re=`Invalid range: beforeLine (${re}) exceeds total lines + 1 (${F.length+1})`;return{success:!1,error:Re,result:{error:Re}}}if(Y>=re){const Re=`Invalid range: afterLine (${Y}) must be less than beforeLine (${re})`;return{success:!1,error:Re,result:{error:Re}}}const J=F.slice(0,Y),V=F.slice(re-1),B=W.length>0?[W]:[];z=[...J,...B,...V].join(`
`)}else z=W,z.includes("==UserScript==")||(z=`${og({name:n.name??h.name,match:v??h.urlMatchInclude??[],author:h.author??"AI"})}

${z}`);R=z,w=w+1;const Q={commit:w,code:z,createdAt:m,createdBy:"ai_edit"},$=h.versions||[];E=[Q,...$].slice(0,10)}const S={...h,...n.name!==void 0&&{name:n.name},...n.enabled!==void 0&&{enabled:n.enabled},...v!==void 0&&{urlMatchInclude:v},currentCommit:w,versions:E,updatedAt:m};u[c]=S,await $r(u);let k;if(x&&R!==void 0&&(k=await lg(e.tabId,"update",l,R,(i=e.scriptRules)==null?void 0:i.chatScriptsTimeout,r,e.onUserScriptsRequest,{scriptId:l,...n}),!k.success)){const W=`Script saved but execution failed: ${k.error}`;return Ts({success:!1,error:W,result:{error:W,scriptId:l},logs:k.logs,permissionIssue:k.permissionIssue||void 0},e.scriptRules)}e.setLastScriptId(l);const M=[];x&&M.push("code updated"),n.name!==void 0&&M.push("name changed"),n.enabled!==void 0&&M.push(n.enabled?"enabled":"disabled"),v!==void 0&&M.push("scope updated");const P={scriptId:l,name:S.name,commit:w,enabled:S.enabled,codeHash:Uf(Fr(S)),changes:M.join(", ")||"no changes",message:x?"Script updated and executed. Now verify with read().":"Script metadata updated."};return Ts({success:!0,result:P,logs:k==null?void 0:k.logs},e.scriptRules)}catch(s){const l=s.message;return{success:!1,error:l,result:{error:l}}}}async function yj(e,t,n,r){var i;try{const s=await HA(t,e.lastScriptId);if(typeof s=="object")return s;const l=s,u=await Jo(),c=u.findIndex(P=>P.id===l);if(c===-1){const P=`Script with ID "${l}" not found`;return{success:!1,error:P,result:{error:P}}}const h=u[c];if(!h){const P=`Script with ID "${l}" not found`;return{success:!1,error:P,result:{error:P}}}const g=new Date().toISOString(),v=`${Fr(h)}

${n}`,x=(h.currentCommit||1)+1,w={commit:x,code:v,createdAt:g,createdBy:"ai_edit"},E=h.versions||[],R=[w,...E].slice(0,10),S={...h,currentCommit:x,versions:R,updatedAt:g};u[c]=S,await $r(u);const k=await lg(e.tabId,"append",l,n,(i=e.scriptRules)==null?void 0:i.chatScriptsTimeout,r,e.onUserScriptsRequest,{scriptId:l,code:n});if(!k.success){const P=`Code appended but execution failed: ${k.error}`;return Ts({success:!1,error:P,result:{error:P,scriptId:l},logs:k.logs,permissionIssue:k.permissionIssue||void 0},e.scriptRules)}e.setLastScriptId(l);const M={scriptId:l,name:S.name,commit:x,enabled:S.enabled,codeHash:Uf(v),message:"Code appended and executed. The new code was run without re-running previous code. Verify with read()."};return Ts({success:!0,result:M,logs:k.logs},e.scriptRules)}catch(s){const l=s.message;return{success:!1,error:l,result:{error:l}}}}var r0={},i0={},El={};Object.defineProperty(El,"__esModule",{value:!0}),El.presets=El.defaultOptions=void 0;const rE={chrome:{supportedSchemes:["http","https","file","ftp"],schemeStarMatchesWs:!1},firefox:{supportedSchemes:["http","https","ws","wss","ftp","file"],schemeStarMatchesWs:!0}};El.presets=rE;const vj=Object.assign(Object.assign({},rE.chrome),{strict:!0});El.defaultOptions=vj;var o0={},hg={},Wf={},Sa={},Ca={},iE;function oE(){if(iE)return Ca;iE=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.regexEscape=s,Ca.exact=l,Ca.regexLength=u,Ca.getContextAgnosticMap=void 0;var e=pg();const t=Array.from({length:128},(c,h)=>String.fromCodePoint(h)),n=c=>{const h=new Set(c);return h.delete("i"),c=[...h].join(""),t.map(g=>{const m=`\\x${g.codePointAt(0).toString(16).padStart(2,"0")}`;let v=m,x=m,w=m;try{const E=new RegExp(`[${g}]`,c);new RegExp(`[${g}${g}]`,c),new RegExp(`[${g}${g}\0]`,c),E.test(g)&&!t.filter(R=>R!==g).some(R=>E.test(R))?v=g:(new RegExp(`[\\${g}]`,c),v=`\\${g}`)}catch{try{new RegExp(`[\\${g}]`,c),v=`\\${g}`}catch{}}try{const E=new RegExp(`^${g}$`,c);E.test(g)&&!t.filter(R=>R!==g).some(R=>E.test(R))?x=g:(new RegExp(`\\${g}`,c),x=`\\${g}`)}catch{try{new RegExp(`\\${g}`,c),x=`\\${g}`}catch{}}if(v!==x)try{new RegExp(`\\${g}`,c),new RegExp(`\\${g}`,c),w=`\\${g}`}catch{}else w=[v,x].sort((E,R)=>R.length-E.length)[0];return{ch:g,agnostic:w,inClass:v,outsideClass:x}}).filter(g=>g.inClass!==g.ch||g.outsideClass!==g.ch)},r=new Map,i=c=>{const h=r.get(c);if(h)return h;const g=Object.fromEntries(n(c).map(m=>[m.ch,m.agnostic]));return r.set(c,g),g};Ca.getContextAgnosticMap=i;function s(c,h="u"){const g=i(h),m=Object.values(g),v=x=>x.replace(new RegExp(`[${m.join("")}]`,[...new Set([...h,..."g"])].join("")),w=>g[w]);return new e.RegexFragment(v(c))}function l(c,h){return(0,e.regex)(h)`${c}`}function u(c){return c.replace(/\\(?:\w\{[^}]+\}|u[0-9a-f]{4}|x[0-9a-f]{2}|[0-8]{3}|c[A-Z]|.)/gi,".").length}return Ca}var sE;function pg(){if(sE)return Sa;sE=1,Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.regex=h,Sa.LazyAlternation=Sa.RegexFragment=void 0;var e=oE();class t extends String{}Sa.RegexFragment=t;class n extends Array{constructor(...m){super(...Array.isArray(m[0])?m[0]:m)}}Sa.LazyAlternation=n;const r={global:"g",ignoreCase:"i",multiline:"m",dotAll:"s",sticky:"y",unicode:"u"},i=/(\\*)#(.*)/g,s=g=>g!==!1&&g!=null,l=(g,m,v)=>m.length%2?m.slice(1)+"#"+v.replace(i,l):m,u=g=>m=>{if(m instanceof RegExp){if(m.flags===g)return m.source;{const v=(0,e.getContextAgnosticMap)(m.flags),x=(0,e.getContextAgnosticMap)(g),w=[];for(const R of Object.keys(v))v[R]!==x[R]&&w.push(v[R]);for(const R of Object.keys(x))v[R]!==x[R]&&w.push(R);const E=new RegExp(`(?:${w.map(R=>(0,e.regexEscape)(R,"i")).join("|")})`,"gi");return w.length?m.source.replace(E,R=>{var S;return(S=x[R.startsWith("\\")?R.slice(1):R])!==null&&S!==void 0?S:R}):m.source}}else return typeof m=="string"?(0,e.regexEscape)(m,g):String(s(m)?m:"")},c=(g={})=>(m,...v)=>{let x="",w=[];typeof g=="string"?w=[...g]:Object.entries(r).forEach(([R,S])=>{g[R]&&w.push(S)});const E=w.sort((R,S)=>R.localeCompare(S)).join("");return m.raw.forEach((R,S)=>{x+=R.replace(i,l).replace(/\\`/g,"`").replace(/(\\*)(\s+)/g,(M,P,W)=>W[0]===" "&&P.length%2?P.slice(1)+W[0]:P);const k=v[S];if(Array.isArray(k)){const M=k instanceof n?-1:1;x+=`(?:${[...new Set([...k.filter(s).map(P=>String(u(E)(P)))])].sort((P,W)=>M*((0,e.regexLength)(W)-(0,e.regexLength)(P))).join("|")})`}else x+=u(E)(k)}),new RegExp(x,E)};function h(...g){if(Array.isArray(g[0])){const[m,...v]=g;return c("")(m,...v)}else{const[m]=g;return c(m)}}return Sa}var s0={};Object.defineProperty(s0,"__esModule",{value:!0}),s0.unwrap=Aj;var aE=pg();function Aj(e,t){const n=e.source.replace(/^\^?([\s\S]*?)\$?$/,"$1");return(0,aE.regex)(t??e.flags)`${new aE.RegexFragment(n)}`}var gg={};Object.defineProperty(gg,"__esModule",{value:!0}),gg.proxy=void 0;var xj=pg();const bj=new Proxy(xj.regex,{get(e,t){return e(t==="_"?"":t)},apply(e,t,n){return e(...n)}});gg.proxy=bj,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"regex",{enumerable:!0,get:function(){return t.regex}}),Object.defineProperty(e,"RegexFragment",{enumerable:!0,get:function(){return t.RegexFragment}}),Object.defineProperty(e,"LazyAlternation",{enumerable:!0,get:function(){return t.LazyAlternation}}),Object.defineProperty(e,"exact",{enumerable:!0,get:function(){return n.exact}}),Object.defineProperty(e,"regexEscape",{enumerable:!0,get:function(){return n.regexEscape}}),Object.defineProperty(e,"unwrap",{enumerable:!0,get:function(){return r.unwrap}}),Object.defineProperty(e,"proxy",{enumerable:!0,get:function(){return i.proxy}});var t=pg(),n=oE(),r=s0,i=gg}(Wf),Object.defineProperty(hg,"__esModule",{value:!0}),hg.getDummyUrl=wj;var lE=Wf;const uE=/^|$|[/?=&\-]/;function wj(e,t={}){const{rawHost:n,rawPathAndQuery:r}=e,{defaultScheme:i="https",subdomain:s="",pathAndQueryReplacer:l="",rootDomain:u="example.com",strict:c=!0}=t;let h;const g=e.scheme==="*"?i:e.scheme;g==="file"?h="":n==="*"?h=[s,u].filter(Boolean).join("."):h=n.replace(/^\*./,s?`${s}.`:"");const m=(c?r:"/*").replace(/\*/g,`-${l}-`).replace((0,lE.regex)("g")`-+(${uE})`,"$1").replace((0,lE.regex)("g")`(${uE})-+`,"$1").replace(/\/+/g,"/");try{return new URL(`${g}://${h}${m}`)}catch{return null}}var mg={},Kf={};Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.ALL_URLS=void 0;const Sj="<all_urls>";Kf.ALL_URLS=Sj,Object.defineProperty(mg,"__esModule",{value:!0}),mg.getPatternSegments=Ej;var Cj=Wf,kj=Kf;const Ij=(0,Cj.regex)()`
	^
		(\*|\w+)      # scheme
		://
		(
			\*     |  # Any host
			[^/\#]*     # Only the given host (optional only if scheme is file)
		)
		(/[^\r\n\#]*) # path
	$
`;function Ej(e){if(e===kj.ALL_URLS)return{pattern:e,scheme:"*",rawHost:"*",rawPathAndQuery:"/*"};const t=e.match(Ij);if(!t)return null;const[,n,r,i]=t;return{pattern:e,scheme:n,rawHost:r,rawPathAndQuery:i}}Object.defineProperty(o0,"__esModule",{value:!0}),o0.getExampleUrls=Rj;var Dj=hg,Mj=mg;function Rj(e,t){const n=(0,Mj.getPatternSegments)(e),{supportedSchemes:r,strict:i}=t,s=["","www","foo.bar"],l=["example.com"],u=["","foo","/bar/baz/"],c=r.flatMap(h=>s.flatMap(g=>l.flatMap(m=>u.flatMap(v=>(0,Dj.getDummyUrl)(n,{defaultScheme:h,subdomain:g,rootDomain:m,pathAndQueryReplacer:v,strict:i})))));return[...new Set(c.filter(Boolean).map(h=>h.href))]}var a0={},l0={};Object.defineProperty(l0,"__esModule",{value:!0}),l0.getHostRegex=Oj;var cE=Wf,Tj=hg;function Oj(e){const{pattern:t,scheme:n,rawHost:r}=e;if(!r&&n!=="file")return new TypeError('Host is optional only if the scheme is "file".');const i=r.includes("*");if(i){const c=r.split("*.");if(r.length>1&&(c.length!==2||c[0]||!c[1]))return new TypeError('Host can contain only one wildcard at the start, in the form "*.<host segments>"')}const s=(0,Tj.getDummyUrl)(e,{subdomain:""});if(!s)return new TypeError(`Pattern "${t}" cannot be used to construct a valid URL.`);const l=s.host;if(/:\d+$/.test(l))return new TypeError(`Host "${r}" cannot include a port number. All ports are matched by default.`);if(/[^.a-z0-9\-]/.test(l))return new TypeError(`Host "${r}" contains invalid characters.`);const u=i?"*."+l:l;return r==="*"?/.+/:u.startsWith("*.")?(0,cE.regex)()`
			^
				(?:[^.]+\.)*     # any number of dot-terminated segments
				${u.slice(2)}   # rest after leading *.
			$
		`:(0,cE.regex)()`^${u}$`}var Qf={};Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.createMatchFn=Lj,Qf.normalizeUrlFragment=void 0;const u0=e=>{try{return encodeURI(decodeURI(e))}catch(t){return t}};Qf.normalizeUrlFragment=u0;function Lj(e){return t=>{let n;try{const r=t instanceof URL?t.href:t;n=new URL(r);const i=u0(n.pathname),s=u0(n.search);if(i instanceof Error||s instanceof Error)return!1;n.pathname=i,n.href.endsWith("?")||(n.search=s)}catch{return!1}return e(n)}}Object.defineProperty(a0,"__esModule",{value:!0}),a0.toMatchFnOrError=Nj;var Ku=Wf,Pj=Kf,Fj=l0,Bj=mg,c0=Qf;function Nj(e,t){var n;const{supportedSchemes:r,schemeStarMatchesWs:i,strict:s}=t;if(e===Pj.ALL_URLS)return(0,c0.createMatchFn)(w=>(0,Ku.regex)()`
				^
					(?:${r})
					:
				$
			`.test(w.protocol));const l=(n=e.match(/^(urn|data):/))===null||n===void 0?void 0:n[1];if(l)return new TypeError(`browser-extension-url-match does not currently support scheme "${l}"`);const u=(0,Bj.getPatternSegments)(e);if(!u){try{const w=new URL(e);if(w.hash||w.href.endsWith("#"))return new TypeError(`Pattern cannot contain a hash: "${e}" contains hash "${w.hash||"#"}"`);if(!e.slice(w.origin.length).startsWith("/"))return new TypeError(`Pattern "${e}" does not contain a path. Use "${e}/*" to match any paths with that origin or "${e}/" to match that URL alone`)}catch{}return new TypeError(`Pattern "${e}" is invalid`)}const{scheme:c,rawPathAndQuery:h}=u;if(c!=="*"&&!r.includes(c))return new TypeError(`Scheme "${c}" is not supported`);const g=(0,Ku.regex)()`${c==="*"?new Ku.RegexFragment(["https?",i&&"wss?"].filter(Boolean).join("|")):c}:`,m=(0,Fj.getHostRegex)(u);if(m instanceof Error)return m;const v=s?(0,c0.normalizeUrlFragment)(h):"/*";if(v instanceof Error)return v;const x=(0,Ku.regex)()`^${new Ku.RegexFragment(v.split("*").map(w=>(0,Ku.regexEscape)(w)).join(".*"))}$`;return(0,c0.createMatchFn)(w=>{const E=w.pathname+(w.href.endsWith("?")?"?":w.search);return g.test(w.protocol)&&m.test(w.hostname)&&x.test(E)})}Object.defineProperty(i0,"__esModule",{value:!0}),i0.matchPattern=Uj;var _j=El,jj=o0,zj=a0;function yg(){if(!this.valid)throw new TypeError(this.error.message);return this}function fE(e){return t=>{const n=Object.assign(Object.assign({},_j.defaultOptions),e),r=(0,zj.toMatchFnOrError)(t,n);return r instanceof Error?{valid:!1,error:r,assertValid:yg}:{valid:!0,match:r,get examples(){return(0,jj.getExampleUrls)(t,n).filter(i=>r(i)).slice(0,100)},patterns:[t],config:n,assertValid:yg}}}function Hj(e){return e.every(t=>t.valid)}function Uj(e,t={}){const n=typeof e=="string"?[e]:[...new Set(e)];if(n.length===1)return fE(t)(n[0]);const r=n.map(fE(t));return Hj(r)?{valid:!0,get examples(){return[...new Set(r.flatMap(i=>i.examples))]},match:i=>r.some(s=>s.match(i)),patterns:n,config:t,assertValid:yg}:{valid:!1,error:r.find(s=>!s.valid).error,assertValid:yg}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"matchPattern",{enumerable:!0,get:function(){return t.matchPattern}}),Object.defineProperty(e,"presets",{enumerable:!0,get:function(){return n.presets}});var t=i0,n=El})(r0);var $f={};const Xo="\\\\/",dE=`[^${Xo}]`,Ls="\\.",Wj="\\+",Kj="\\?",vg="\\/",Qj="(?=.)",hE="[^/]",f0=`(?:${vg}|$)`,pE=`(?:^|${vg})`,d0=`${Ls}{1,2}${f0}`,$j=`(?!${Ls})`,Gj=`(?!${pE}${d0})`,Vj=`(?!${Ls}{0,1}${f0})`,Yj=`(?!${d0})`,Jj=`[^.${vg}]`,qj=`${hE}*?`,gE={DOT_LITERAL:Ls,PLUS_LITERAL:Wj,QMARK_LITERAL:Kj,SLASH_LITERAL:vg,ONE_CHAR:Qj,QMARK:hE,END_ANCHOR:f0,DOTS_SLASH:d0,NO_DOT:$j,NO_DOTS:Gj,NO_DOT_SLASH:Vj,NO_DOTS_SLASH:Yj,QMARK_NO_DOT:Jj,STAR:qj,START_ANCHOR:pE,SEP:"/"},Zj={...gE,SLASH_LITERAL:`[${Xo}]`,QMARK:dE,STAR:`${dE}*?`,DOTS_SLASH:`${Ls}{1,2}(?:[${Xo}]|$)`,NO_DOT:`(?!${Ls})`,NO_DOTS:`(?!(?:^|[${Xo}])${Ls}{1,2}(?:[${Xo}]|$))`,NO_DOT_SLASH:`(?!${Ls}{0,1}(?:[${Xo}]|$))`,NO_DOTS_SLASH:`(?!${Ls}{1,2}(?:[${Xo}]|$))`,QMARK_NO_DOT:`[^.${Xo}]`,START_ANCHOR:`(?:^|[${Xo}])`,END_ANCHOR:`(?:[${Xo}]|$)`,SEP:"\\"},Xj={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var Ag={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Xj,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{__proto__:null,"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?Zj:gE}};(function(e){const{REGEX_BACKSLASH:t,REGEX_REMOVE_BACKSLASH:n,REGEX_SPECIAL_CHARS:r,REGEX_SPECIAL_CHARS_GLOBAL:i}=Ag;e.isObject=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),e.hasRegexChars=s=>r.test(s),e.isRegexChar=s=>s.length===1&&e.hasRegexChars(s),e.escapeRegex=s=>s.replace(i,"\\$1"),e.toPosixSlashes=s=>s.replace(t,"/"),e.isWindows=()=>{if(typeof navigator<"u"&&navigator.platform){const s=navigator.platform.toLowerCase();return s==="win32"||s==="windows"}return typeof process<"u"&&process.platform?process.platform==="win32":!1},e.removeBackslashes=s=>s.replace(n,l=>l==="\\"?"":l),e.escapeLast=(s,l,u)=>{const c=s.lastIndexOf(l,u);return c===-1?s:s[c-1]==="\\"?e.escapeLast(s,l,c-1):`${s.slice(0,c)}\\${s.slice(c)}`},e.removePrefix=(s,l={})=>{let u=s;return u.startsWith("./")&&(u=u.slice(2),l.prefix="./"),u},e.wrapOutput=(s,l={},u={})=>{const c=u.contains?"":"^",h=u.contains?"":"$";let g=`${c}(?:${s})${h}`;return l.negated===!0&&(g=`(?:^(?!${g}).*$)`),g},e.basename=(s,{windows:l}={})=>{const u=s.split(l?/[\\/]/:"/"),c=u[u.length-1];return c===""?u[u.length-2]:c}})($f);const mE=$f,{CHAR_ASTERISK:h0,CHAR_AT:e8,CHAR_BACKWARD_SLASH:Gf,CHAR_COMMA:t8,CHAR_DOT:p0,CHAR_EXCLAMATION_MARK:g0,CHAR_FORWARD_SLASH:yE,CHAR_LEFT_CURLY_BRACE:m0,CHAR_LEFT_PARENTHESES:y0,CHAR_LEFT_SQUARE_BRACKET:n8,CHAR_PLUS:r8,CHAR_QUESTION_MARK:vE,CHAR_RIGHT_CURLY_BRACE:i8,CHAR_RIGHT_PARENTHESES:AE,CHAR_RIGHT_SQUARE_BRACKET:o8}=Ag,xE=e=>e===yE||e===Gf,bE=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)};var s8=(e,t)=>{const n=t||{},r=e.length-1,i=n.parts===!0||n.scanToEnd===!0,s=[],l=[],u=[];let c=e,h=-1,g=0,m=0,v=!1,x=!1,w=!1,E=!1,R=!1,S=!1,k=!1,M=!1,P=!1,W=!1,z=0,Q,$,se={value:"",depth:0,isGlob:!1};const F=()=>h>=r,Y=()=>c.charCodeAt(h+1),re=()=>(Q=$,c.charCodeAt(++h));for(;h<r;){$=re();let Te;if($===Gf){k=se.backslashes=!0,$=re(),$===m0&&(S=!0);continue}if(S===!0||$===m0){for(z++;F()!==!0&&($=re());){if($===Gf){k=se.backslashes=!0,re();continue}if($===m0){z++;continue}if(S!==!0&&$===p0&&($=re())===p0){if(v=se.isBrace=!0,w=se.isGlob=!0,W=!0,i===!0)continue;break}if(S!==!0&&$===t8){if(v=se.isBrace=!0,w=se.isGlob=!0,W=!0,i===!0)continue;break}if($===i8&&(z--,z===0)){S=!1,v=se.isBrace=!0,W=!0;break}}if(i===!0)continue;break}if($===yE){if(s.push(h),l.push(se),se={value:"",depth:0,isGlob:!1},W===!0)continue;if(Q===p0&&h===g+1){g+=2;continue}m=h+1;continue}if(n.noext!==!0&&($===r8||$===e8||$===h0||$===vE||$===g0)===!0&&Y()===y0){if(w=se.isGlob=!0,E=se.isExtglob=!0,W=!0,$===g0&&h===g&&(P=!0),i===!0){for(;F()!==!0&&($=re());){if($===Gf){k=se.backslashes=!0,$=re();continue}if($===AE){w=se.isGlob=!0,W=!0;break}}continue}break}if($===h0){if(Q===h0&&(R=se.isGlobstar=!0),w=se.isGlob=!0,W=!0,i===!0)continue;break}if($===vE){if(w=se.isGlob=!0,W=!0,i===!0)continue;break}if($===n8){for(;F()!==!0&&(Te=re());){if(Te===Gf){k=se.backslashes=!0,re();continue}if(Te===o8){x=se.isBracket=!0,w=se.isGlob=!0,W=!0;break}}if(i===!0)continue;break}if(n.nonegate!==!0&&$===g0&&h===g){M=se.negated=!0,g++;continue}if(n.noparen!==!0&&$===y0){if(w=se.isGlob=!0,i===!0){for(;F()!==!0&&($=re());){if($===y0){k=se.backslashes=!0,$=re();continue}if($===AE){W=!0;break}}continue}break}if(w===!0){if(W=!0,i===!0)continue;break}}n.noext===!0&&(E=!1,w=!1);let J=c,V="",B="";g>0&&(V=c.slice(0,g),c=c.slice(g),m-=g),J&&w===!0&&m>0?(J=c.slice(0,m),B=c.slice(m)):w===!0?(J="",B=c):J=c,J&&J!==""&&J!=="/"&&J!==c&&xE(J.charCodeAt(J.length-1))&&(J=J.slice(0,-1)),n.unescape===!0&&(B&&(B=mE.removeBackslashes(B)),J&&k===!0&&(J=mE.removeBackslashes(J)));const Re={prefix:V,input:e,start:g,base:J,glob:B,isBrace:v,isBracket:x,isGlob:w,isExtglob:E,isGlobstar:R,negated:M,negatedExtglob:P};if(n.tokens===!0&&(Re.maxDepth=0,xE($)||l.push(se),Re.tokens=l),n.parts===!0||n.tokens===!0){let Te;for(let me=0;me<s.length;me++){const ae=Te?Te+1:g,N=s[me],de=e.slice(ae,N);n.tokens&&(me===0&&g!==0?(l[me].isPrefix=!0,l[me].value=V):l[me].value=de,bE(l[me]),Re.maxDepth+=l[me].depth),(me!==0||de!=="")&&u.push(de),Te=N}if(Te&&Te+1<e.length){const me=e.slice(Te+1);u.push(me),n.tokens&&(l[l.length-1].value=me,bE(l[l.length-1]),Re.maxDepth+=l[l.length-1].depth)}Re.slashes=s,Re.parts=u}return Re};const xg=Ag,es=$f,{MAX_LENGTH:bg,POSIX_REGEX_SOURCE:a8,REGEX_NON_SPECIAL_CHARS:l8,REGEX_SPECIAL_CHARS_BACKREF:u8,REPLACEMENTS:wE}=xg,c8=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();const n=`[${e.join("-")}]`;try{new RegExp(n)}catch{return e.map(i=>es.escapeRegex(i)).join("..")}return n},Qu=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,v0=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=wE[e]||e;const n={...t},r=typeof n.maxLength=="number"?Math.min(bg,n.maxLength):bg;let i=e.length;if(i>r)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${r}`);const s={type:"bos",value:"",output:n.prepend||""},l=[s],u=n.capture?"":"?:",c=xg.globChars(n.windows),h=xg.extglobChars(c),{DOT_LITERAL:g,PLUS_LITERAL:m,SLASH_LITERAL:v,ONE_CHAR:x,DOTS_SLASH:w,NO_DOT:E,NO_DOT_SLASH:R,NO_DOTS_SLASH:S,QMARK:k,QMARK_NO_DOT:M,STAR:P,START_ANCHOR:W}=c,z=oe=>`(${u}(?:(?!${W}${oe.dot?w:g}).)*?)`,Q=n.dot?"":E,$=n.dot?k:M;let se=n.bash===!0?z(n):P;n.capture&&(se=`(${se})`),typeof n.noext=="boolean"&&(n.noextglob=n.noext);const F={input:e,index:-1,start:0,dot:n.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:l};e=es.removePrefix(e,F),i=e.length;const Y=[],re=[],J=[];let V=s,B;const Re=()=>F.index===i-1,Te=F.peek=(oe=1)=>e[F.index+oe],me=F.advance=()=>e[++F.index]||"",ae=()=>e.slice(F.index+1),N=(oe="",Se=0)=>{F.consumed+=oe,F.index+=Se},de=oe=>{F.output+=oe.output!=null?oe.output:oe.value,N(oe.value)},ve=()=>{let oe=1;for(;Te()==="!"&&(Te(2)!=="("||Te(3)==="?");)me(),F.start++,oe++;return oe%2===0?!1:(F.negated=!0,F.start++,!0)},G=oe=>{F[oe]++,J.push(oe)},_e=oe=>{F[oe]--,J.pop()},Be=oe=>{if(V.type==="globstar"){const Se=F.braces>0&&(oe.type==="comma"||oe.type==="brace"),Ee=oe.extglob===!0||Y.length&&(oe.type==="pipe"||oe.type==="paren");oe.type!=="slash"&&oe.type!=="paren"&&!Se&&!Ee&&(F.output=F.output.slice(0,-V.output.length),V.type="star",V.value="*",V.output=se,F.output+=V.output)}if(Y.length&&oe.type!=="paren"&&(Y[Y.length-1].inner+=oe.value),(oe.value||oe.output)&&de(oe),V&&V.type==="text"&&oe.type==="text"){V.output=(V.output||V.value)+oe.value,V.value+=oe.value;return}oe.prev=V,l.push(oe),V=oe},Oe=(oe,Se)=>{const Ee={...h[Se],conditions:1,inner:""};Ee.prev=V,Ee.parens=F.parens,Ee.output=F.output;const Fe=(n.capture?"(":"")+Ee.open;G("parens"),Be({type:oe,value:Se,output:F.output?"":x}),Be({type:"paren",extglob:!0,value:me(),output:Fe}),Y.push(Ee)},Ue=oe=>{let Se=oe.close+(n.capture?")":""),Ee;if(oe.type==="negate"){let Fe=se;if(oe.inner&&oe.inner.length>1&&oe.inner.includes("/")&&(Fe=z(n)),(Fe!==se||Re()||/^\)+$/.test(ae()))&&(Se=oe.close=`)$))${Fe}`),oe.inner.includes("*")&&(Ee=ae())&&/^\.[^\\/.]+$/.test(Ee)){const Ye=v0(Ee,{...t,fastpaths:!1}).output;Se=oe.close=`)${Ye})${Fe})`}oe.prev.type==="bos"&&(F.negatedExtglob=!0)}Be({type:"paren",extglob:!0,value:B,output:Se}),_e("parens")};if(n.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let oe=!1,Se=e.replace(u8,(Ee,Fe,Ye,tt,Ne,Pt)=>tt==="\\"?(oe=!0,Ee):tt==="?"?Fe?Fe+tt+(Ne?k.repeat(Ne.length):""):Pt===0?$+(Ne?k.repeat(Ne.length):""):k.repeat(Ye.length):tt==="."?g.repeat(Ye.length):tt==="*"?Fe?Fe+tt+(Ne?se:""):se:Fe?Ee:`\\${Ee}`);return oe===!0&&(n.unescape===!0?Se=Se.replace(/\\/g,""):Se=Se.replace(/\\+/g,Ee=>Ee.length%2===0?"\\\\":Ee?"\\":"")),Se===e&&n.contains===!0?(F.output=e,F):(F.output=es.wrapOutput(Se,F,t),F)}for(;!Re();){if(B=me(),B==="\0")continue;if(B==="\\"){const Ee=Te();if(Ee==="/"&&n.bash!==!0||Ee==="."||Ee===";")continue;if(!Ee){B+="\\",Be({type:"text",value:B});continue}const Fe=/^\\+/.exec(ae());let Ye=0;if(Fe&&Fe[0].length>2&&(Ye=Fe[0].length,F.index+=Ye,Ye%2!==0&&(B+="\\")),n.unescape===!0?B=me():B+=me(),F.brackets===0){Be({type:"text",value:B});continue}}if(F.brackets>0&&(B!=="]"||V.value==="["||V.value==="[^")){if(n.posix!==!1&&B===":"){const Ee=V.value.slice(1);if(Ee.includes("[")&&(V.posix=!0,Ee.includes(":"))){const Fe=V.value.lastIndexOf("["),Ye=V.value.slice(0,Fe),tt=V.value.slice(Fe+2),Ne=a8[tt];if(Ne){V.value=Ye+Ne,F.backtrack=!0,me(),!s.output&&l.indexOf(V)===1&&(s.output=x);continue}}}(B==="["&&Te()!==":"||B==="-"&&Te()==="]")&&(B=`\\${B}`),B==="]"&&(V.value==="["||V.value==="[^")&&(B=`\\${B}`),n.posix===!0&&B==="!"&&V.value==="["&&(B="^"),V.value+=B,de({value:B});continue}if(F.quotes===1&&B!=='"'){B=es.escapeRegex(B),V.value+=B,de({value:B});continue}if(B==='"'){F.quotes=F.quotes===1?0:1,n.keepQuotes===!0&&Be({type:"text",value:B});continue}if(B==="("){G("parens"),Be({type:"paren",value:B});continue}if(B===")"){if(F.parens===0&&n.strictBrackets===!0)throw new SyntaxError(Qu("opening","("));const Ee=Y[Y.length-1];if(Ee&&F.parens===Ee.parens+1){Ue(Y.pop());continue}Be({type:"paren",value:B,output:F.parens?")":"\\)"}),_e("parens");continue}if(B==="["){if(n.nobracket===!0||!ae().includes("]")){if(n.nobracket!==!0&&n.strictBrackets===!0)throw new SyntaxError(Qu("closing","]"));B=`\\${B}`}else G("brackets");Be({type:"bracket",value:B});continue}if(B==="]"){if(n.nobracket===!0||V&&V.type==="bracket"&&V.value.length===1){Be({type:"text",value:B,output:`\\${B}`});continue}if(F.brackets===0){if(n.strictBrackets===!0)throw new SyntaxError(Qu("opening","["));Be({type:"text",value:B,output:`\\${B}`});continue}_e("brackets");const Ee=V.value.slice(1);if(V.posix!==!0&&Ee[0]==="^"&&!Ee.includes("/")&&(B=`/${B}`),V.value+=B,de({value:B}),n.literalBrackets===!1||es.hasRegexChars(Ee))continue;const Fe=es.escapeRegex(V.value);if(F.output=F.output.slice(0,-V.value.length),n.literalBrackets===!0){F.output+=Fe,V.value=Fe;continue}V.value=`(${u}${Fe}|${V.value})`,F.output+=V.value;continue}if(B==="{"&&n.nobrace!==!0){G("braces");const Ee={type:"brace",value:B,output:"(",outputIndex:F.output.length,tokensIndex:F.tokens.length};re.push(Ee),Be(Ee);continue}if(B==="}"){const Ee=re[re.length-1];if(n.nobrace===!0||!Ee){Be({type:"text",value:B,output:B});continue}let Fe=")";if(Ee.dots===!0){const Ye=l.slice(),tt=[];for(let Ne=Ye.length-1;Ne>=0&&(l.pop(),Ye[Ne].type!=="brace");Ne--)Ye[Ne].type!=="dots"&&tt.unshift(Ye[Ne].value);Fe=c8(tt,n),F.backtrack=!0}if(Ee.comma!==!0&&Ee.dots!==!0){const Ye=F.output.slice(0,Ee.outputIndex),tt=F.tokens.slice(Ee.tokensIndex);Ee.value=Ee.output="\\{",B=Fe="\\}",F.output=Ye;for(const Ne of tt)F.output+=Ne.output||Ne.value}Be({type:"brace",value:B,output:Fe}),_e("braces"),re.pop();continue}if(B==="|"){Y.length>0&&Y[Y.length-1].conditions++,Be({type:"text",value:B});continue}if(B===","){let Ee=B;const Fe=re[re.length-1];Fe&&J[J.length-1]==="braces"&&(Fe.comma=!0,Ee="|"),Be({type:"comma",value:B,output:Ee});continue}if(B==="/"){if(V.type==="dot"&&F.index===F.start+1){F.start=F.index+1,F.consumed="",F.output="",l.pop(),V=s;continue}Be({type:"slash",value:B,output:v});continue}if(B==="."){if(F.braces>0&&V.type==="dot"){V.value==="."&&(V.output=g);const Ee=re[re.length-1];V.type="dots",V.output+=B,V.value+=B,Ee.dots=!0;continue}if(F.braces+F.parens===0&&V.type!=="bos"&&V.type!=="slash"){Be({type:"text",value:B,output:g});continue}Be({type:"dot",value:B,output:g});continue}if(B==="?"){if(!(V&&V.value==="(")&&n.noextglob!==!0&&Te()==="("&&Te(2)!=="?"){Oe("qmark",B);continue}if(V&&V.type==="paren"){const Fe=Te();let Ye=B;(V.value==="("&&!/[!=<:]/.test(Fe)||Fe==="<"&&!/<([!=]|\w+>)/.test(ae()))&&(Ye=`\\${B}`),Be({type:"text",value:B,output:Ye});continue}if(n.dot!==!0&&(V.type==="slash"||V.type==="bos")){Be({type:"qmark",value:B,output:M});continue}Be({type:"qmark",value:B,output:k});continue}if(B==="!"){if(n.noextglob!==!0&&Te()==="("&&(Te(2)!=="?"||!/[!=<:]/.test(Te(3)))){Oe("negate",B);continue}if(n.nonegate!==!0&&F.index===0){ve();continue}}if(B==="+"){if(n.noextglob!==!0&&Te()==="("&&Te(2)!=="?"){Oe("plus",B);continue}if(V&&V.value==="("||n.regex===!1){Be({type:"plus",value:B,output:m});continue}if(V&&(V.type==="bracket"||V.type==="paren"||V.type==="brace")||F.parens>0){Be({type:"plus",value:B});continue}Be({type:"plus",value:m});continue}if(B==="@"){if(n.noextglob!==!0&&Te()==="("&&Te(2)!=="?"){Be({type:"at",extglob:!0,value:B,output:""});continue}Be({type:"text",value:B});continue}if(B!=="*"){(B==="$"||B==="^")&&(B=`\\${B}`);const Ee=l8.exec(ae());Ee&&(B+=Ee[0],F.index+=Ee[0].length),Be({type:"text",value:B});continue}if(V&&(V.type==="globstar"||V.star===!0)){V.type="star",V.star=!0,V.value+=B,V.output=se,F.backtrack=!0,F.globstar=!0,N(B);continue}let oe=ae();if(n.noextglob!==!0&&/^\([^?]/.test(oe)){Oe("star",B);continue}if(V.type==="star"){if(n.noglobstar===!0){N(B);continue}const Ee=V.prev,Fe=Ee.prev,Ye=Ee.type==="slash"||Ee.type==="bos",tt=Fe&&(Fe.type==="star"||Fe.type==="globstar");if(n.bash===!0&&(!Ye||oe[0]&&oe[0]!=="/")){Be({type:"star",value:B,output:""});continue}const Ne=F.braces>0&&(Ee.type==="comma"||Ee.type==="brace"),Pt=Y.length&&(Ee.type==="pipe"||Ee.type==="paren");if(!Ye&&Ee.type!=="paren"&&!Ne&&!Pt){Be({type:"star",value:B,output:""});continue}for(;oe.slice(0,3)==="/**";){const Ht=e[F.index+4];if(Ht&&Ht!=="/")break;oe=oe.slice(3),N("/**",3)}if(Ee.type==="bos"&&Re()){V.type="globstar",V.value+=B,V.output=z(n),F.output=V.output,F.globstar=!0,N(B);continue}if(Ee.type==="slash"&&Ee.prev.type!=="bos"&&!tt&&Re()){F.output=F.output.slice(0,-(Ee.output+V.output).length),Ee.output=`(?:${Ee.output}`,V.type="globstar",V.output=z(n)+(n.strictSlashes?")":"|$)"),V.value+=B,F.globstar=!0,F.output+=Ee.output+V.output,N(B);continue}if(Ee.type==="slash"&&Ee.prev.type!=="bos"&&oe[0]==="/"){const Ht=oe[1]!==void 0?"|$":"";F.output=F.output.slice(0,-(Ee.output+V.output).length),Ee.output=`(?:${Ee.output}`,V.type="globstar",V.output=`${z(n)}${v}|${v}${Ht})`,V.value+=B,F.output+=Ee.output+V.output,F.globstar=!0,N(B+me()),Be({type:"slash",value:"/",output:""});continue}if(Ee.type==="bos"&&oe[0]==="/"){V.type="globstar",V.value+=B,V.output=`(?:^|${v}|${z(n)}${v})`,F.output=V.output,F.globstar=!0,N(B+me()),Be({type:"slash",value:"/",output:""});continue}F.output=F.output.slice(0,-V.output.length),V.type="globstar",V.output=z(n),V.value+=B,F.output+=V.output,F.globstar=!0,N(B);continue}const Se={type:"star",value:B,output:se};if(n.bash===!0){Se.output=".*?",(V.type==="bos"||V.type==="slash")&&(Se.output=Q+Se.output),Be(Se);continue}if(V&&(V.type==="bracket"||V.type==="paren")&&n.regex===!0){Se.output=B,Be(Se);continue}(F.index===F.start||V.type==="slash"||V.type==="dot")&&(V.type==="dot"?(F.output+=R,V.output+=R):n.dot===!0?(F.output+=S,V.output+=S):(F.output+=Q,V.output+=Q),Te()!=="*"&&(F.output+=x,V.output+=x)),Be(Se)}for(;F.brackets>0;){if(n.strictBrackets===!0)throw new SyntaxError(Qu("closing","]"));F.output=es.escapeLast(F.output,"["),_e("brackets")}for(;F.parens>0;){if(n.strictBrackets===!0)throw new SyntaxError(Qu("closing",")"));F.output=es.escapeLast(F.output,"("),_e("parens")}for(;F.braces>0;){if(n.strictBrackets===!0)throw new SyntaxError(Qu("closing","}"));F.output=es.escapeLast(F.output,"{"),_e("braces")}if(n.strictSlashes!==!0&&(V.type==="star"||V.type==="bracket")&&Be({type:"maybe_slash",value:"",output:`${v}?`}),F.backtrack===!0){F.output="";for(const oe of F.tokens)F.output+=oe.output!=null?oe.output:oe.value,oe.suffix&&(F.output+=oe.suffix)}return F};v0.fastpaths=(e,t)=>{const n={...t},r=typeof n.maxLength=="number"?Math.min(bg,n.maxLength):bg,i=e.length;if(i>r)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${r}`);e=wE[e]||e;const{DOT_LITERAL:s,SLASH_LITERAL:l,ONE_CHAR:u,DOTS_SLASH:c,NO_DOT:h,NO_DOTS:g,NO_DOTS_SLASH:m,STAR:v,START_ANCHOR:x}=xg.globChars(n.windows),w=n.dot?g:h,E=n.dot?m:h,R=n.capture?"":"?:",S={negated:!1,prefix:""};let k=n.bash===!0?".*?":v;n.capture&&(k=`(${k})`);const M=Q=>Q.noglobstar===!0?k:`(${R}(?:(?!${x}${Q.dot?c:s}).)*?)`,P=Q=>{switch(Q){case"*":return`${w}${u}${k}`;case".*":return`${s}${u}${k}`;case"*.*":return`${w}${k}${s}${u}${k}`;case"*/*":return`${w}${k}${l}${u}${E}${k}`;case"**":return w+M(n);case"**/*":return`(?:${w}${M(n)}${l})?${E}${u}${k}`;case"**/*.*":return`(?:${w}${M(n)}${l})?${E}${k}${s}${u}${k}`;case"**/.*":return`(?:${w}${M(n)}${l})?${s}${u}${k}`;default:{const $=/^(.*?)\.(\w+)$/.exec(Q);if(!$)return;const se=P($[1]);return se?se+s+$[2]:void 0}}},W=es.removePrefix(e,S);let z=P(W);return z&&n.strictSlashes!==!0&&(z+=`${l}?`),z};var f8=v0;const d8=s8,A0=f8,SE=$f,h8=Ag,p8=e=>e&&typeof e=="object"&&!Array.isArray(e),rr=(e,t,n=!1)=>{if(Array.isArray(e)){const g=e.map(v=>rr(v,t,n));return v=>{for(const x of g){const w=x(v);if(w)return w}return!1}}const r=p8(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!r)throw new TypeError("Expected pattern to be a non-empty string");const i=t||{},s=i.windows,l=r?rr.compileRe(e,t):rr.makeRe(e,t,!1,!0),u=l.state;delete l.state;let c=()=>!1;if(i.ignore){const g={...t,ignore:null,onMatch:null,onResult:null};c=rr(i.ignore,g,n)}const h=(g,m=!1)=>{const{isMatch:v,match:x,output:w}=rr.test(g,l,t,{glob:e,posix:s}),E={glob:e,state:u,regex:l,posix:s,input:g,output:w,match:x,isMatch:v};return typeof i.onResult=="function"&&i.onResult(E),v===!1?(E.isMatch=!1,m?E:!1):c(g)?(typeof i.onIgnore=="function"&&i.onIgnore(E),E.isMatch=!1,m?E:!1):(typeof i.onMatch=="function"&&i.onMatch(E),m?E:!0)};return n&&(h.state=u),h};rr.test=(e,t,n,{glob:r,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};const s=n||{},l=s.format||(i?SE.toPosixSlashes:null);let u=e===r,c=u&&l?l(e):e;return u===!1&&(c=l?l(e):e,u=c===r),(u===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?u=rr.matchBase(e,t,n,i):u=t.exec(c)),{isMatch:!!u,match:u,output:c}},rr.matchBase=(e,t,n)=>(t instanceof RegExp?t:rr.makeRe(t,n)).test(SE.basename(e)),rr.isMatch=(e,t,n)=>rr(t,n)(e),rr.parse=(e,t)=>Array.isArray(e)?e.map(n=>rr.parse(n,t)):A0(e,{...t,fastpaths:!1}),rr.scan=(e,t)=>d8(e,t),rr.compileRe=(e,t,n=!1,r=!1)=>{if(n===!0)return e.output;const i=t||{},s=i.contains?"":"^",l=i.contains?"":"$";let u=`${s}(?:${e.output})${l}`;e&&e.negated===!0&&(u=`^(?!${u}).*$`);const c=rr.toRegex(u,t);return r===!0&&(c.state=e),c},rr.makeRe=(e,t={},n=!1,r=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=A0.fastpaths(e,t)),i.output||(i=A0(e,t)),rr.compileRe(i,t,n,r)},rr.toRegex=(e,t)=>{try{const n=t||{};return new RegExp(e,n.flags||(n.nocase?"i":""))}catch(n){if(t&&t.debug===!0)throw n;return/$^/}},rr.constants=h8;var g8=rr;const CE=g8,m8=$f;function kE(e,t,n=!1){return t&&(t.windows===null||t.windows===void 0)&&(t={...t,windows:m8.isWindows()}),CE(e,t,n)}Object.assign(kE,CE);var y8=kE;const v8=Mn(y8);function IE(e,t){const n={dot:!0,contains:!0};return t.some(r=>{const i=r.replace(/\*/g,"**");return v8.isMatch(e,i,n)})}function EE(e,t){try{const n=r0.matchPattern(t,r0.presets.chrome);return n.valid&&n.match(e)}catch{return!1}}function A8(e,t){try{const n=e.urlMatchInclude&&e.urlMatchInclude.length>0&&EE(t,e.urlMatchInclude),r=e.urlInclude&&e.urlInclude.length>0&&IE(t,e.urlInclude),i=e.urlMatchExclude&&e.urlMatchExclude.length>0&&EE(t,e.urlMatchExclude),s=e.urlExclude&&e.urlExclude.length>0&&IE(t,e.urlExclude);return!!((n||r)&&!(i||s))}catch{return!1}}function x8(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b8(e,{capture:t=!1}={}){if(!e.value)return null;const n=e.caseSensitive?"g":"gi";try{const r=e.regex?e.value:x8(e.value);return new RegExp(t?`(${r})`:r,n)}catch{return null}}function wg(e,t){if(!t.value)return!0;const n=t.caseSensitive?"":"i";if(t.regex)try{return new RegExp(t.value,n).test(e)}catch{return!1}return t.caseSensitive?e.includes(t.value):e.toLowerCase().includes(t.value.toLowerCase())}function DE(e,t={}){const{name:n,host:r,code:i,enabled:s,currentUrl:l,limit:u=0}=t,c=e.filter(h=>{if(n&&!wg(h.name,n))return!1;if(r&&r.value){const g=h.urlMatchInclude||[];if(!(g.some(v=>wg(v,r))||g.includes("*://*/*")&&wg("all sites",r)))return!1}return!(i&&!wg(Fr(h),i)||l&&!A8({...h,enabled:!0},l)||s==="enabled"&&!h.enabled||s==="disabled"&&h.enabled)});return c.sort((h,g)=>new Date(g.updatedAt).getTime()-new Date(h.updatedAt).getTime()),u>0?c.slice(0,u):c}async function ME(e,t){try{const n=await Jo(),r=t.filter;let i;if(r!=null&&r.forCurrentPage){const u=await chrome.tabs.get(e.tabId);i=u==null?void 0:u.url}return{success:!0,result:DE(n,{name:r!=null&&r.name?{value:r.name,regex:!0}:void 0,host:r!=null&&r.host?{value:r.host,regex:!0}:void 0,code:r!=null&&r.code?{value:r.code,regex:!0}:void 0,enabled:r==null?void 0:r.enabled,currentUrl:i,limit:t.limit??5}).map(u=>{const c=t.verbose?Fr(u):"";return{id:u.id,name:u.name,commit:u.currentCommit||1,updatedAt:u.updatedAt,urlMatchInclude:u.urlMatchInclude||[],enabled:u.enabled,...t.verbose&&{hash:Uf(c),code:Fr(u,!0)}}})}}catch(n){const r=n.message;return{success:!1,error:r,result:{error:r}}}}async function w8(e,t,n){var r;try{const i=await HA(t,e.lastScriptId);if(typeof i=="object")return i;const s=i,u=(await Jo()).find(m=>m.id===s);if(!u){const m=`Script with ID "${s}" not found`;return{success:!1,error:m,result:{error:m}}}const c=Fr(u),h=await lg(e.tabId,"reExecute",s,c,(r=e.scriptRules)==null?void 0:r.chatScriptsTimeout,n,e.onUserScriptsRequest,{scriptId:s});if(!h.success){const m=`Re-execution failed: ${h.error}`;return Ts({success:!1,error:m,result:{error:m,scriptId:s},logs:h.logs,permissionIssue:h.permissionIssue||void 0},e.scriptRules)}e.setLastScriptId(s);const g={scriptId:s,name:u.name,commit:u.currentCommit,enabled:u.enabled,message:`Script "${u.name}" re-executed.`};return Ts({success:!0,result:g,logs:h.logs},e.scriptRules)}catch(i){const s=i.message;return{success:!1,error:s,result:{error:s}}}}const RE={introduction:"This is a screenshot of a web page. Describe what you see on the page, focusing on visual elements. The user/AI requested this screenshot because: ",defaultPrompt:"Describe this image that the user attached to their message. Focus on what appears relevant to a conversation about web page."};class S8{async describe(t){try{const n=await fetch(xl().vision,{method:"POST",headers:Lf(),body:JSON.stringify({image:t.image,prompt:t.prompt,conversationContext:t.conversationContext,traceId:t.traceId})});if(!n.ok){const i=await n.json();throw new Error(i.message||`HTTP ${n.status}: ${n.statusText}`)}const r=await n.json();return r.error?{description:"",error:r.error}:{description:r.description}}catch(n){return{description:"",error:n.message}}}}async function TE(e,t,n,r){const i=new S8,s=n.slice(-5).filter(h=>h.type!=="toolUse").map(h=>{const g=h.type==="userMessage"||h.type==="userImageMessage"?"user":"assistant",m="text"in h&&h.text||"";return`${g}: ${m}`}).join(`
`),l=t?`${RE.introduction}${t}`:RE.defaultPrompt,u=await i.describe({image:e,prompt:l,conversationContext:s,traceId:r});return u.error?{text:t,error:u.error}:{text:`Screenshot reason: ${t||"none provided"}
["Attached image description:" ${u.description}]`,imageDescription:u.description}}function x0(e,t,n,r){return{id:e,type:"toolUse",timestamp:new Date().toISOString(),eventIndex:n,toolEvent:{tool:"inspectImage",toolCallId:e,status:t,args:{},result:r!=null&&r.description?{description:r.description}:void 0,kind:"background"}}}async function C8(e,t,n,r,i,s){const l=`image_${Date.now()}`,u=i();await r(x0(l,"executing",u));const c=await TE(e,t,n,s);if(c.error)return await r(x0(l,"failed",u)),{error:c.error};const h=x0(l,"finished",u,{description:c.imageDescription});return await r(h),{aiMessageText:c.text}}async function k8(e,t,n){var s;return(((s=e.toolUsePermissions)==null?void 0:s.grabScreenshot)??"request")==="approved"?{approved:!0}:e.onScreenshotRequest?{approved:await e.onScreenshotRequest(t,n)}:{approved:!1,error:"Screenshot approval handler not configured"}}async function I8(e,t,n,r){try{const{approved:i,error:s}=await k8(e,t,n);if(s)return{success:!1,error:s,result:{error:s}};if(!i){const h="User denied screenshot request";return{success:!1,error:h,result:{error:h}}}const l=await chrome.tabs.captureVisibleTab({format:"png"}),u=await TE(l,t,r);return u.error?{success:!1,error:u.error,result:{error:u.error}}:{success:!0,result:{description:u.imageDescription||u.text||""}}}catch(i){const s=i.message;return{success:!1,error:s,result:{error:s}}}}const E8=new Set(["id","timestamp","conversationId","retrievalId"]);function OE(e,t){const n=e.type==="toolUse"&&e.toolEvent.tool==="retrieveChatHistory";function r(i,s){if(i==null)return!1;if(typeof i=="string")return t(i);if(typeof i=="number"||typeof i=="boolean")return t(String(i));if(Array.isArray(i)){for(const l of i)if(r(l,s))return!0;return!1}if(typeof i=="object"){for(const[l,u]of Object.entries(i))if(!(s&&l==="result")&&r(u,!1))return!0}return!1}for(const[i,s]of Object.entries(e))if(!E8.has(i)){if(i==="toolEvent"&&n){if(r(s,!0))return!0}else if(r(s,!1))return!0}return!1}function D8(e){const t=[];for(const n of e)if(t.push(n),n.type==="toolUse"&&n.toolEvent.tool==="retrieveChatHistory"){const r=n.toolEvent.result;if(Array.isArray(r))for(const i of r)t.push(i)}return t}function M8(e,t,n){if(!t.searchText)return[];let r;if(t.searchType==="regex")try{const m=new RegExp(t.searchText,"i");r=v=>m.test(v)}catch{return[]}else{const m=t.searchText.toLowerCase();r=v=>v.toLowerCase().includes(m)}const i=t.recursive?D8(e):e,s=t.depthLimit&&t.depthLimit>0?Math.max(0,i.length-t.depthLimit):0,l=t.lastN;let u;if(l!==void 0)if(l===0)u=[];else{const m=[];for(let v=i.length-1;v>=s;v--){const x=i[v];if(x&&OE(x,r)&&(m.push(v),m.length>=l))break}u=m.reverse()}else{u=[];for(let m=s;m<i.length;m++){const v=i[m];v&&OE(v,r)&&u.push(m)}}const c=t.window??0;if(u.length===0)return[];const h=[];for(const m of u){const v=Math.max(0,m-c),x=Math.min(i.length-1,m+c),w=h[h.length-1];w&&v<=w[1]+1?w[1]=Math.max(w[1],x):h.push([v,x])}const g=[];for(const[m,v]of h)for(let x=m;x<=v;x++){const w=i[x];w&&g.push({...w,retrievalId:n})}return g}class LE{constructor(t,n,r){mr(this,"tabId");mr(this,"lastScriptId",null);mr(this,"onScreenshotRequest");mr(this,"onUserScriptsRequest");this.tabId=t,this.onScreenshotRequest=n,this.onUserScriptsRequest=r}async execute(t,n=[],r,i){var l;const s=performance.now();if(t.argsValidationError){const u=Math.round(performance.now()-s),c=t.rawArguments?`. Raw arguments: ${t.rawArguments}`:"",h=`Tool argument error: ${t.argsValidationError}${c}`;return{name:t.tool,toolCallId:t.id,success:!1,result:{error:h},error:h,executionMs:u}}if((l=r==null?void 0:r.forbiddenToolText)!=null&&l.enabled){const u=JSON.stringify(t.args),c=FA(u,r.forbiddenToolText,"Tool arguments");if(!c.passed){const h=Math.round(performance.now()-s);return{name:t.tool,toolCallId:t.id,success:!1,result:{error:c.error},error:c.error,executionMs:h}}}try{const u=await this.executeInternal(t,n,r,i),c=Math.round(performance.now()-s);return{...u,name:t.tool,toolCallId:t.id,executionMs:c}}catch(u){const c=Math.round(performance.now()-s);return console.error("[QuillMonkey ToolExecutor] Tool exception:",t.tool,u),{name:t.tool,toolCallId:t.id,success:!1,result:{error:u.message},error:u.message,executionMs:c}}}async executeInternal(t,n,r,i){const s=t.tool;if(i&&s!=="grabScreenshot"&&s in i&&i[s]==="request")return{success:!1,error:`Permission required to use ${t.tool}`,permissionIssue:"PERMISSION_REQUIRED"};const l=t.args,u={tabId:this.tabId,lastScriptId:this.lastScriptId,setLastScriptId:c=>{this.lastScriptId=c},onScreenshotRequest:this.onScreenshotRequest,onUserScriptsRequest:this.onUserScriptsRequest,scriptRules:r,toolUsePermissions:i};if(t.tool==="writeNew"){const c=l.name,h=l.code,g=l.category||"new-script",m=l.scope,v=l.matchPatterns;return nE(u,c,h,g,m,v,t.id)}return t.tool==="update"?mj(u,l.scriptId,{codeHash:l.codeHash,code:l.code,name:l.name,enabled:l.enabled,scope:l.scope,matchPatterns:l.matchPatterns,range:l.range},t.id):t.tool==="append"?yj(u,l.scriptId,l.code,t.id):t.tool==="analyzePage"?AI(u,l.expression,t.id):t.tool==="fetchPage"?tE(u,l.prompt,l.mode,t.id):t.tool==="reExecute"?w8(u,l.scriptId,t.id):t.tool==="listScripts"?ME(u,l):t.tool==="grabScreenshot"?I8(u,l.reason,t.id,n):t.tool==="retrieveChatHistory"?{success:!0,result:M8(n,{searchText:l.searchText,searchType:l.searchType,depthLimit:l.depthLimit,lastN:l.lastN,window:l.window},t.id)}:{success:!0,result:t.result??{}}}async executeAll(t,n,r){return Promise.all(t.map(i=>this.execute(i,[],n,r)))}}class R8{constructor(t,n,r){mr(this,"lastMessageCount",0);mr(this,"hasSentFullContext",!1);mr(this,"activeAbortController",null);mr(this,"totalContextSize");this.conversationId=t,this.model=n,this.options=r}setModel(t){this.model=t}abortCurrent(){this.activeAbortController&&(this.activeAbortController.abort(),this.activeAbortController=null)}async callStreaming(t,n){return this.callStreamingWithRetry(t,n,!1)}async callStreamingWithRetry(t,n,r){var c;const i=this.buildRequestBody(t,r),s=Lf();(c=this.options)!=null&&c.mockPath&&(s["X-Mock-Path"]=this.options.mockPath);const l=new AbortController;this.activeAbortController=l;const u=()=>{this.activeAbortController===l&&(this.activeAbortController=null)};try{const h=await fetch(xl().chat,{method:"POST",headers:s,body:JSON.stringify(i),signal:l.signal});if(!h.ok){const R=await h.json().catch(()=>({}));if(R.requiresFullContext&&!r)return this.hasSentFullContext=!1,u(),this.callStreamingWithRetry(t,n,!0);const S=R.message||`HTTP ${h.status}`;return n({type:"error",error:S}),u(),{stopReason:"error",error:S,errorCode:R.code}}if(!h.body){const R="No response body for streaming";return n({type:"error",error:R}),u(),{stopReason:"error",error:R}}const g=h.body.getReader(),m=new TextDecoder;let v="",x=null,w;for(;;){const{done:R,value:S}=await g.read();if(R)break;v+=m.decode(S,{stream:!0});const k=v.split(`
`);v=k.pop()||"";for(const M of k){const P=M.trim();if(!P||!P.startsWith("data: "))continue;const W=JSON.parse(P.slice(6));n(W),W.type==="start"&&W.traceId&&(w=W.traceId),W.type==="done"&&W.response&&(x=W.response)}}const E=x||{stopReason:"end_turn"};return w&&(E.traceId=w),(x==null?void 0:x.totalContextSize)!=null&&(this.totalContextSize=x.totalContextSize),u(),E}catch(h){u();const g=h;if(g.name==="AbortError"||g.message.toLowerCase().includes("abort"))return{stopReason:"end_turn",stoppedByUser:!0};const v=g.message;return n({type:"error",error:v}),{stopReason:"error",error:v}}}buildRequestBody(t,n){const r=t.messages.slice(this.lastMessageCount);if(!this.hasSentFullContext||n||r.length===0){this.hasSentFullContext=!0,this.lastMessageCount=t.messages.length;const l=t.firstInCtxMsgIdx??0,u=l>0?t.messages.slice(l):t.messages;return{conversationId:this.conversationId,messages:u,maxTokens:t.maxTokens,model:this.model,totalContextSize:this.totalContextSize}}this.lastMessageCount=t.messages.length;const s=r.filter(l=>!(l.type==="aiMessage"||l.type==="thinking"||l.type==="toolUse"&&l.toolEvent.status!=="finished"&&l.toolEvent.status!=="failed"));return{conversationId:this.conversationId,newMessages:s,maxTokens:t.maxTokens,model:this.model,totalContextSize:this.totalContextSize}}}class T8{constructor(t,n){mr(this,"provider");mr(this,"config");mr(this,"toolExecutor");this.provider=t,this.config=n,this.toolExecutor=new LE(n.tabId,n.onScreenshotRequest,n.onUserScriptsRequest)}getToolExecutor(){return this.toolExecutor}async run(t){const{getMessages:n,onStatus:r,onToolEvent:i,onStreaming:s,onScriptTitle:l,signal:u,scriptRules:c,toolUsePermissions:h,onPermissionRequest:g,firstInCtxMsgIdx:m}=t,v=[],x={iterations:0,firstInCtxMsgIdx:m};function w(E){return{success:!0,finalResponse:E,toolsUsed:v,...x,stoppedByUser:!0}}for(;x.iterations<this.config.maxIterations;){if(x.iterations++,u.aborted)return w();r({iteration:x.iterations,status:"thinking"});const E=await n(),R=await this.callLLM(E,s,x.firstInCtxMsgIdx);if(R.stopReason==="end_turn"&&R.stoppedByUser)return w(R.textContent);if(x.usedModel=R.usedModel??x.usedModel,x.traceId=R.traceId??x.traceId,x.totalContextSize=R.totalContextSize??x.totalContextSize,x.firstInCtxMsgIdx=R.firstInCtxMsgIdx??x.firstInCtxMsgIdx,R.messageTokenCounts&&s.onResponseComplete(R.messageTokenCounts),R.stopReason==="error")return r({iteration:x.iterations,status:"error"}),{success:!1,error:R.error,errorCode:R.errorCode,toolsUsed:v,...x};if(u.aborted)return r({iteration:x.iterations,status:"complete",partialResponse:R.textContent}),w(R.textContent);if(R.stopReason!=="tool_use"||!R.toolCalls.length)return r({iteration:x.iterations,status:"complete",partialResponse:R.textContent}),{success:!0,finalResponse:R.textContent,toolsUsed:v,...x};r({iteration:x.iterations,status:"calling_tools",toolCalls:R.toolCalls,partialResponse:R.textContent});for(const k of R.toolCalls)v.includes(k.tool)||v.push(k.tool);if(u.aborted)return r({iteration:x.iterations,status:"complete",partialResponse:R.textContent}),w(R.textContent);const S=await this.executeToolCalls(E,R.toolCalls,{onToolEvent:i,scriptRules:c,toolUsePermissions:h,onScriptTitle:l,onPermissionRequest:g});if(S.permissionError)return r({iteration:x.iterations,status:"error"}),{success:!1,error:S.permissionError,toolsUsed:v,...x};if(u.aborted)return r({iteration:x.iterations,status:"complete",partialResponse:R.textContent}),w(R.textContent)}return r==null||r({iteration:x.iterations,status:"error"}),{success:!1,error:`Max iterations (${this.config.maxIterations}) reached without completion`,toolsUsed:v,...x}}async callLLM(t,n,r){try{const i=new Map;return await this.provider.callStreaming({messages:t,firstInCtxMsgIdx:r},s=>{var l,u;if(s.type==="thinking_delta"&&s.thinkingDelta)n.onThinkingDelta(s.thinkingDelta);else if(s.type==="text_delta"&&s.textDelta)n.onTextDelta(s.textDelta);else if(s.type==="tool_use_start"&&((l=s.toolCallDelta)!=null&&l.tool))i.set(s.toolCallDelta.id,""),n.onToolStart({id:s.toolCallDelta.id,tool:s.toolCallDelta.tool});else if(s.type==="tool_use_delta"&&((u=s.toolCallDelta)!=null&&u.argumentsDelta)){const c=s.toolCallDelta.id,g=(i.get(c)||"")+s.toolCallDelta.argumentsDelta;i.set(c,g),n.onToolDelta(c,g)}})}catch(i){return{stopReason:"error",error:i.message}}}async executeToolCalls(t,n,r){const{onToolEvent:i,scriptRules:s,toolUsePermissions:l,onScriptTitle:u,onPermissionRequest:c}=r;for(const m of n)await i({tool:m.tool,toolCallId:m.id,status:"executing",args:m.args,kind:"ai_tool"});const h=await Promise.all(n.map(m=>this.toolExecutor.execute(m,t,s,l)));for(const[m,v]of n.entries()){const x=h[m];x&&await i({tool:v.tool,toolCallId:v.id,status:x.success?"finished":"failed",args:v.args,result:x.success?x.result:x.result??{error:x.error},logs:x.logs,kind:"ai_tool"})}if(u){const m=h.find(v=>v.success&&v.name==="writeNew");if(m!=null&&m.success){const v=m.result.name;v&&u(v)}}const g=h.find(m=>m.permissionIssue);if(g){if(c){for(const[m,v]of h.entries())if(v.permissionIssue==="PERMISSION_REQUIRED"){const x=n[m];x&&c(x.id,x.tool,x.args)}}return{results:h,permissionError:`Permission required: ${g.permissionIssue}`}}return{results:h}}}class O8{constructor(){mr(this,"orchestrators",new Map);mr(this,"screenshotResolvers",new Map);mr(this,"messageHandlers",new Map);mr(this,"eventCounters",new Map)}syncEventCounter(t,n){n>(this.eventCounters.get(t)??0)&&this.eventCounters.set(t,n)}getNextEventIndex(t){const n=this.eventCounters.get(t)??0;return this.eventCounters.set(t,n+1),n}getOrCreateOrchestrator(t,n,r){const i=this.orchestrators.get(t);if(i)return i.provider.setModel(n),i;const s=new R8(t,n),u={orchestrator:new T8(s,{...r,onScreenshotRequest:this.createScreenshotRequestCallback(t)}),provider:s,conversationId:t,isRunning:!1,currentStreamingMessageId:null};return this.orchestrators.set(t,u),u}getToolExecutor(t){var n;return(n=this.orchestrators.get(t))==null?void 0:n.orchestrator.getToolExecutor()}requestStop(t){const n=this.orchestrators.get(t);return!n||!n.isRunning?!1:(n.provider.abortCurrent(),!0)}onRunComplete(t){this.messageHandlers.delete(t);const n=[];for(const[r,i]of this.orchestrators)!i.isRunning&&r!==t&&n.push(r);for(const r of n)this.orchestrators.delete(r),this.eventCounters.delete(r)}resolveScreenshot(t,n){const r=this.screenshotResolvers.get(t);r&&(r(n),this.screenshotResolvers.delete(t))}setMessageHandlers(t,n){this.messageHandlers.set(t,n)}createScreenshotRequestCallback(t){return async(n,r)=>{const i=this.messageHandlers.get(t);if(!i)return!1;const s=await i.findMessage(l=>l.type==="toolUse"&&l.toolEvent.toolCallId===r);if(s&&s.type==="toolUse"){const l={...s,toolEvent:{...s.toolEvent,screenshotRequest:{reason:n,status:"pending"}}};await i.saveMessage(l)}else await i.saveMessage({id:`tool_${r}`,type:"toolUse",timestamp:new Date().toISOString(),eventIndex:this.getNextEventIndex(t),toolEvent:{tool:"grabScreenshot",toolCallId:r,status:"executing",args:{reason:n},screenshotRequest:{reason:n,status:"pending"},kind:"ai_tool"}});return new Promise(l=>{this.screenshotResolvers.set(r,l)})}}}function PE(e,t,n){return{id:`tool_${e.toolCallId}`,type:"toolUse",timestamp:new Date().toISOString(),tabId:t,eventIndex:n,toolEvent:e}}function L8(e){const t=H.useRef(new O8),[n,r]=H.useState(new Set),i=H.useRef(new Map),s=H.useCallback((g,m)=>{t.current.resolveScreenshot(g,m)},[]),l=H.useCallback(async(g,m,v,x)=>{if(e.tabId===null)return{success:!1,error:"No active tab"};t.current.setMessageHandlers(v.conversationId,v);const w=t.current.getToolExecutor(v.conversationId)??new LE(e.tabId,void 0,e.onUserScriptsRequest),E={id:x,tool:g,args:m};try{const R=await w.execute(E,[],e.scriptRules);return t.current.onRunComplete(v.conversationId),R}catch(R){throw t.current.onRunComplete(v.conversationId),R}},[e.tabId,e.scriptRules,e.onUserScriptsRequest]),u=H.useCallback(g=>{var v;return t.current.requestStop(g)?((v=i.current.get(g))==null||v.abort(),!0):!1},[]),c=H.useCallback(async(g,m,v,x,w,E)=>{const{conversationId:R}=m;if(e.tabId===null)return{success:!1,error:"No active tab",iterations:0,toolsUsed:[],firstInCtxMsgIdx:0};const S=new AbortController;i.current.set(R,S);const k=()=>S.signal.aborted,M={...m,saveMessage:async N=>{k()||await m.saveMessage(N)}};t.current.setMessageHandlers(R,M);const P=t.current.getOrCreateOrchestrator(R,g,{tabId:e.tabId,maxIterations:e.maxIterations||50,onUserScriptsRequest:e.onUserScriptsRequest}),{orchestrator:W}=P,z=await v();t.current.syncEventCounter(R,z.length),P.isRunning=!0,P.currentStreamingMessageId=null,r(N=>new Set([...N,R])),m.updateAgentState({isRunning:!0});let Q="",$=null,se=null,F=null;const Y=new Set,re=await v();let J=null;for(let N=re.length-1;N>=0;N--){const de=re[N];if((de==null?void 0:de.type)==="userMessage"||(de==null?void 0:de.type)==="userImageMessage"){J=de.id;break}}const V=N=>{m.updateAgentState({isRunning:N.status!=="complete"&&N.status!=="error"})},B=async N=>{var ve;if(k()||N.tool==="grabScreenshot"&&((ve=N.screenshotRequest)==null?void 0:ve.status)==="pending")return;const de=await m.findMessage(G=>G.type==="toolUse"&&G.toolEvent.toolCallId===N.toolCallId);if(de&&de.type==="toolUse"){const G={...de,toolEvent:{...N,incomingTokensCount:de.toolEvent.incomingTokensCount}};await m.saveMessage(G)}else{const G=PE(N,e.tabId,t.current.getNextEventIndex(R));await m.saveMessage(G)}},Re=()=>{if(se){const N=Date.now()-se.startTime;m.saveMessage({id:se.id,type:"thinking",status:"done",durationMs:N,text:se.text||void 0,timestamp:new Date().toISOString(),tabId:e.tabId,eventIndex:se.eventIndex}),se=null}},Te={onThinkingDelta:N=>{if(!k()){if(!se){const de=t.current.getNextEventIndex(R);se={id:`thinking_${R}_${Date.now()}`,startTime:Date.now(),text:"",eventIndex:de},m.saveMessage({id:se.id,type:"thinking",status:"active",timestamp:new Date().toISOString(),tabId:e.tabId,eventIndex:de})}se.text+=N,m.updateAgentState({isRunning:!0,isThinking:!0})}},onTextDelta:N=>{if(k())return;if(Re(),Q+=N,!P.currentStreamingMessageId){const ve=`ai_${R}_stream_${Date.now()}`;P.currentStreamingMessageId=ve,$=ve,F=t.current.getNextEventIndex(R),m.updateAgentState({isRunning:!0,isStreaming:!0,isThinking:!1})}const de={id:P.currentStreamingMessageId,type:"aiMessage",text:Q,timestamp:new Date().toISOString(),tabId:e.tabId,eventIndex:F??0};m.saveMessage(de)},onToolStart:N=>{if(k())return;Re(),Q="",P.currentStreamingMessageId=null,m.updateAgentState({isRunning:!0,isStreaming:!1,isThinking:!1}),Y.add(N.id),F=null;const de=PE({tool:N.tool,toolCallId:N.id,status:"streaming",args:{},kind:"ai_tool"},e.tabId,t.current.getNextEventIndex(R));m.saveMessage(de)},onToolDelta:(N,de)=>{if(k())return;const ve=Math.round(de.length/4);m.getMessage(`tool_${N}`).then(G=>{G&&G.type==="toolUse"&&m.saveMessage({...G,toolEvent:{...G.toolEvent,incomingTokensCount:ve}})})},onResponseComplete:async N=>{if(!k())for(const[de,ve]of Object.entries(N)){let G=null;if(de==="completion"?G=$:de==="user"?G=J:G=`tool_${de}`,!G)continue;const _e=await m.getMessage(G);_e&&_e.tokenCount==null&&await m.saveMessage({..._e,tokenCount:ve})}}},me=()=>{Re(),P.isRunning=!1,P.currentStreamingMessageId=null,r(N=>{const de=new Set(N);return de.delete(R),de}),i.current.delete(R),m.updateAgentState(void 0),t.current.onRunComplete(R)},ae=async()=>{if(Y.size!==0)for(const N of Y){const de=await m.findMessage(ve=>ve.type==="toolUse"&&ve.toolEvent.toolCallId===N);!de||de.type!=="toolUse"||de.toolEvent.status==="finished"||de.toolEvent.status==="failed"||await m.saveMessage({...de,toolEvent:{...de.toolEvent,status:"failed",result:{error:"Stopped by user"}}})}};try{const N=await W.run({getMessages:v,onStatus:V,onToolEvent:B,onStreaming:Te,onScriptTitle:w,signal:S.signal,scriptRules:e.scriptRules,toolUsePermissions:e.toolUsePermissions,onPermissionRequest:e.onPermissionRequest,firstInCtxMsgIdx:E});N.usedModel&&N.usedModel!==g&&x&&x(N.usedModel);const de=N.stoppedByUser||S.signal.aborted;return de&&await ae(),me(),{...N,stoppedByUser:de}}catch(N){throw me(),N}},[e.tabId,e.maxIterations,e.scriptRules,e.toolUsePermissions,e.onUserScriptsRequest,e.onPermissionRequest]),h=H.useCallback(g=>n.has(g),[n]);return{agentRegistry:t.current,runAgent:c,resolveScreenshot:s,retryAfterUserScriptsApproved:l,isConversationRunning:h,runningConversations:n,requestStop:u}}function P8(e,t,n){var r,i;typeof e=="function"?(r=t||[],i=n):(r=[],i=t);var s=tr.useRef({hasResult:!1,result:i,error:null}),l=tr.useReducer(function(h){return h+1},0);l[0];var u=l[1],c=tr.useMemo(function(){var h=typeof e=="function"?e():e;if(!h||typeof h.subscribe!="function")throw e===h?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof h.hasValue!="function"||h.hasValue()))if(typeof h.getValue=="function")s.current.result=h.getValue(),s.current.hasResult=!0;else{var g=h.subscribe(function(m){s.current.result=m,s.current.hasResult=!0});typeof g=="function"?g():g.unsubscribe()}return h},r);if(tr.useDebugValue(s.current.result),tr.useEffect(function(){var h=c.subscribe(function(g){var m=s.current;(m.error!==null||m.result!==g)&&(m.error=null,m.result=g,m.hasResult=!0,u())},function(g){var m=s.current;m.error!==g&&(m.error=g,u())});return typeof h=="function"?h:h.unsubscribe.bind(h)},r),s.current.error)throw s.current.error;return s.current.result}function FE(e,t,n){return P8(function(){return Hu.liveQuery(e)},t||[],n)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(e){var t=Hu.DexieYProvider;t&&t.release(e)});function F8(e){const{currentConversationId:t,persistMetadata:n}=e,r=FE(async()=>t?await Ct.messages.where("conversationId").equals(t).sortBy("timestamp"):[],[t],[])??[],i=H.useCallback(async(g,m)=>{try{await Ct.messages.put({...m,conversationId:g});const v=await Ct.searchIndex.get(g),x="text"in m&&m.text||"",w=((v==null?void 0:v.searchText)||"")+" "+x;await Ct.searchIndex.put({conversationId:g,searchText:w});const E=m.type==="userMessage"||m.type==="userImageMessage";await n(g,x,E)}catch(v){console.error("Error saving message to conversation:",v)}},[n]),s=H.useCallback(async(g,m)=>{await Ct.messages.delete([g,m])},[]),l=H.useCallback(async(g,m)=>{const x=(await Ct.messages.where("conversationId").equals(g).toArray()).filter(w=>m(w));await Ct.messages.bulkDelete(x.map(w=>[g,w.id]))},[]),u=H.useCallback(async(g,m)=>{const v=await Ct.messages.get([g,m]);if(v)return v},[]),c=H.useCallback(async(g,m)=>{const x=(await Ct.messages.where("conversationId").equals(g).toArray()).find(w=>m(w));if(x)return x},[]),h=H.useCallback(async g=>{try{return await Ct.messages.where("conversationId").equals(g).sortBy("timestamp")}catch(m){return console.error("Error loading conversation messages:",m),[]}},[]);return{currentConversationMessages:r,persistMessage:i,deleteMessage:s,deleteMessageWhere:l,getMessage:u,findMessage:c,loadConversationMessages:h}}function B8(){var t;const e=((t=document.body)==null?void 0:t.innerText)||"";return{url:window.location.href,title:document.title||"",totalTextLength:e.length,imageCount:document.querySelectorAll("img").length,buttonCount:document.querySelectorAll('button, [role="button"], input[type="button"], input[type="submit"]').length,linkCount:document.querySelectorAll("a[href]").length,formCount:document.querySelectorAll("form").length,inputCount:document.querySelectorAll("input, textarea, select, [contenteditable]").length}}function N8(e){return e>=1e3?`~${Math.round(e/1e3).toLocaleString()}k chars`:`${e} chars`}async function Sg(e){var t;try{const n=await chrome.scripting.executeScript({target:{tabId:e},func:B8}),r=(t=n==null?void 0:n[0])==null?void 0:t.result;if(!r)return null;let i=r.url;try{i=new URL(r.url).hostname}catch{}const s=`Text: ${N8(r.totalTextLength)} | Images: ${r.imageCount} | Buttons: ${r.buttonCount} | Links: ${r.linkCount} | Forms: ${r.formCount} | Inputs: ${r.inputCount}`;return{text:[`Title: ${r.title||"(no title)"}`,`URL: ${r.url}`,s].join(`
`),hostname:i,url:r.url}}catch(n){return console.error("Failed to gather page context:",n),null}}function _8({currentTabId:e,currentConversationId:t,persistMessage:n,getNextEventIndex:r}){const i=H.useRef(null),s=H.useCallback(async l=>{if(!t||i.current===l.url)return;i.current=l.url;const u={id:`context_${Date.now()}`,type:"pageContext",text:l.text,timestamp:new Date().toISOString(),tabId:e,hostname:l.hostname,eventIndex:r()};await n(t,u)},[e,t,n,r]);H.useEffect(()=>{var h,g;if(!e||!((h=chrome==null?void 0:chrome.tabs)!=null&&h.onUpdated)||!((g=chrome==null?void 0:chrome.webNavigation)!=null&&g.onHistoryStateUpdated))return;const l=async(m,v)=>{if(m!==e||!v.url)return;const x=await Sg(e);x&&await s(x)},u=async m=>{if(m.tabId!==e||m.frameId!==0)return;const v=await Sg(e);v&&await s(v)},c=async m=>{var v;if(!(m.tabId!==e||m.frameId!==0)&&m.transitionType!=="auto_subframe"&&(v=m.transitionQualifiers)!=null&&v.includes("forward_back")){const x=await Sg(e);x&&await s(x)}};return chrome.tabs.onUpdated.addListener(l),chrome.webNavigation.onHistoryStateUpdated.addListener(u),chrome.webNavigation.onCommitted.addListener(c),()=>{chrome.tabs.onUpdated.removeListener(l),chrome.webNavigation.onHistoryStateUpdated.removeListener(u),chrome.webNavigation.onCommitted.removeListener(c)}},[e,s]),H.useEffect(()=>{i.current=null},[t])}function _G(){}function jG(){}function BE(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const l=n.slice(i,r).trim();(l||!s)&&t.push(l),i=r+1,r=n.indexOf(",",i)}return t}function j8(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const z8=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,H8=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,U8={};function NE(e,t){return(U8.jsx?H8:z8).test(e)}const W8=/[ \t\n\f\r]/g;function K8(e){return typeof e=="object"?e.type==="text"?_E(e.value):!1:_E(e)}function _E(e){return e.replace(W8,"")===""}class Vf{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Vf.prototype.normal={},Vf.prototype.property={},Vf.prototype.space=void 0;function jE(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Vf(n,r,t)}function Yf(e){return e.toLowerCase()}class Li{constructor(t,n){this.attribute=n,this.property=t}}Li.prototype.attribute="",Li.prototype.booleanish=!1,Li.prototype.boolean=!1,Li.prototype.commaOrSpaceSeparated=!1,Li.prototype.commaSeparated=!1,Li.prototype.defined=!1,Li.prototype.mustUseProperty=!1,Li.prototype.number=!1,Li.prototype.overloadedBoolean=!1,Li.prototype.property="",Li.prototype.spaceSeparated=!1,Li.prototype.space=void 0;let Q8=0;const zt=Dl(),cr=Dl(),b0=Dl(),Ge=Dl(),In=Dl(),$u=Dl(),Xi=Dl();function Dl(){return 2**++Q8}const w0=Object.freeze(Object.defineProperty({__proto__:null,boolean:zt,booleanish:cr,commaOrSpaceSeparated:Xi,commaSeparated:$u,number:Ge,overloadedBoolean:b0,spaceSeparated:In},Symbol.toStringTag,{value:"Module"})),S0=Object.keys(w0);class C0 extends Li{constructor(t,n,r,i){let s=-1;if(super(t,n),zE(this,"space",i),typeof r=="number")for(;++s<S0.length;){const l=S0[s];zE(this,S0[s],(r&w0[l])===w0[l])}}}C0.prototype.defined=!0;function zE(e,t,n){n&&(e[t]=n)}function Gu(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new C0(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Yf(r)]=r,n[Yf(s.attribute)]=r}return new Vf(t,n,e.space)}const HE=Gu({properties:{ariaActiveDescendant:null,ariaAtomic:cr,ariaAutoComplete:null,ariaBusy:cr,ariaChecked:cr,ariaColCount:Ge,ariaColIndex:Ge,ariaColSpan:Ge,ariaControls:In,ariaCurrent:null,ariaDescribedBy:In,ariaDetails:null,ariaDisabled:cr,ariaDropEffect:In,ariaErrorMessage:null,ariaExpanded:cr,ariaFlowTo:In,ariaGrabbed:cr,ariaHasPopup:null,ariaHidden:cr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:In,ariaLevel:Ge,ariaLive:null,ariaModal:cr,ariaMultiLine:cr,ariaMultiSelectable:cr,ariaOrientation:null,ariaOwns:In,ariaPlaceholder:null,ariaPosInSet:Ge,ariaPressed:cr,ariaReadOnly:cr,ariaRelevant:null,ariaRequired:cr,ariaRoleDescription:In,ariaRowCount:Ge,ariaRowIndex:Ge,ariaRowSpan:Ge,ariaSelected:cr,ariaSetSize:Ge,ariaSort:null,ariaValueMax:Ge,ariaValueMin:Ge,ariaValueNow:Ge,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function UE(e,t){return t in e?e[t]:t}function WE(e,t){return UE(e,t.toLowerCase())}const $8=Gu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:$u,acceptCharset:In,accessKey:In,action:null,allow:null,allowFullScreen:zt,allowPaymentRequest:zt,allowUserMedia:zt,alt:null,as:null,async:zt,autoCapitalize:null,autoComplete:In,autoFocus:zt,autoPlay:zt,blocking:In,capture:null,charSet:null,checked:zt,cite:null,className:In,cols:Ge,colSpan:null,content:null,contentEditable:cr,controls:zt,controlsList:In,coords:Ge|$u,crossOrigin:null,data:null,dateTime:null,decoding:null,default:zt,defer:zt,dir:null,dirName:null,disabled:zt,download:b0,draggable:cr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:zt,formTarget:null,headers:In,height:Ge,hidden:b0,high:Ge,href:null,hrefLang:null,htmlFor:In,httpEquiv:In,id:null,imageSizes:null,imageSrcSet:null,inert:zt,inputMode:null,integrity:null,is:null,isMap:zt,itemId:null,itemProp:In,itemRef:In,itemScope:zt,itemType:In,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:zt,low:Ge,manifest:null,max:null,maxLength:Ge,media:null,method:null,min:null,minLength:Ge,multiple:zt,muted:zt,name:null,nonce:null,noModule:zt,noValidate:zt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:zt,optimum:Ge,pattern:null,ping:In,placeholder:null,playsInline:zt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:zt,referrerPolicy:null,rel:In,required:zt,reversed:zt,rows:Ge,rowSpan:Ge,sandbox:In,scope:null,scoped:zt,seamless:zt,selected:zt,shadowRootClonable:zt,shadowRootDelegatesFocus:zt,shadowRootMode:null,shape:null,size:Ge,sizes:null,slot:null,span:Ge,spellCheck:cr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ge,step:null,style:null,tabIndex:Ge,target:null,title:null,translate:null,type:null,typeMustMatch:zt,useMap:null,value:cr,width:Ge,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:In,axis:null,background:null,bgColor:null,border:Ge,borderColor:null,bottomMargin:Ge,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:zt,declare:zt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ge,leftMargin:Ge,link:null,longDesc:null,lowSrc:null,marginHeight:Ge,marginWidth:Ge,noResize:zt,noHref:zt,noShade:zt,noWrap:zt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ge,rules:null,scheme:null,scrolling:cr,standby:null,summary:null,text:null,topMargin:Ge,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ge,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:zt,disableRemotePlayback:zt,prefix:null,property:null,results:Ge,security:null,unselectable:null},space:"html",transform:WE}),G8=Gu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Xi,accentHeight:Ge,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ge,amplitude:Ge,arabicForm:null,ascent:Ge,attributeName:null,attributeType:null,azimuth:Ge,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ge,by:null,calcMode:null,capHeight:Ge,className:In,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ge,diffuseConstant:Ge,direction:null,display:null,dur:null,divisor:Ge,dominantBaseline:null,download:zt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ge,enableBackground:null,end:null,event:null,exponent:Ge,externalResourcesRequired:null,fill:null,fillOpacity:Ge,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:$u,g2:$u,glyphName:$u,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ge,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ge,horizOriginX:Ge,horizOriginY:Ge,id:null,ideographic:Ge,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ge,k:Ge,k1:Ge,k2:Ge,k3:Ge,k4:Ge,kernelMatrix:Xi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ge,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ge,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ge,overlineThickness:Ge,paintOrder:null,panose1:null,path:null,pathLength:Ge,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:In,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ge,pointsAtY:Ge,pointsAtZ:Ge,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Xi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Xi,rev:Xi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Xi,requiredFeatures:Xi,requiredFonts:Xi,requiredFormats:Xi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ge,specularExponent:Ge,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ge,strikethroughThickness:Ge,string:null,stroke:null,strokeDashArray:Xi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ge,strokeOpacity:Ge,strokeWidth:null,style:null,surfaceScale:Ge,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Xi,tabIndex:Ge,tableValues:null,target:null,targetX:Ge,targetY:Ge,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Xi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ge,underlineThickness:Ge,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ge,values:null,vAlphabetic:Ge,vMathematical:Ge,vectorEffect:null,vHanging:Ge,vIdeographic:Ge,version:null,vertAdvY:Ge,vertOriginX:Ge,vertOriginY:Ge,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ge,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:UE}),KE=Gu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),QE=Gu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:WE}),$E=Gu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),V8={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Y8=/[A-Z]/g,GE=/-[a-z]/g,J8=/^data[-\w.:]+$/i;function VE(e,t){const n=Yf(t);let r=t,i=Li;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&J8.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(GE,Z8);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!GE.test(s)){let l=s.replace(Y8,q8);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}i=C0}return new i(r,t)}function q8(e){return"-"+e.toLowerCase()}function Z8(e){return e.charAt(1).toUpperCase()}const YE=jE([HE,$8,KE,QE,$E],"html"),Cg=jE([HE,G8,KE,QE,$E],"svg");function JE(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function X8(e){return e.join(" ").trim()}var k0={},qE=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e5=/\n/g,t5=/^\s*/,n5=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r5=/^:\s*/,i5=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o5=/^[;\s]*/,s5=/^\s+|\s+$/g,a5=`
`,ZE="/",XE="*",Ml="",l5="comment",u5="declaration";function c5(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(w){var E=w.match(e5);E&&(n+=E.length);var R=w.lastIndexOf(a5);r=~R?w.length-R:r+w.length}function s(){var w={line:n,column:r};return function(E){return E.position=new l(w),h(),E}}function l(w){this.start=w,this.end={line:n,column:r},this.source=t.source}l.prototype.content=e;function u(w){var E=new Error(t.source+":"+n+":"+r+": "+w);if(E.reason=w,E.filename=t.source,E.line=n,E.column=r,E.source=e,!t.silent)throw E}function c(w){var E=w.exec(e);if(E){var R=E[0];return i(R),e=e.slice(R.length),E}}function h(){c(t5)}function g(w){var E;for(w=w||[];E=m();)E!==!1&&w.push(E);return w}function m(){var w=s();if(!(ZE!=e.charAt(0)||XE!=e.charAt(1))){for(var E=2;Ml!=e.charAt(E)&&(XE!=e.charAt(E)||ZE!=e.charAt(E+1));)++E;if(E+=2,Ml===e.charAt(E-1))return u("End of comment missing");var R=e.slice(2,E-2);return r+=2,i(R),e=e.slice(E),r+=2,w({type:l5,comment:R})}}function v(){var w=s(),E=c(n5);if(E){if(m(),!c(r5))return u("property missing ':'");var R=c(i5),S=w({type:u5,property:e2(E[0].replace(qE,Ml)),value:R?e2(R[0].replace(qE,Ml)):Ml});return c(o5),S}}function x(){var w=[];g(w);for(var E;E=v();)E!==!1&&(w.push(E),g(w));return w}return h(),x()}function e2(e){return e?e.replace(s5,Ml):Ml}var f5=c5,d5=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(k0,"__esModule",{value:!0}),k0.default=p5;const h5=d5(f5);function p5(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,h5.default)(e),i=typeof t=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:l,value:u}=s;i?t(l,u,s):u&&(n=n||{},n[l]=u)}),n}var kg={};Object.defineProperty(kg,"__esModule",{value:!0}),kg.camelCase=void 0;var g5=/^--[a-zA-Z0-9_-]+$/,m5=/-([a-z])/g,y5=/^[^-]+$/,v5=/^-(webkit|moz|ms|o|khtml)-/,A5=/^-(ms)-/,x5=function(e){return!e||y5.test(e)||g5.test(e)},b5=function(e,t){return t.toUpperCase()},t2=function(e,t){return"".concat(t,"-")},w5=function(e,t){return t===void 0&&(t={}),x5(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(A5,t2):e=e.replace(v5,t2),e.replace(m5,b5))};kg.camelCase=w5;var S5=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},C5=S5(k0),k5=kg;function I0(e,t){var n={};return!e||typeof e!="string"||(0,C5.default)(e,function(r,i){r&&i&&(n[(0,k5.camelCase)(r,t)]=i)}),n}I0.default=I0;var I5=I0;const E5=Mn(I5),n2=r2("end"),E0=r2("start");function r2(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function D5(e){const t=E0(e),n=n2(e);if(t&&n)return{start:t,end:n}}function Jf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?i2(e.position):"start"in e||"end"in e?i2(e):"line"in e||"column"in e?D0(e):""}function D0(e){return o2(e&&e.line)+":"+o2(e&&e.column)}function i2(e){return D0(e&&e.start)+"-"+D0(e&&e.end)}function o2(e){return e&&typeof e=="number"?e:1}class ni extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},l=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(l=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?s.ruleId=r:(s.source=r.slice(0,c),s.ruleId=r.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const u=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=Jf(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=l&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ni.prototype.file="",ni.prototype.name="",ni.prototype.reason="",ni.prototype.message="",ni.prototype.stack="",ni.prototype.column=void 0,ni.prototype.line=void 0,ni.prototype.ancestors=void 0,ni.prototype.cause=void 0,ni.prototype.fatal=void 0,ni.prototype.place=void 0,ni.prototype.ruleId=void 0,ni.prototype.source=void 0;const M0={}.hasOwnProperty,M5=new Map,R5=/[A-Z]/g,T5=new Set(["table","tbody","thead","tfoot","tr"]),O5=new Set(["td","th"]),s2="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function L5(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=H5(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=z5(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Cg:YE,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=a2(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function a2(e,t,n){if(t.type==="element")return P5(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return F5(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return N5(e,t,n);if(t.type==="mdxjsEsm")return B5(e,t);if(t.type==="root")return _5(e,t,n);if(t.type==="text")return j5(e,t)}function P5(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Cg,e.schema=i),e.ancestors.push(t);const s=u2(e,t.tagName,!1),l=U5(e,t);let u=T0(e,t);return T5.has(t.tagName)&&(u=u.filter(function(c){return typeof c=="string"?!K8(c):!0})),l2(e,l,s,t),R0(l,u),e.ancestors.pop(),e.schema=r,e.create(t,s,l,n)}function F5(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}qf(e,t.position)}function B5(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);qf(e,t.position)}function N5(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Cg,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:u2(e,t.name,!0),l=W5(e,t),u=T0(e,t);return l2(e,l,s,t),R0(l,u),e.ancestors.pop(),e.schema=r,e.create(t,s,l,n)}function _5(e,t,n){const r={};return R0(r,T0(e,t)),e.create(t,e.Fragment,r,n)}function j5(e,t){return t.value}function l2(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function R0(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function z5(e,t,n){return r;function r(i,s,l,u){const h=Array.isArray(l.children)?n:t;return u?h(s,l,u):h(s,l)}}function H5(e,t){return n;function n(r,i,s,l){const u=Array.isArray(s.children),c=E0(r);return t(i,s,l,u,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function U5(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&M0.call(t.properties,i)){const s=K5(e,i,t.properties[i]);if(s){const[l,u]=s;e.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&O5.has(t.tagName)?r=u:n[l]=u}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function W5(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const l=s.expression;l.type;const u=l.properties[0];u.type,Object.assign(n,e.evaluater.evaluateExpression(u.argument))}else qf(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const u=r.value.data.estree.body[0];u.type,s=e.evaluater.evaluateExpression(u.expression)}else qf(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function T0(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:M5;for(;++r<t.children.length;){const s=t.children[r];let l;if(e.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const h=i.get(c)||0;l=c+"-"+h,i.set(c,h+1)}}const u=a2(e,s,l);u!==void 0&&n.push(u)}return n}function K5(e,t,n){const r=VE(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?j8(n):X8(n)),r.property==="style"){let i=typeof n=="object"?n:Q5(e,String(n));return e.stylePropertyNameCase==="css"&&(i=$5(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?V8[r.property]||r.property:r.attribute,n]}}function Q5(e,t){try{return E5(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new ni("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=s2+"#cannot-parse-style-attribute",i}}function u2(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,l;for(;++s<i.length;){const u=NE(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(s&&u.type==="Literal"),optional:!1}:u}r=l}else r=NE(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return M0.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);qf(e)}function qf(e,t){const n=new ni("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=s2+"#cannot-handle-mdx-estrees-without-createevaluater",n}function $5(e){const t={};let n;for(n in e)M0.call(e,n)&&(t[G5(n)]=e[n]);return t}function G5(e){let t=e.replace(R5,V5);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function V5(e){return"-"+e.toLowerCase()}const O0={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Y5={};function L0(e,t){const n=Y5,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return c2(e,r,i)}function c2(e,t,n){if(J5(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return f2(e.children,t,n)}return Array.isArray(e)?f2(e,t,n):""}function f2(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=c2(e[i],t,n);return r.join("")}function J5(e){return!!(e&&typeof e=="object")}const d2=document.createElement("i");function Zf(e){const t="&"+e+";";d2.innerHTML=t;const n=d2.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function eo(e,t,n,r){const i=e.length;let s=0,l;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);s<r.length;)l=r.slice(s,s+1e4),l.unshift(t,0),e.splice(...l),s+=1e4,t+=1e4}function vo(e,t){return e.length>0?(eo(e,e.length,0,t),e):t}const h2={}.hasOwnProperty;function p2(e){const t={};let n=-1;for(;++n<e.length;)q5(t,e[n]);return t}function q5(e,t){let n;for(n in t){const i=(h2.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let l;if(s)for(l in s){h2.call(i,l)||(i[l]=[]);const u=s[l];Z5(i[l],Array.isArray(u)?u:u?[u]:[])}}}function Z5(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);eo(e,0,0,r)}function g2(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Oo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const mi=ka(/[A-Za-z]/),ri=ka(/[\dA-Za-z]/),X5=ka(/[#-'*+\--9=?A-Z^-~]/);function Ig(e){return e!==null&&(e<32||e===127)}const P0=ka(/\d/),ez=ka(/[\dA-Fa-f]/),tz=ka(/[!-/:-@[-`{-~]/);function Mt(e){return e!==null&&e<-2}function Sn(e){return e!==null&&(e<0||e===32)}function Gt(e){return e===-2||e===-1||e===32}const Eg=ka(new RegExp("\\p{P}|\\p{S}","u")),Rl=ka(/\s/);function ka(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Vu(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let l="";if(s===37&&ri(e.charCodeAt(n+1))&&ri(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(l=String.fromCharCode(s));else if(s>55295&&s<57344){const u=e.charCodeAt(n+1);s<56320&&u>56319&&u<57344?(l=String.fromCharCode(s,u),i=1):l=""}else l=String.fromCharCode(s);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Xt(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return l;function l(c){return Gt(c)?(e.enter(n),u(c)):t(c)}function u(c){return Gt(c)&&s++<i?(e.consume(c),u):(e.exit(n),t(c))}}const nz={tokenize:rz};function rz(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Xt(e,t,"linePrefix")}function i(u){return e.enter("paragraph"),s(u)}function s(u){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,l(u)}function l(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return Mt(u)?(e.consume(u),e.exit("chunkText"),s):(e.consume(u),l)}}const iz={tokenize:oz},m2={tokenize:sz};function oz(e){const t=this,n=[];let r=0,i,s,l;return u;function u(M){if(r<n.length){const P=n[r];return t.containerState=P[1],e.attempt(P[0].continuation,c,h)(M)}return h(M)}function c(M){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&k();const P=t.events.length;let W=P,z;for(;W--;)if(t.events[W][0]==="exit"&&t.events[W][1].type==="chunkFlow"){z=t.events[W][1].end;break}S(r);let Q=P;for(;Q<t.events.length;)t.events[Q][1].end={...z},Q++;return eo(t.events,W+1,0,t.events.slice(P)),t.events.length=Q,h(M)}return u(M)}function h(M){if(r===n.length){if(!i)return v(M);if(i.currentConstruct&&i.currentConstruct.concrete)return w(M);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(m2,g,m)(M)}function g(M){return i&&k(),S(r),v(M)}function m(M){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,w(M)}function v(M){return t.containerState={},e.attempt(m2,x,w)(M)}function x(M){return r++,n.push([t.currentConstruct,t.containerState]),v(M)}function w(M){if(M===null){i&&k(),S(0),e.consume(M);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),E(M)}function E(M){if(M===null){R(e.exit("chunkFlow"),!0),S(0),e.consume(M);return}return Mt(M)?(e.consume(M),R(e.exit("chunkFlow")),r=0,t.interrupt=void 0,u):(e.consume(M),E)}function R(M,P){const W=t.sliceStream(M);if(P&&W.push(null),M.previous=s,s&&(s.next=M),s=M,i.defineSkip(M.start),i.write(W),t.parser.lazy[M.start.line]){let z=i.events.length;for(;z--;)if(i.events[z][1].start.offset<l&&(!i.events[z][1].end||i.events[z][1].end.offset>l))return;const Q=t.events.length;let $=Q,se,F;for(;$--;)if(t.events[$][0]==="exit"&&t.events[$][1].type==="chunkFlow"){if(se){F=t.events[$][1].end;break}se=!0}for(S(r),z=Q;z<t.events.length;)t.events[z][1].end={...F},z++;eo(t.events,$+1,0,t.events.slice(Q)),t.events.length=z}}function S(M){let P=n.length;for(;P-- >M;){const W=n[P];t.containerState=W[1],W[0].exit.call(t,e)}n.length=M}function k(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function sz(e,t,n){return Xt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Yu(e){if(e===null||Sn(e)||Rl(e))return 1;if(Eg(e))return 2}function Dg(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const F0={name:"attention",resolveAll:az,tokenize:lz};function az(e,t){let n=-1,r,i,s,l,u,c,h,g;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const m={...e[r][1].end},v={...e[n][1].start};y2(m,-c),y2(v,c),l={type:c>1?"strongSequence":"emphasisSequence",start:m,end:{...e[r][1].end}},u={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},s={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},e[r][1].end={...l.start},e[n][1].start={...u.end},h=[],e[r][1].end.offset-e[r][1].start.offset&&(h=vo(h,[["enter",e[r][1],t],["exit",e[r][1],t]])),h=vo(h,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",s,t]]),h=vo(h,Dg(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),h=vo(h,[["exit",s,t],["enter",u,t],["exit",u,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(g=2,h=vo(h,[["enter",e[n][1],t],["exit",e[n][1],t]])):g=0,eo(e,r-1,n-r+3,h),n=r+h.length-g-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function lz(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Yu(r);let s;return l;function l(c){return s=c,e.enter("attentionSequence"),u(c)}function u(c){if(c===s)return e.consume(c),u;const h=e.exit("attentionSequence"),g=Yu(c),m=!g||g===2&&i||n.includes(c),v=!i||i===2&&g||n.includes(r);return h._open=!!(s===42?m:m&&(i||!v)),h._close=!!(s===42?v:v&&(g||!m)),t(c)}}function y2(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const uz={name:"autolink",tokenize:cz};function cz(e,t,n){let r=0;return i;function i(x){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(x){return mi(x)?(e.consume(x),l):x===64?n(x):h(x)}function l(x){return x===43||x===45||x===46||ri(x)?(r=1,u(x)):h(x)}function u(x){return x===58?(e.consume(x),r=0,c):(x===43||x===45||x===46||ri(x))&&r++<32?(e.consume(x),u):(r=0,h(x))}function c(x){return x===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):x===null||x===32||x===60||Ig(x)?n(x):(e.consume(x),c)}function h(x){return x===64?(e.consume(x),g):X5(x)?(e.consume(x),h):n(x)}function g(x){return ri(x)?m(x):n(x)}function m(x){return x===46?(e.consume(x),r=0,g):x===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):v(x)}function v(x){if((x===45||ri(x))&&r++<63){const w=x===45?v:m;return e.consume(x),w}return n(x)}}const Xf={partial:!0,tokenize:fz};function fz(e,t,n){return r;function r(s){return Gt(s)?Xt(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Mt(s)?t(s):n(s)}}const v2={continuation:{tokenize:hz},exit:pz,name:"blockQuote",tokenize:dz};function dz(e,t,n){const r=this;return i;function i(l){if(l===62){const u=r.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),s}return n(l)}function s(l){return Gt(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function hz(e,t,n){const r=this;return i;function i(l){return Gt(l)?Xt(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):s(l)}function s(l){return e.attempt(v2,t,n)(l)}}function pz(e){e.exit("blockQuote")}const A2={name:"characterEscape",tokenize:gz};function gz(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return tz(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const x2={name:"characterReference",tokenize:mz};function mz(e,t,n){const r=this;let i=0,s,l;return u;function u(m){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),c}function c(m){return m===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(m),e.exit("characterReferenceMarkerNumeric"),h):(e.enter("characterReferenceValue"),s=31,l=ri,g(m))}function h(m){return m===88||m===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(m),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,l=ez,g):(e.enter("characterReferenceValue"),s=7,l=P0,g(m))}function g(m){if(m===59&&i){const v=e.exit("characterReferenceValue");return l===ri&&!Zf(r.sliceSerialize(v))?n(m):(e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(m)&&i++<s?(e.consume(m),g):n(m)}}const b2={partial:!0,tokenize:vz},w2={concrete:!0,name:"codeFenced",tokenize:yz};function yz(e,t,n){const r=this,i={partial:!0,tokenize:W};let s=0,l=0,u;return c;function c(z){return h(z)}function h(z){const Q=r.events[r.events.length-1];return s=Q&&Q[1].type==="linePrefix"?Q[2].sliceSerialize(Q[1],!0).length:0,u=z,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),g(z)}function g(z){return z===u?(l++,e.consume(z),g):l<3?n(z):(e.exit("codeFencedFenceSequence"),Gt(z)?Xt(e,m,"whitespace")(z):m(z))}function m(z){return z===null||Mt(z)?(e.exit("codeFencedFence"),r.interrupt?t(z):e.check(b2,E,P)(z)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(z))}function v(z){return z===null||Mt(z)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),m(z)):Gt(z)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Xt(e,x,"whitespace")(z)):z===96&&z===u?n(z):(e.consume(z),v)}function x(z){return z===null||Mt(z)?m(z):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(z))}function w(z){return z===null||Mt(z)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),m(z)):z===96&&z===u?n(z):(e.consume(z),w)}function E(z){return e.attempt(i,P,R)(z)}function R(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),S}function S(z){return s>0&&Gt(z)?Xt(e,k,"linePrefix",s+1)(z):k(z)}function k(z){return z===null||Mt(z)?e.check(b2,E,P)(z):(e.enter("codeFlowValue"),M(z))}function M(z){return z===null||Mt(z)?(e.exit("codeFlowValue"),k(z)):(e.consume(z),M)}function P(z){return e.exit("codeFenced"),t(z)}function W(z,Q,$){let se=0;return F;function F(B){return z.enter("lineEnding"),z.consume(B),z.exit("lineEnding"),Y}function Y(B){return z.enter("codeFencedFence"),Gt(B)?Xt(z,re,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):re(B)}function re(B){return B===u?(z.enter("codeFencedFenceSequence"),J(B)):$(B)}function J(B){return B===u?(se++,z.consume(B),J):se>=l?(z.exit("codeFencedFenceSequence"),Gt(B)?Xt(z,V,"whitespace")(B):V(B)):$(B)}function V(B){return B===null||Mt(B)?(z.exit("codeFencedFence"),Q(B)):$(B)}}}function vz(e,t,n){const r=this;return i;function i(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s)}function s(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const B0={name:"codeIndented",tokenize:xz},Az={partial:!0,tokenize:bz};function xz(e,t,n){const r=this;return i;function i(h){return e.enter("codeIndented"),Xt(e,s,"linePrefix",5)(h)}function s(h){const g=r.events[r.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?l(h):n(h)}function l(h){return h===null?c(h):Mt(h)?e.attempt(Az,l,c)(h):(e.enter("codeFlowValue"),u(h))}function u(h){return h===null||Mt(h)?(e.exit("codeFlowValue"),l(h)):(e.consume(h),u)}function c(h){return e.exit("codeIndented"),t(h)}}function bz(e,t,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):Mt(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):Xt(e,s,"linePrefix",5)(l)}function s(l){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):Mt(l)?i(l):n(l)}}const wz={name:"codeText",previous:Cz,resolve:Sz,tokenize:kz};function Sz(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Cz(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function kz(e,t,n){let r=0,i,s;return l;function l(m){return e.enter("codeText"),e.enter("codeTextSequence"),u(m)}function u(m){return m===96?(e.consume(m),r++,u):(e.exit("codeTextSequence"),c(m))}function c(m){return m===null?n(m):m===32?(e.enter("space"),e.consume(m),e.exit("space"),c):m===96?(s=e.enter("codeTextSequence"),i=0,g(m)):Mt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),c):(e.enter("codeTextData"),h(m))}function h(m){return m===null||m===32||m===96||Mt(m)?(e.exit("codeTextData"),c(m)):(e.consume(m),h)}function g(m){return m===96?(e.consume(m),i++,g):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(m)):(s.type="codeTextData",h(m))}}class Iz{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ed(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ed(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ed(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ed(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ed(this.left,n.reverse())}}}function ed(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function S2(e){const t={};let n=-1,r,i,s,l,u,c,h;const g=new Iz(e);for(;++n<g.length;){for(;n in t;)n=t[n];if(r=g.get(n),n&&r[1].type==="chunkFlow"&&g.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Ez(g,n)),n=t[n],h=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(l=g.get(s),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(g.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=s);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...g.get(i)[1].start},u=g.slice(i,n),u.unshift(r),g.splice(i,n-i+1,u))}}return eo(e,0,Number.POSITIVE_INFINITY,g.slice(0)),!h}function Ez(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const u=l.events,c=[],h={};let g,m,v=-1,x=n,w=0,E=0;const R=[E];for(;x;){for(;e.get(++i)[1]!==x;);s.push(i),x._tokenizer||(g=r.sliceStream(x),x.next||g.push(null),m&&l.defineSkip(x.start),x._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(g),x._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=x,x=x.next}for(x=n;++v<u.length;)u[v][0]==="exit"&&u[v-1][0]==="enter"&&u[v][1].type===u[v-1][1].type&&u[v][1].start.line!==u[v][1].end.line&&(E=v+1,R.push(E),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(l.events=[],x?(x._tokenizer=void 0,x.previous=void 0):R.pop(),v=R.length;v--;){const S=u.slice(R[v],R[v+1]),k=s.pop();c.push([k,k+S.length-1]),e.splice(k,2,S)}for(c.reverse(),v=-1;++v<c.length;)h[w+c[v][0]]=w+c[v][1],w+=c[v][1]-c[v][0]-1;return h}const Dz={resolve:Rz,tokenize:Tz},Mz={partial:!0,tokenize:Oz};function Rz(e){return S2(e),e}function Tz(e,t){let n;return r;function r(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?s(u):Mt(u)?e.check(Mz,l,s)(u):(e.consume(u),i)}function s(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function l(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Oz(e,t,n){const r=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Xt(e,s,"linePrefix")}function s(l){if(l===null||Mt(l))return n(l);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function C2(e,t,n,r,i,s,l,u,c){const h=c||Number.POSITIVE_INFINITY;let g=0;return m;function m(S){return S===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(S),e.exit(s),v):S===null||S===32||S===41||Ig(S)?n(S):(e.enter(r),e.enter(l),e.enter(u),e.enter("chunkString",{contentType:"string"}),E(S))}function v(S){return S===62?(e.enter(s),e.consume(S),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),x(S))}function x(S){return S===62?(e.exit("chunkString"),e.exit(u),v(S)):S===null||S===60||Mt(S)?n(S):(e.consume(S),S===92?w:x)}function w(S){return S===60||S===62||S===92?(e.consume(S),x):x(S)}function E(S){return!g&&(S===null||S===41||Sn(S))?(e.exit("chunkString"),e.exit(u),e.exit(l),e.exit(r),t(S)):g<h&&S===40?(e.consume(S),g++,E):S===41?(e.consume(S),g--,E):S===null||S===32||S===40||Ig(S)?n(S):(e.consume(S),S===92?R:E)}function R(S){return S===40||S===41||S===92?(e.consume(S),E):E(S)}}function k2(e,t,n,r,i,s){const l=this;let u=0,c;return h;function h(x){return e.enter(r),e.enter(i),e.consume(x),e.exit(i),e.enter(s),g}function g(x){return u>999||x===null||x===91||x===93&&!c||x===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(x):x===93?(e.exit(s),e.enter(i),e.consume(x),e.exit(i),e.exit(r),t):Mt(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),g):(e.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===null||x===91||x===93||Mt(x)||u++>999?(e.exit("chunkString"),g(x)):(e.consume(x),c||(c=!Gt(x)),x===92?v:m)}function v(x){return x===91||x===92||x===93?(e.consume(x),u++,m):m(x)}}function I2(e,t,n,r,i,s){let l;return u;function u(v){return v===34||v===39||v===40?(e.enter(r),e.enter(i),e.consume(v),e.exit(i),l=v===40?41:v,c):n(v)}function c(v){return v===l?(e.enter(i),e.consume(v),e.exit(i),e.exit(r),t):(e.enter(s),h(v))}function h(v){return v===l?(e.exit(s),c(l)):v===null?n(v):Mt(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),Xt(e,h,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===l||v===null||Mt(v)?(e.exit("chunkString"),h(v)):(e.consume(v),v===92?m:g)}function m(v){return v===l||v===92?(e.consume(v),g):g(v)}}function td(e,t){let n;return r;function r(i){return Mt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Gt(i)?Xt(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Lz={name:"definition",tokenize:Fz},Pz={partial:!0,tokenize:Bz};function Fz(e,t,n){const r=this;let i;return s;function s(x){return e.enter("definition"),l(x)}function l(x){return k2.call(r,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function u(x){return i=Oo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),c):n(x)}function c(x){return Sn(x)?td(e,h)(x):h(x)}function h(x){return C2(e,g,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function g(x){return e.attempt(Pz,m,m)(x)}function m(x){return Gt(x)?Xt(e,v,"whitespace")(x):v(x)}function v(x){return x===null||Mt(x)?(e.exit("definition"),r.parser.defined.push(i),t(x)):n(x)}}function Bz(e,t,n){return r;function r(u){return Sn(u)?td(e,i)(u):n(u)}function i(u){return I2(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function s(u){return Gt(u)?Xt(e,l,"whitespace")(u):l(u)}function l(u){return u===null||Mt(u)?t(u):n(u)}}const Nz={name:"hardBreakEscape",tokenize:_z};function _z(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Mt(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const jz={name:"headingAtx",resolve:zz,tokenize:Hz};function zz(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},eo(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Hz(e,t,n){let r=0;return i;function i(g){return e.enter("atxHeading"),s(g)}function s(g){return e.enter("atxHeadingSequence"),l(g)}function l(g){return g===35&&r++<6?(e.consume(g),l):g===null||Sn(g)?(e.exit("atxHeadingSequence"),u(g)):n(g)}function u(g){return g===35?(e.enter("atxHeadingSequence"),c(g)):g===null||Mt(g)?(e.exit("atxHeading"),t(g)):Gt(g)?Xt(e,u,"whitespace")(g):(e.enter("atxHeadingText"),h(g))}function c(g){return g===35?(e.consume(g),c):(e.exit("atxHeadingSequence"),u(g))}function h(g){return g===null||g===35||Sn(g)?(e.exit("atxHeadingText"),u(g)):(e.consume(g),h)}}const Uz=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],E2=["pre","script","style","textarea"],Wz={concrete:!0,name:"htmlFlow",resolveTo:$z,tokenize:Gz},Kz={partial:!0,tokenize:Yz},Qz={partial:!0,tokenize:Vz};function $z(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Gz(e,t,n){const r=this;let i,s,l,u,c;return h;function h(G){return g(G)}function g(G){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(G),m}function m(G){return G===33?(e.consume(G),v):G===47?(e.consume(G),s=!0,E):G===63?(e.consume(G),i=3,r.interrupt?t:N):mi(G)?(e.consume(G),l=String.fromCharCode(G),R):n(G)}function v(G){return G===45?(e.consume(G),i=2,x):G===91?(e.consume(G),i=5,u=0,w):mi(G)?(e.consume(G),i=4,r.interrupt?t:N):n(G)}function x(G){return G===45?(e.consume(G),r.interrupt?t:N):n(G)}function w(G){const _e="CDATA[";return G===_e.charCodeAt(u++)?(e.consume(G),u===_e.length?r.interrupt?t:re:w):n(G)}function E(G){return mi(G)?(e.consume(G),l=String.fromCharCode(G),R):n(G)}function R(G){if(G===null||G===47||G===62||Sn(G)){const _e=G===47,Be=l.toLowerCase();return!_e&&!s&&E2.includes(Be)?(i=1,r.interrupt?t(G):re(G)):Uz.includes(l.toLowerCase())?(i=6,_e?(e.consume(G),S):r.interrupt?t(G):re(G)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(G):s?k(G):M(G))}return G===45||ri(G)?(e.consume(G),l+=String.fromCharCode(G),R):n(G)}function S(G){return G===62?(e.consume(G),r.interrupt?t:re):n(G)}function k(G){return Gt(G)?(e.consume(G),k):F(G)}function M(G){return G===47?(e.consume(G),F):G===58||G===95||mi(G)?(e.consume(G),P):Gt(G)?(e.consume(G),M):F(G)}function P(G){return G===45||G===46||G===58||G===95||ri(G)?(e.consume(G),P):W(G)}function W(G){return G===61?(e.consume(G),z):Gt(G)?(e.consume(G),W):M(G)}function z(G){return G===null||G===60||G===61||G===62||G===96?n(G):G===34||G===39?(e.consume(G),c=G,Q):Gt(G)?(e.consume(G),z):$(G)}function Q(G){return G===c?(e.consume(G),c=null,se):G===null||Mt(G)?n(G):(e.consume(G),Q)}function $(G){return G===null||G===34||G===39||G===47||G===60||G===61||G===62||G===96||Sn(G)?W(G):(e.consume(G),$)}function se(G){return G===47||G===62||Gt(G)?M(G):n(G)}function F(G){return G===62?(e.consume(G),Y):n(G)}function Y(G){return G===null||Mt(G)?re(G):Gt(G)?(e.consume(G),Y):n(G)}function re(G){return G===45&&i===2?(e.consume(G),Re):G===60&&i===1?(e.consume(G),Te):G===62&&i===4?(e.consume(G),de):G===63&&i===3?(e.consume(G),N):G===93&&i===5?(e.consume(G),ae):Mt(G)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Kz,ve,J)(G)):G===null||Mt(G)?(e.exit("htmlFlowData"),J(G)):(e.consume(G),re)}function J(G){return e.check(Qz,V,ve)(G)}function V(G){return e.enter("lineEnding"),e.consume(G),e.exit("lineEnding"),B}function B(G){return G===null||Mt(G)?J(G):(e.enter("htmlFlowData"),re(G))}function Re(G){return G===45?(e.consume(G),N):re(G)}function Te(G){return G===47?(e.consume(G),l="",me):re(G)}function me(G){if(G===62){const _e=l.toLowerCase();return E2.includes(_e)?(e.consume(G),de):re(G)}return mi(G)&&l.length<8?(e.consume(G),l+=String.fromCharCode(G),me):re(G)}function ae(G){return G===93?(e.consume(G),N):re(G)}function N(G){return G===62?(e.consume(G),de):G===45&&i===2?(e.consume(G),N):re(G)}function de(G){return G===null||Mt(G)?(e.exit("htmlFlowData"),ve(G)):(e.consume(G),de)}function ve(G){return e.exit("htmlFlow"),t(G)}}function Vz(e,t,n){const r=this;return i;function i(l){return Mt(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s):n(l)}function s(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function Yz(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Xf,t,n)}}const Jz={name:"htmlText",tokenize:qz};function qz(e,t,n){const r=this;let i,s,l;return u;function u(N){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(N),c}function c(N){return N===33?(e.consume(N),h):N===47?(e.consume(N),W):N===63?(e.consume(N),M):mi(N)?(e.consume(N),$):n(N)}function h(N){return N===45?(e.consume(N),g):N===91?(e.consume(N),s=0,w):mi(N)?(e.consume(N),k):n(N)}function g(N){return N===45?(e.consume(N),x):n(N)}function m(N){return N===null?n(N):N===45?(e.consume(N),v):Mt(N)?(l=m,Te(N)):(e.consume(N),m)}function v(N){return N===45?(e.consume(N),x):m(N)}function x(N){return N===62?Re(N):N===45?v(N):m(N)}function w(N){const de="CDATA[";return N===de.charCodeAt(s++)?(e.consume(N),s===de.length?E:w):n(N)}function E(N){return N===null?n(N):N===93?(e.consume(N),R):Mt(N)?(l=E,Te(N)):(e.consume(N),E)}function R(N){return N===93?(e.consume(N),S):E(N)}function S(N){return N===62?Re(N):N===93?(e.consume(N),S):E(N)}function k(N){return N===null||N===62?Re(N):Mt(N)?(l=k,Te(N)):(e.consume(N),k)}function M(N){return N===null?n(N):N===63?(e.consume(N),P):Mt(N)?(l=M,Te(N)):(e.consume(N),M)}function P(N){return N===62?Re(N):M(N)}function W(N){return mi(N)?(e.consume(N),z):n(N)}function z(N){return N===45||ri(N)?(e.consume(N),z):Q(N)}function Q(N){return Mt(N)?(l=Q,Te(N)):Gt(N)?(e.consume(N),Q):Re(N)}function $(N){return N===45||ri(N)?(e.consume(N),$):N===47||N===62||Sn(N)?se(N):n(N)}function se(N){return N===47?(e.consume(N),Re):N===58||N===95||mi(N)?(e.consume(N),F):Mt(N)?(l=se,Te(N)):Gt(N)?(e.consume(N),se):Re(N)}function F(N){return N===45||N===46||N===58||N===95||ri(N)?(e.consume(N),F):Y(N)}function Y(N){return N===61?(e.consume(N),re):Mt(N)?(l=Y,Te(N)):Gt(N)?(e.consume(N),Y):se(N)}function re(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),i=N,J):Mt(N)?(l=re,Te(N)):Gt(N)?(e.consume(N),re):(e.consume(N),V)}function J(N){return N===i?(e.consume(N),i=void 0,B):N===null?n(N):Mt(N)?(l=J,Te(N)):(e.consume(N),J)}function V(N){return N===null||N===34||N===39||N===60||N===61||N===96?n(N):N===47||N===62||Sn(N)?se(N):(e.consume(N),V)}function B(N){return N===47||N===62||Sn(N)?se(N):n(N)}function Re(N){return N===62?(e.consume(N),e.exit("htmlTextData"),e.exit("htmlText"),t):n(N)}function Te(N){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),me}function me(N){return Gt(N)?Xt(e,ae,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):ae(N)}function ae(N){return e.enter("htmlTextData"),l(N)}}const N0={name:"labelEnd",resolveAll:tH,resolveTo:nH,tokenize:rH},Zz={tokenize:iH},Xz={tokenize:oH},eH={tokenize:sH};function tH(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&eo(e,0,e.length,n),e}function nH(e,t){let n=e.length,r=0,i,s,l,u;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const c={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},h={type:"label",start:{...e[s][1].start},end:{...e[l][1].end}},g={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[l-2][1].start}};return u=[["enter",c,t],["enter",h,t]],u=vo(u,e.slice(s+1,s+r+3)),u=vo(u,[["enter",g,t]]),u=vo(u,Dg(t.parser.constructs.insideSpan.null,e.slice(s+r+4,l-3),t)),u=vo(u,[["exit",g,t],e[l-2],e[l-1],["exit",h,t]]),u=vo(u,e.slice(l+1)),u=vo(u,[["exit",c,t]]),eo(e,s,e.length,u),e}function rH(e,t,n){const r=this;let i=r.events.length,s,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return u;function u(v){return s?s._inactive?m(v):(l=r.parser.defined.includes(Oo(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),c):n(v)}function c(v){return v===40?e.attempt(Zz,g,l?g:m)(v):v===91?e.attempt(Xz,g,l?h:m)(v):l?g(v):m(v)}function h(v){return e.attempt(eH,g,m)(v)}function g(v){return t(v)}function m(v){return s._balanced=!0,n(v)}}function iH(e,t,n){return r;function r(m){return e.enter("resource"),e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),i}function i(m){return Sn(m)?td(e,s)(m):s(m)}function s(m){return m===41?g(m):C2(e,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return Sn(m)?td(e,c)(m):g(m)}function u(m){return n(m)}function c(m){return m===34||m===39||m===40?I2(e,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):g(m)}function h(m){return Sn(m)?td(e,g)(m):g(m)}function g(m){return m===41?(e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),e.exit("resource"),t):n(m)}}function oH(e,t,n){const r=this;return i;function i(u){return k2.call(r,e,s,l,"reference","referenceMarker","referenceString")(u)}function s(u){return r.parser.defined.includes(Oo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function l(u){return n(u)}}function sH(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const aH={name:"labelStartImage",resolveAll:N0.resolveAll,tokenize:lH};function lH(e,t,n){const r=this;return i;function i(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),s}function s(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const uH={name:"labelStartLink",resolveAll:N0.resolveAll,tokenize:cH};function cH(e,t,n){const r=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),s}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const _0={name:"lineEnding",tokenize:fH};function fH(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Xt(e,t,"linePrefix")}}const Mg={name:"thematicBreak",tokenize:dH};function dH(e,t,n){let r=0,i;return s;function s(h){return e.enter("thematicBreak"),l(h)}function l(h){return i=h,u(h)}function u(h){return h===i?(e.enter("thematicBreakSequence"),c(h)):r>=3&&(h===null||Mt(h))?(e.exit("thematicBreak"),t(h)):n(h)}function c(h){return h===i?(e.consume(h),r++,c):(e.exit("thematicBreakSequence"),Gt(h)?Xt(e,u,"whitespace")(h):u(h))}}const Pi={continuation:{tokenize:mH},exit:vH,name:"list",tokenize:gH},hH={partial:!0,tokenize:AH},pH={partial:!0,tokenize:yH};function gH(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return u;function u(x){const w=r.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||x===r.containerState.marker:P0(x)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),x===42||x===45?e.check(Mg,n,h)(x):h(x);if(!r.interrupt||x===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(x)}return n(x)}function c(x){return P0(x)&&++l<10?(e.consume(x),c):(!r.interrupt||l<2)&&(r.containerState.marker?x===r.containerState.marker:x===41||x===46)?(e.exit("listItemValue"),h(x)):n(x)}function h(x){return e.enter("listItemMarker"),e.consume(x),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||x,e.check(Xf,r.interrupt?n:g,e.attempt(hH,v,m))}function g(x){return r.containerState.initialBlankLine=!0,s++,v(x)}function m(x){return Gt(x)?(e.enter("listItemPrefixWhitespace"),e.consume(x),e.exit("listItemPrefixWhitespace"),v):n(x)}function v(x){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(x)}}function mH(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Xf,i,s);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Xt(e,t,"listItemIndent",r.containerState.size+1)(u)}function s(u){return r.containerState.furtherBlankLines||!Gt(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(pH,t,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,Xt(e,e.attempt(Pi,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function yH(e,t,n){const r=this;return Xt(e,i,"listItemIndent",r.containerState.size+1);function i(s){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(s):n(s)}}function vH(e){e.exit(this.containerState.type)}function AH(e,t,n){const r=this;return Xt(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const l=r.events[r.events.length-1];return!Gt(s)&&l&&l[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const D2={name:"setextUnderline",resolveTo:xH,tokenize:bH};function xH(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",l,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function bH(e,t,n){const r=this;let i;return s;function s(h){let g=r.events.length,m;for(;g--;)if(r.events[g][1].type!=="lineEnding"&&r.events[g][1].type!=="linePrefix"&&r.events[g][1].type!=="content"){m=r.events[g][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(e.enter("setextHeadingLine"),i=h,l(h)):n(h)}function l(h){return e.enter("setextHeadingLineSequence"),u(h)}function u(h){return h===i?(e.consume(h),u):(e.exit("setextHeadingLineSequence"),Gt(h)?Xt(e,c,"lineSuffix")(h):c(h))}function c(h){return h===null||Mt(h)?(e.exit("setextHeadingLine"),t(h)):n(h)}}const wH={tokenize:SH};function SH(e){const t=this,n=e.attempt(Xf,r,e.attempt(this.parser.constructs.flowInitial,i,Xt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Dz,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const CH={resolveAll:R2()},kH=M2("string"),IH=M2("text");function M2(e){return{resolveAll:R2(e==="text"?EH:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,l,u);return l;function l(g){return h(g)?s(g):u(g)}function u(g){if(g===null){n.consume(g);return}return n.enter("data"),n.consume(g),c}function c(g){return h(g)?(n.exit("data"),s(g)):(n.consume(g),c)}function h(g){if(g===null)return!0;const m=i[g];let v=-1;if(m)for(;++v<m.length;){const x=m[v];if(!x.previous||x.previous.call(r,r.previous))return!0}return!1}}}function R2(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function EH(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,l=-1,u=0,c;for(;s--;){const h=i[s];if(typeof h=="string"){for(l=h.length;h.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(h===-2)c=!0,u++;else if(h!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(u=0),u){const h={type:n===e.length||c||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?l:r.start._bufferIndex+l,_index:r.start._index+s,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...h.start},r.start.offset===r.end.offset?Object.assign(r,h):(e.splice(n,0,["enter",h,t],["exit",h,t]),n+=2)}n++}return e}const DH=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:{91:Lz},disable:{null:[]},document:{42:Pi,43:Pi,45:Pi,48:Pi,49:Pi,50:Pi,51:Pi,52:Pi,53:Pi,54:Pi,55:Pi,56:Pi,57:Pi,62:v2},flow:{35:jz,42:Mg,45:[D2,Mg],60:Wz,61:D2,95:Mg,96:w2,126:w2},flowInitial:{[-2]:B0,[-1]:B0,32:B0},insideSpan:{null:[F0,CH]},string:{38:x2,92:A2},text:{[-5]:_0,[-4]:_0,[-3]:_0,33:aH,38:x2,42:F0,60:[uz,Jz],91:uH,92:[Nz,A2],93:N0,95:F0,96:wz}},Symbol.toStringTag,{value:"Module"}));function MH(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let l=[],u=[];const c={attempt:Q(W),check:Q(z),consume:k,enter:M,exit:P,interrupt:Q(z,{interrupt:!0})},h={code:null,containerState:{},defineSkip:E,events:[],now:w,parser:e,previous:null,sliceSerialize:v,sliceStream:x,write:m};let g=t.tokenize.call(h,c);return t.resolveAll&&s.push(t),h;function m(Y){return l=vo(l,Y),R(),l[l.length-1]!==null?[]:($(t,0),h.events=Dg(s,h.events,h),h.events)}function v(Y,re){return TH(x(Y),re)}function x(Y){return RH(l,Y)}function w(){const{_bufferIndex:Y,_index:re,line:J,column:V,offset:B}=r;return{_bufferIndex:Y,_index:re,line:J,column:V,offset:B}}function E(Y){i[Y.line]=Y.column,F()}function R(){let Y;for(;r._index<l.length;){const re=l[r._index];if(typeof re=="string")for(Y=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Y&&r._bufferIndex<re.length;)S(re.charCodeAt(r._bufferIndex));else S(re)}}function S(Y){g=g(Y)}function k(Y){Mt(Y)?(r.line++,r.column=1,r.offset+=Y===-3?2:1,F()):Y!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),h.previous=Y}function M(Y,re){const J=re||{};return J.type=Y,J.start=w(),h.events.push(["enter",J,h]),u.push(J),J}function P(Y){const re=u.pop();return re.end=w(),h.events.push(["exit",re,h]),re}function W(Y,re){$(Y,re.from)}function z(Y,re){re.restore()}function Q(Y,re){return J;function J(V,B,Re){let Te,me,ae,N;return Array.isArray(V)?ve(V):"tokenize"in V?ve([V]):de(V);function de(Oe){return Ue;function Ue(oe){const Se=oe!==null&&Oe[oe],Ee=oe!==null&&Oe.null,Fe=[...Array.isArray(Se)?Se:Se?[Se]:[],...Array.isArray(Ee)?Ee:Ee?[Ee]:[]];return ve(Fe)(oe)}}function ve(Oe){return Te=Oe,me=0,Oe.length===0?Re:G(Oe[me])}function G(Oe){return Ue;function Ue(oe){return N=se(),ae=Oe,Oe.partial||(h.currentConstruct=Oe),Oe.name&&h.parser.constructs.disable.null.includes(Oe.name)?Be():Oe.tokenize.call(re?Object.assign(Object.create(h),re):h,c,_e,Be)(oe)}}function _e(Oe){return Y(ae,N),B}function Be(Oe){return N.restore(),++me<Te.length?G(Te[me]):Re}}}function $(Y,re){Y.resolveAll&&!s.includes(Y)&&s.push(Y),Y.resolve&&eo(h.events,re,h.events.length-re,Y.resolve(h.events.slice(re),h)),Y.resolveTo&&(h.events=Y.resolveTo(h.events,h))}function se(){const Y=w(),re=h.previous,J=h.currentConstruct,V=h.events.length,B=Array.from(u);return{from:V,restore:Re};function Re(){r=Y,h.previous=re,h.currentConstruct=J,h.events.length=V,u=B,F()}}function F(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function RH(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let l;if(n===i)l=[e[n].slice(r,s)];else{if(l=e.slice(n,i),r>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}s>0&&l.push(e[i].slice(0,s))}return l}function TH(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let l;if(typeof s=="string")l=s;else switch(s){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&i)continue;l=" ";break}default:l=String.fromCharCode(s)}i=s===-2,r.push(l)}return r.join("")}function OH(e){const r={constructs:p2([DH,...(e||{}).extensions||[]]),content:i(nz),defined:[],document:i(iz),flow:i(wH),lazy:{},string:i(kH),text:i(IH)};return r;function i(s){return l;function l(u){return MH(r,s,u)}}}function LH(e){for(;!S2(e););return e}const T2=/[\0\t\n\r]/g;function PH(){let e=1,t="",n=!0,r;return i;function i(s,l,u){const c=[];let h,g,m,v,x;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(l||void 0).decode(s)),m=0,t="",n&&(s.charCodeAt(0)===65279&&m++,n=void 0);m<s.length;){if(T2.lastIndex=m,h=T2.exec(s),v=h&&h.index!==void 0?h.index:s.length,x=s.charCodeAt(v),!h){t=s.slice(m);break}if(x===10&&m===v&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),m<v&&(c.push(s.slice(m,v)),e+=v-m),x){case 0:{c.push(65533),e++;break}case 9:{for(g=Math.ceil(e/4)*4,c.push(-2);e++<g;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}m=v+1}return u&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const FH=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function BH(e){return e.replace(FH,NH)}function NH(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return g2(n.slice(s?2:1),s?16:10)}return Zf(n)||e}const O2={}.hasOwnProperty;function _H(e,t,n){return typeof t!="string"&&(n=t,t=void 0),jH(n)(LH(OH(n).document().write(PH()(e,t,!0))))}function jH(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(oi),autolinkProtocol:se,autolinkEmail:se,atxHeading:s(Pt),blockQuote:s(Ee),characterEscape:se,characterReference:se,codeFenced:s(Fe),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:s(Fe,l),codeText:s(Ye,l),codeTextData:se,data:se,codeFlowValue:se,definition:s(tt),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:s(Ne),hardBreakEscape:s(Ht),hardBreakTrailing:s(Ht),htmlFlow:s(Yt,l),htmlFlowData:se,htmlText:s(Yt,l),htmlTextData:se,image:s(En),label:l,link:s(oi),listItem:s(Dn),listItemValue:v,listOrdered:s(Nt,m),listUnordered:s(Nt),paragraph:s(xo),reference:G,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:s(Pt),strong:s(Ni),thematicBreak:s(wr)},exit:{atxHeading:c(),atxHeadingSequence:W,autolink:c(),autolinkEmail:Se,autolinkProtocol:oe,blockQuote:c(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:Be,characterReferenceMarkerNumeric:Be,characterReferenceValue:Oe,characterReference:Ue,codeFenced:c(R),codeFencedFence:E,codeFencedFenceInfo:x,codeFencedFenceMeta:w,codeFlowValue:F,codeIndented:c(S),codeText:c(B),codeTextData:F,data:F,definition:c(),definitionDestinationString:P,definitionLabelString:k,definitionTitleString:M,emphasis:c(),hardBreakEscape:c(re),hardBreakTrailing:c(re),htmlFlow:c(J),htmlFlowData:F,htmlText:c(V),htmlTextData:F,image:c(Te),label:ae,labelText:me,lineEnding:Y,link:c(Re),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:_e,resourceDestinationString:N,resourceTitleString:de,resource:ve,setextHeading:c($),setextHeadingLineSequence:Q,setextHeadingText:z,strong:c(),thematicBreak:c()}};L2(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Me){let je={type:"root",children:[]};const St={stack:[je],tokenStack:[],config:t,enter:u,exit:h,buffer:l,resume:g,data:n},kt=[];let gt=-1;for(;++gt<Me.length;)if(Me[gt][1].type==="listOrdered"||Me[gt][1].type==="listUnordered")if(Me[gt][0]==="enter")kt.push(gt);else{const Cn=kt.pop();gt=i(Me,Cn,gt)}for(gt=-1;++gt<Me.length;){const Cn=t[Me[gt][0]];O2.call(Cn,Me[gt][1].type)&&Cn[Me[gt][1].type].call(Object.assign({sliceSerialize:Me[gt][2].sliceSerialize},St),Me[gt][1])}if(St.tokenStack.length>0){const Cn=St.tokenStack[St.tokenStack.length-1];(Cn[1]||P2).call(St,void 0,Cn[0])}for(je.position={start:Ia(Me.length>0?Me[0][1].start:{line:1,column:1,offset:0}),end:Ia(Me.length>0?Me[Me.length-2][1].end:{line:1,column:1,offset:0})},gt=-1;++gt<t.transforms.length;)je=t.transforms[gt](je)||je;return je}function i(Me,je,St){let kt=je-1,gt=-1,Cn=!1,vn,On,Sr,Ln;for(;++kt<=St;){const it=Me[kt];switch(it[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{it[0]==="enter"?gt++:gt--,Ln=void 0;break}case"lineEndingBlank":{it[0]==="enter"&&(vn&&!Ln&&!gt&&!Sr&&(Sr=kt),Ln=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ln=void 0}if(!gt&&it[0]==="enter"&&it[1].type==="listItemPrefix"||gt===-1&&it[0]==="exit"&&(it[1].type==="listUnordered"||it[1].type==="listOrdered")){if(vn){let At=kt;for(On=void 0;At--;){const Bn=Me[At];if(Bn[1].type==="lineEnding"||Bn[1].type==="lineEndingBlank"){if(Bn[0]==="exit")continue;On&&(Me[On][1].type="lineEndingBlank",Cn=!0),Bn[1].type="lineEnding",On=At}else if(!(Bn[1].type==="linePrefix"||Bn[1].type==="blockQuotePrefix"||Bn[1].type==="blockQuotePrefixWhitespace"||Bn[1].type==="blockQuoteMarker"||Bn[1].type==="listItemIndent"))break}Sr&&(!On||Sr<On)&&(vn._spread=!0),vn.end=Object.assign({},On?Me[On][1].start:it[1].end),Me.splice(On||kt,0,["exit",vn,it[2]]),kt++,St++}if(it[1].type==="listItemPrefix"){const At={type:"listItem",_spread:!1,start:Object.assign({},it[1].start),end:void 0};vn=At,Me.splice(kt,0,["enter",At,it[2]]),kt++,St++,Sr=void 0,Ln=!0}}}return Me[je][1]._spread=Cn,St}function s(Me,je){return St;function St(kt){u.call(this,Me(kt),kt),je&&je.call(this,kt)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(Me,je,St){this.stack[this.stack.length-1].children.push(Me),this.stack.push(Me),this.tokenStack.push([je,St||void 0]),Me.position={start:Ia(je.start),end:void 0}}function c(Me){return je;function je(St){Me&&Me.call(this,St),h.call(this,St)}}function h(Me,je){const St=this.stack.pop(),kt=this.tokenStack.pop();if(kt)kt[0].type!==Me.type&&(je?je.call(this,Me,kt[0]):(kt[1]||P2).call(this,Me,kt[0]));else throw new Error("Cannot close `"+Me.type+"` ("+Jf({start:Me.start,end:Me.end})+"): its not open");St.position.end=Ia(Me.end)}function g(){return L0(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function v(Me){if(this.data.expectingFirstListItemValue){const je=this.stack[this.stack.length-2];je.start=Number.parseInt(this.sliceSerialize(Me),10),this.data.expectingFirstListItemValue=void 0}}function x(){const Me=this.resume(),je=this.stack[this.stack.length-1];je.lang=Me}function w(){const Me=this.resume(),je=this.stack[this.stack.length-1];je.meta=Me}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function R(){const Me=this.resume(),je=this.stack[this.stack.length-1];je.value=Me.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const Me=this.resume(),je=this.stack[this.stack.length-1];je.value=Me.replace(/(\r?\n|\r)$/g,"")}function k(Me){const je=this.resume(),St=this.stack[this.stack.length-1];St.label=je,St.identifier=Oo(this.sliceSerialize(Me)).toLowerCase()}function M(){const Me=this.resume(),je=this.stack[this.stack.length-1];je.title=Me}function P(){const Me=this.resume(),je=this.stack[this.stack.length-1];je.url=Me}function W(Me){const je=this.stack[this.stack.length-1];if(!je.depth){const St=this.sliceSerialize(Me).length;je.depth=St}}function z(){this.data.setextHeadingSlurpLineEnding=!0}function Q(Me){const je=this.stack[this.stack.length-1];je.depth=this.sliceSerialize(Me).codePointAt(0)===61?1:2}function $(){this.data.setextHeadingSlurpLineEnding=void 0}function se(Me){const St=this.stack[this.stack.length-1].children;let kt=St[St.length-1];(!kt||kt.type!=="text")&&(kt=Fo(),kt.position={start:Ia(Me.start),end:void 0},St.push(kt)),this.stack.push(kt)}function F(Me){const je=this.stack.pop();je.value+=this.sliceSerialize(Me),je.position.end=Ia(Me.end)}function Y(Me){const je=this.stack[this.stack.length-1];if(this.data.atHardBreak){const St=je.children[je.children.length-1];St.position.end=Ia(Me.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(je.type)&&(se.call(this,Me),F.call(this,Me))}function re(){this.data.atHardBreak=!0}function J(){const Me=this.resume(),je=this.stack[this.stack.length-1];je.value=Me}function V(){const Me=this.resume(),je=this.stack[this.stack.length-1];je.value=Me}function B(){const Me=this.resume(),je=this.stack[this.stack.length-1];je.value=Me}function Re(){const Me=this.stack[this.stack.length-1];if(this.data.inReference){const je=this.data.referenceType||"shortcut";Me.type+="Reference",Me.referenceType=je,delete Me.url,delete Me.title}else delete Me.identifier,delete Me.label;this.data.referenceType=void 0}function Te(){const Me=this.stack[this.stack.length-1];if(this.data.inReference){const je=this.data.referenceType||"shortcut";Me.type+="Reference",Me.referenceType=je,delete Me.url,delete Me.title}else delete Me.identifier,delete Me.label;this.data.referenceType=void 0}function me(Me){const je=this.sliceSerialize(Me),St=this.stack[this.stack.length-2];St.label=BH(je),St.identifier=Oo(je).toLowerCase()}function ae(){const Me=this.stack[this.stack.length-1],je=this.resume(),St=this.stack[this.stack.length-1];if(this.data.inReference=!0,St.type==="link"){const kt=Me.children;St.children=kt}else St.alt=je}function N(){const Me=this.resume(),je=this.stack[this.stack.length-1];je.url=Me}function de(){const Me=this.resume(),je=this.stack[this.stack.length-1];je.title=Me}function ve(){this.data.inReference=void 0}function G(){this.data.referenceType="collapsed"}function _e(Me){const je=this.resume(),St=this.stack[this.stack.length-1];St.label=je,St.identifier=Oo(this.sliceSerialize(Me)).toLowerCase(),this.data.referenceType="full"}function Be(Me){this.data.characterReferenceType=Me.type}function Oe(Me){const je=this.sliceSerialize(Me),St=this.data.characterReferenceType;let kt;St?(kt=g2(je,St==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):kt=Zf(je);const gt=this.stack[this.stack.length-1];gt.value+=kt}function Ue(Me){const je=this.stack.pop();je.position.end=Ia(Me.end)}function oe(Me){F.call(this,Me);const je=this.stack[this.stack.length-1];je.url=this.sliceSerialize(Me)}function Se(Me){F.call(this,Me);const je=this.stack[this.stack.length-1];je.url="mailto:"+this.sliceSerialize(Me)}function Ee(){return{type:"blockquote",children:[]}}function Fe(){return{type:"code",lang:null,meta:null,value:""}}function Ye(){return{type:"inlineCode",value:""}}function tt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ne(){return{type:"emphasis",children:[]}}function Pt(){return{type:"heading",depth:0,children:[]}}function Ht(){return{type:"break"}}function Yt(){return{type:"html",value:""}}function En(){return{type:"image",title:null,url:"",alt:null}}function oi(){return{type:"link",title:null,url:"",children:[]}}function Nt(Me){return{type:"list",ordered:Me.type==="listOrdered",start:null,spread:Me._spread,children:[]}}function Dn(Me){return{type:"listItem",spread:Me._spread,checked:null,children:[]}}function xo(){return{type:"paragraph",children:[]}}function Ni(){return{type:"strong",children:[]}}function Fo(){return{type:"text",value:""}}function wr(){return{type:"thematicBreak"}}}function Ia(e){return{line:e.line,column:e.column,offset:e.offset}}function L2(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?L2(e,r):zH(e,r)}}function zH(e,t){let n;for(n in t)if(O2.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function P2(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Jf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Jf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Jf({start:t.start,end:t.end})+") is still open")}function HH(e){const t=this;t.parser=n;function n(r){return _H(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function UH(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function WH(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function KH(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function QH(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $H(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function GH(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Vu(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let l,u=e.footnoteCounts.get(r);u===void 0?(u=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=s+1,u+=1,e.footnoteCounts.set(r,u);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,c);const h={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,h),e.applyData(t,h)}function VH(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function YH(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function F2(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function JH(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return F2(e,t);const i={src:Vu(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function qH(e,t){const n={src:Vu(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function ZH(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function XH(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return F2(e,t);const i={href:Vu(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function e6(e,t){const n={href:Vu(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function t6(e,t,n){const r=e.all(t),i=n?n6(n):B2(t),s={},l=[];if(typeof t.checked=="boolean"){const g=r[0];let m;g&&g.type==="element"&&g.tagName==="p"?m=g:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const g=r[u];(i||u!==0||g.type!=="element"||g.tagName!=="p")&&l.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!i?l.push(...g.children):l.push(g)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&l.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:s,children:l};return e.patch(t,h),e.applyData(t,h)}function n6(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=B2(n[r])}return t}function B2(e){const t=e.spread;return t??e.children.length>1}function r6(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function i6(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function o6(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function s6(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function a6(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),i.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=E0(t.children[1]),c=n2(t.children[t.children.length-1]);u&&c&&(l.position={start:u,end:c}),i.push(l)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function l6(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,u=l?l.length:t.children.length;let c=-1;const h=[];for(;++c<u;){const m=t.children[c],v={},x=l?l[c]:void 0;x&&(v.align=x);let w={type:"element",tagName:s,properties:v,children:[]};m&&(w.children=e.all(m),e.patch(m,w),w=e.applyData(m,w)),h.push(w)}const g={type:"element",tagName:"tr",properties:{},children:e.wrap(h,!0)};return e.patch(t,g),e.applyData(t,g)}function u6(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const N2=9,_2=32;function c6(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(j2(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(j2(t.slice(i),i>0,!1)),s.join("")}function j2(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===N2||s===_2;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===N2||s===_2;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function f6(e,t){const n={type:"text",value:c6(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function d6(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const h6={blockquote:UH,break:WH,code:KH,delete:QH,emphasis:$H,footnoteReference:GH,heading:VH,html:YH,imageReference:JH,image:qH,inlineCode:ZH,linkReference:XH,link:e6,listItem:t6,list:r6,paragraph:i6,root:o6,strong:s6,table:a6,tableCell:u6,tableRow:l6,text:f6,thematicBreak:d6,toml:Rg,yaml:Rg,definition:Rg,footnoteDefinition:Rg};function Rg(){}const z2=-1,Tg=0,nd=1,Og=2,j0=3,z0=4,H0=5,U0=6,H2=7,U2=8,W2=typeof self=="object"?self:globalThis,p6=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,l]=t[i];switch(s){case Tg:case z2:return n(l,i);case nd:{const u=n([],i);for(const c of l)u.push(r(c));return u}case Og:{const u=n({},i);for(const[c,h]of l)u[r(c)]=r(h);return u}case j0:return n(new Date(l),i);case z0:{const{source:u,flags:c}=l;return n(new RegExp(u,c),i)}case H0:{const u=n(new Map,i);for(const[c,h]of l)u.set(r(c),r(h));return u}case U0:{const u=n(new Set,i);for(const c of l)u.add(r(c));return u}case H2:{const{name:u,message:c}=l;return n(new W2[u](c),i)}case U2:return n(BigInt(l),i);case"BigInt":return n(Object(BigInt(l)),i);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return n(new DataView(u),l)}}return n(new W2[s](l),i)};return r},K2=e=>p6(new Map,e)(0),Ju="",{toString:g6}={},{keys:m6}=Object,rd=e=>{const t=typeof e;if(t!=="object"||!e)return[Tg,t];const n=g6.call(e).slice(8,-1);switch(n){case"Array":return[nd,Ju];case"Object":return[Og,Ju];case"Date":return[j0,Ju];case"RegExp":return[z0,Ju];case"Map":return[H0,Ju];case"Set":return[U0,Ju];case"DataView":return[nd,n]}return n.includes("Array")?[nd,n]:n.includes("Error")?[H2,n]:[Og,n]},Lg=([e,t])=>e===Tg&&(t==="function"||t==="symbol"),y6=(e,t,n,r)=>{const i=(l,u)=>{const c=r.push(l)-1;return n.set(u,c),c},s=l=>{if(n.has(l))return n.get(l);let[u,c]=rd(l);switch(u){case Tg:{let g=l;switch(c){case"bigint":u=U2,g=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);g=null;break;case"undefined":return i([z2],l)}return i([u,g],l)}case nd:{if(c){let v=l;return c==="DataView"?v=new Uint8Array(l.buffer):c==="ArrayBuffer"&&(v=new Uint8Array(l)),i([c,[...v]],l)}const g=[],m=i([u,g],l);for(const v of l)g.push(s(v));return m}case Og:{if(c)switch(c){case"BigInt":return i([c,l.toString()],l);case"Boolean":case"Number":case"String":return i([c,l.valueOf()],l)}if(t&&"toJSON"in l)return s(l.toJSON());const g=[],m=i([u,g],l);for(const v of m6(l))(e||!Lg(rd(l[v])))&&g.push([s(v),s(l[v])]);return m}case j0:return i([u,l.toISOString()],l);case z0:{const{source:g,flags:m}=l;return i([u,{source:g,flags:m}],l)}case H0:{const g=[],m=i([u,g],l);for(const[v,x]of l)(e||!(Lg(rd(v))||Lg(rd(x))))&&g.push([s(v),s(x)]);return m}case U0:{const g=[],m=i([u,g],l);for(const v of l)(e||!Lg(rd(v)))&&g.push(s(v));return m}}const{message:h}=l;return i([u,{name:c,message:h}],l)};return s},Q2=(e,{json:t,lossy:n}={})=>{const r=[];return y6(!(t||n),!!t,new Map,r)(e),r},Pg=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?K2(Q2(e,t)):structuredClone(e):(e,t)=>K2(Q2(e,t));function v6(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function A6(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function x6(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||v6,r=e.options.footnoteBackLabel||A6,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let c=-1;for(;++c<e.footnoteOrder.length;){const h=e.footnoteById.get(e.footnoteOrder[c]);if(!h)continue;const g=e.all(h),m=String(h.identifier).toUpperCase(),v=Vu(m.toLowerCase());let x=0;const w=[],E=e.footnoteCounts.get(m);for(;E!==void 0&&++x<=E;){w.length>0&&w.push({type:"text",value:" "});let k=typeof n=="string"?n:n(c,x);typeof k=="string"&&(k={type:"text",value:k}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,x),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const R=g[g.length-1];if(R&&R.type==="element"&&R.tagName==="p"){const k=R.children[R.children.length-1];k&&k.type==="text"?k.value+=" ":R.children.push({type:"text",value:" "}),R.children.push(...w)}else g.push(...w);const S={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(g,!0)};e.patch(h,S),u.push(S)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Pg(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const Fg=function(e){if(e==null)return C6;if(typeof e=="function")return Bg(e);if(typeof e=="object")return Array.isArray(e)?b6(e):w6(e);if(typeof e=="string")return S6(e);throw new Error("Expected function, string, or object as test")};function b6(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Fg(e[n]);return Bg(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function w6(e){const t=e;return Bg(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function S6(e){return Bg(t);function t(n){return n&&n.type===e}}function Bg(e){return t;function t(n,r,i){return!!(k6(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function C6(){return!0}function k6(e){return e!==null&&typeof e=="object"&&"type"in e}function YG(e){return e}const $2=[],I6=!0,W0=!1,E6="skip";function G2(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Fg(i),l=r?-1:1;u(e,void 0,[])();function u(c,h,g){const m=c&&typeof c=="object"?c:{};if(typeof m.type=="string"){const x=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(c.type+(x?"<"+x+">":""))+")"})}return v;function v(){let x=$2,w,E,R;if((!t||s(c,h,g[g.length-1]||void 0))&&(x=D6(n(c,g)),x[0]===W0))return x;if("children"in c&&c.children){const S=c;if(S.children&&x[0]!==E6)for(E=(r?S.children.length:-1)+l,R=g.concat(S);E>-1&&E<S.children.length;){const k=S.children[E];if(w=u(k,E,R)(),w[0]===W0)return w;E=typeof w[1]=="number"?w[1]:E+l}}return x}}}function D6(e){return Array.isArray(e)?e:typeof e=="number"?[I6,e]:e==null?$2:[e]}function K0(e,t,n,r){let i,s,l;typeof t=="function"&&typeof n!="function"?(s=void 0,l=t,i=n):(s=t,l=n,i=r),G2(e,s,u,i);function u(c,h){const g=h[h.length-1],m=g?g.children.indexOf(c):void 0;return l(c,m,g)}}const Q0={}.hasOwnProperty,M6={};function R6(e,t){const n=t||M6,r=new Map,i=new Map,s=new Map,l={...h6,...n.handlers},u={all:h,applyData:O6,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:l,one:c,options:n,patch:T6,wrap:P6};return K0(e,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const m=g.type==="definition"?r:i,v=String(g.identifier).toUpperCase();m.has(v)||m.set(v,g)}}),u;function c(g,m){const v=g.type,x=u.handlers[v];if(Q0.call(u.handlers,v)&&x)return x(u,g,m);if(u.options.passThrough&&u.options.passThrough.includes(v)){if("children"in g){const{children:E,...R}=g,S=Pg(R);return S.children=u.all(g),S}return Pg(g)}return(u.options.unknownHandler||L6)(u,g,m)}function h(g){const m=[];if("children"in g){const v=g.children;let x=-1;for(;++x<v.length;){const w=u.one(v[x],g);if(w){if(x&&v[x-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=V2(w.value)),!Array.isArray(w)&&w.type==="element")){const E=w.children[0];E&&E.type==="text"&&(E.value=V2(E.value))}Array.isArray(w)?m.push(...w):m.push(w)}}}return m}}function T6(e,t){e.position&&(t.position=D5(e))}function O6(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&s&&Object.assign(n.properties,Pg(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function L6(e,t){const n=t.data||{},r="value"in t&&!(Q0.call(n,"hProperties")||Q0.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function P6(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function V2(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Y2(e,t){const n=R6(e,t),r=n.one(e,void 0),i=x6(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function F6(e,t){return e&&"run"in e?async function(n,r){const i=Y2(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Y2(n,{file:r,...e||t})}}function J2(e){if(e)throw e}var Ng=Object.prototype.hasOwnProperty,q2=Object.prototype.toString,Z2=Object.defineProperty,X2=Object.getOwnPropertyDescriptor,eD=function(t){return typeof Array.isArray=="function"?Array.isArray(t):q2.call(t)==="[object Array]"},tD=function(t){if(!t||q2.call(t)!=="[object Object]")return!1;var n=Ng.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Ng.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Ng.call(t,i)},nD=function(t,n){Z2&&n.name==="__proto__"?Z2(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},rD=function(t,n){if(n==="__proto__")if(Ng.call(t,n)){if(X2)return X2(t,n).value}else return;return t[n]},B6=function e(){var t,n,r,i,s,l,u=arguments[0],c=1,h=arguments.length,g=!1;for(typeof u=="boolean"&&(g=u,u=arguments[1]||{},c=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});c<h;++c)if(t=arguments[c],t!=null)for(n in t)r=rD(u,n),i=rD(t,n),u!==i&&(g&&i&&(tD(i)||(s=eD(i)))?(s?(s=!1,l=r&&eD(r)?r:[]):l=r&&tD(r)?r:{},nD(u,{name:n,newValue:e(g,l,i)})):typeof i<"u"&&nD(u,{name:n,newValue:i}));return u};const $0=Mn(B6);function G0(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function N6(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...i);function u(c,...h){const g=e[++s];let m=-1;if(c){l(c);return}for(;++m<i.length;)(h[m]===null||h[m]===void 0)&&(h[m]=i[m]);i=h,g?_6(g,u)(...h):l(null,...h)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function _6(e,t){let n;return r;function r(...l){const u=e.length>l.length;let c;u&&l.push(i);try{c=e.apply(this,l)}catch(h){const g=h;if(u&&n)throw g;return i(g)}u||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(l,...u){n||(n=!0,t(l,...u))}function s(l){i(null,l)}}const ts={basename:j6,dirname:z6,extname:H6,join:U6,sep:"/"};function j6(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');id(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,u=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else l<0&&(s=!0,l=i+1),u>-1&&(e.codePointAt(i)===t.codePointAt(u--)?u<0&&(r=i):(u=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function z6(e){if(id(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function H6(e){id(e);let t=e.length,n=-1,r=0,i=-1,s=0,l;for(;t--;){const u=e.codePointAt(t);if(u===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),u===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function U6(...e){let t=-1,n;for(;++t<e.length;)id(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":W6(n)}function W6(e){id(e);const t=e.codePointAt(0)===47;let n=K6(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function K6(e,t){let n="",r=0,i=-1,s=0,l=-1,u,c;for(;++l<=e.length;){if(l<e.length)u=e.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(i===l-1||s===1))if(i!==l-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=l,s=0;continue}}else if(n.length>0){n="",r=0,i=l,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,l):n=e.slice(i+1,l),r=l-i-1;i=l,s=0}else u===46&&s>-1?s++:s=-1}return n}function id(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Q6={cwd:$6};function $6(){return"/"}function V0(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function G6(e){if(typeof e=="string")e=new URL(e);else if(!V0(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return V6(e)}function V6(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Y0=["history","path","basename","stem","extname","dirname"];class iD{constructor(t){let n;t?V0(t)?n={path:t}:typeof t=="string"||Y6(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Q6.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Y0.length;){const s=Y0[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Y0.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ts.basename(this.path):void 0}set basename(t){q0(t,"basename"),J0(t,"basename"),this.path=ts.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ts.dirname(this.path):void 0}set dirname(t){oD(this.basename,"dirname"),this.path=ts.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ts.extname(this.path):void 0}set extname(t){if(J0(t,"extname"),oD(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ts.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){V0(t)&&(t=G6(t)),q0(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ts.basename(this.path,this.extname):void 0}set stem(t){q0(t,"stem"),J0(t,"stem"),this.path=ts.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new ni(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function J0(e,t){if(e&&e.includes(ts.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ts.sep+"`")}function q0(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function oD(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Y6(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const J6=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},q6={}.hasOwnProperty;class Z0 extends J6{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=N6()}copy(){const t=new Z0;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data($0(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(tx("data",this.frozen),this.namespace[t]=n,this):q6.call(this.namespace,t)&&this.namespace[t]||void 0:t?(tx("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=_g(t),r=this.parser||this.Parser;return X0("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),X0("process",this.parser||this.Parser),ex("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,l){const u=_g(t),c=r.parse(u);r.run(c,u,function(g,m,v){if(g||!m||!v)return h(g);const x=m,w=r.stringify(x,v);eU(w)?v.value=w:v.result=w,h(g,v)});function h(g,m){g||!m?l(g):s?s(m):n(void 0,m)}}}processSync(t){let n=!1,r;return this.freeze(),X0("processSync",this.parser||this.Parser),ex("processSync",this.compiler||this.Compiler),this.process(t,i),aD("processSync","process",n),r;function i(s,l){n=!0,J2(s),r=l}}run(t,n,r){sD(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(l,u){const c=_g(n);i.run(t,c,h);function h(g,m,v){const x=m||t;g?u(g):l?l(x):r(void 0,x,v)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),aD("runSync","run",r),i;function s(l,u){J2(l),i=u,r=!0}}stringify(t,n){this.freeze();const r=_g(n),i=this.compiler||this.Compiler;return ex("stringify",i),sD(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(tx("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(h){if(typeof h=="function")c(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[g,...m]=h;c(g,m)}else l(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function l(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(h.plugins),h.settings&&(i.settings=$0(!0,i.settings,h.settings))}function u(h){let g=-1;if(h!=null)if(Array.isArray(h))for(;++g<h.length;){const m=h[g];s(m)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function c(h,g){let m=-1,v=-1;for(;++m<r.length;)if(r[m][0]===h){v=m;break}if(v===-1)r.push([h,...g]);else if(g.length>0){let[x,...w]=g;const E=r[v][1];G0(E)&&G0(x)&&(x=$0(!0,E,x)),r[v]=[h,x,...w]}}}}const Z6=new Z0().freeze();function X0(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ex(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function tx(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function sD(e){if(!G0(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function aD(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function _g(e){return X6(e)?e:new iD(e)}function X6(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function eU(e){return typeof e=="string"||tU(e)}function tU(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const nU="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",lD=[],uD={allowDangerousHtml:!0},rU=/^(https?|ircs?|mailto|xmpp)$/i,iU=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function oU(e){const t=sU(e),n=aU(e);return lU(t.runSync(t.parse(n),n),e)}function sU(e){const t=e.rehypePlugins||lD,n=e.remarkPlugins||lD,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...uD}:uD;return Z6().use(HH).use(n).use(F6,r).use(t)}function aU(e){const t=e.children||"",n=new iD;return typeof t=="string"&&(n.value=t),n}function lU(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,l=t.skipHtml,u=t.unwrapDisallowed,c=t.urlTransform||uU;for(const g of iU)Object.hasOwn(t,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+nU+g.id,void 0);return K0(e,h),L5(e,{Fragment:T.Fragment,components:i,ignoreInvalidStyle:!0,jsx:T.jsx,jsxs:T.jsxs,passKeys:!0,passNode:!0});function h(g,m,v){if(g.type==="raw"&&v&&typeof m=="number")return l?v.children.splice(m,1):v.children[m]={type:"text",value:g.value},m;if(g.type==="element"){let x;for(x in O0)if(Object.hasOwn(O0,x)&&Object.hasOwn(g.properties,x)){const w=g.properties[x],E=O0[x];(E===null||E.includes(g.tagName))&&(g.properties[x]=c(String(w||""),x,g))}}if(g.type==="element"){let x=n?!n.includes(g.tagName):s?s.includes(g.tagName):!1;if(!x&&r&&typeof m=="number"&&(x=!r(g,m,v)),x&&v&&typeof m=="number")return u&&g.children?v.children.splice(m,1,...g.children):v.children.splice(m,1),m}}}function uU(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||rU.test(e.slice(0,t))?e:""}function cD(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function cU(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function fU(e,t,n){const i=Fg((n||{}).ignore||[]),s=dU(t);let l=-1;for(;++l<s.length;)G2(e,"text",u);function u(h,g){let m=-1,v;for(;++m<g.length;){const x=g[m],w=v?v.children:void 0;if(i(x,w?w.indexOf(x):void 0,v))return;v=x}if(v)return c(h,g)}function c(h,g){const m=g[g.length-1],v=s[l][0],x=s[l][1];let w=0;const R=m.children.indexOf(h);let S=!1,k=[];v.lastIndex=0;let M=v.exec(h.value);for(;M;){const P=M.index,W={index:M.index,input:M.input,stack:[...g,h]};let z=x(...M,W);if(typeof z=="string"&&(z=z.length>0?{type:"text",value:z}:void 0),z===!1?v.lastIndex=P+1:(w!==P&&k.push({type:"text",value:h.value.slice(w,P)}),Array.isArray(z)?k.push(...z):z&&k.push(z),w=P+M[0].length,S=!0),!v.global)break;M=v.exec(h.value)}return S?(w<h.value.length&&k.push({type:"text",value:h.value.slice(w)}),m.children.splice(R,1,...k)):k=[h],R+k.length}}function dU(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([hU(i[0]),pU(i[1])])}return t}function hU(e){return typeof e=="string"?new RegExp(cU(e),"g"):e}function pU(e){return typeof e=="function"?e:function(){return e}}const nx="phrasing",rx=["autolink","link","image","label"];function gU(){return{transforms:[wU],enter:{literalAutolink:yU,literalAutolinkEmail:ix,literalAutolinkHttp:ix,literalAutolinkWww:ix},exit:{literalAutolink:bU,literalAutolinkEmail:xU,literalAutolinkHttp:vU,literalAutolinkWww:AU}}}function mU(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:nx,notInConstruct:rx},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:nx,notInConstruct:rx},{character:":",before:"[ps]",after:"\\/",inConstruct:nx,notInConstruct:rx}]}}function yU(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function ix(e){this.config.enter.autolinkProtocol.call(this,e)}function vU(e){this.config.exit.autolinkProtocol.call(this,e)}function AU(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function xU(e){this.config.exit.autolinkEmail.call(this,e)}function bU(e){this.exit(e)}function wU(e){fU(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,SU],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),CU]],{ignore:["link","linkReference"]})}function SU(e,t,n,r,i){let s="";if(!fD(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!kU(n)))return!1;const l=IU(n+r);if(!l[0])return!1;const u={type:"link",title:null,url:s+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[u,{type:"text",value:l[1]}]:u}function CU(e,t,n,r){return!fD(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function kU(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function IU(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=cD(e,"(");let s=cD(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function fD(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Rl(n)||Eg(n))&&(!t||n!==47)}dD.peek=FU;function EU(){this.buffer()}function DU(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function MU(){this.buffer()}function RU(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function TU(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Oo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function OU(e){this.exit(e)}function LU(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Oo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function PU(e){this.exit(e)}function FU(){return"["}function dD(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const l=n.enter("footnoteReference"),u=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),u(),l(),s+=i.move("]"),s}function BU(){return{enter:{gfmFootnoteCallString:EU,gfmFootnoteCall:DU,gfmFootnoteDefinitionLabelString:MU,gfmFootnoteDefinition:RU},exit:{gfmFootnoteCallString:TU,gfmFootnoteCall:OU,gfmFootnoteDefinitionLabelString:LU,gfmFootnoteDefinition:PU}}}function NU(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:dD},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,l){const u=s.createTracker(l);let c=u.move("[^");const h=s.enter("footnoteDefinition"),g=s.enter("label");return c+=u.move(s.safe(s.associationId(r),{before:c,after:"]"})),g(),c+=u.move("]:"),r.children&&r.children.length>0&&(u.shift(4),c+=u.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,u.current()),t?hD:_U))),h(),c}}function _U(e,t,n){return t===0?e:hD(e,t,n)}function hD(e,t,n){return(n?"":"    ")+e}const jU=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];pD.peek=KU;function zU(){return{canContainEols:["delete"],enter:{strikethrough:UU},exit:{strikethrough:WU}}}function HU(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:jU}],handlers:{delete:pD}}}function UU(e){this.enter({type:"delete",children:[]},e)}function WU(e){this.exit(e)}function pD(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let l=i.move("~~");return l+=n.containerPhrasing(e,{...i.current(),before:l,after:"~"}),l+=i.move("~~"),s(),l}function KU(){return"~"}function QU(e){return e.length}function $U(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||QU,s=[],l=[],u=[],c=[];let h=0,g=-1;for(;++g<e.length;){const E=[],R=[];let S=-1;for(e[g].length>h&&(h=e[g].length);++S<e[g].length;){const k=GU(e[g][S]);if(n.alignDelimiters!==!1){const M=i(k);R[S]=M,(c[S]===void 0||M>c[S])&&(c[S]=M)}E.push(k)}l[g]=E,u[g]=R}let m=-1;if(typeof r=="object"&&"length"in r)for(;++m<h;)s[m]=gD(r[m]);else{const E=gD(r);for(;++m<h;)s[m]=E}m=-1;const v=[],x=[];for(;++m<h;){const E=s[m];let R="",S="";E===99?(R=":",S=":"):E===108?R=":":E===114&&(S=":");let k=n.alignDelimiters===!1?1:Math.max(1,c[m]-R.length-S.length);const M=R+"-".repeat(k)+S;n.alignDelimiters!==!1&&(k=R.length+k+S.length,k>c[m]&&(c[m]=k),x[m]=k),v[m]=M}l.splice(1,0,v),u.splice(1,0,x),g=-1;const w=[];for(;++g<l.length;){const E=l[g],R=u[g];m=-1;const S=[];for(;++m<h;){const k=E[m]||"";let M="",P="";if(n.alignDelimiters!==!1){const W=c[m]-(R[m]||0),z=s[m];z===114?M=" ".repeat(W):z===99?W%2?(M=" ".repeat(W/2+.5),P=" ".repeat(W/2-.5)):(M=" ".repeat(W/2),P=M):P=" ".repeat(W)}n.delimiterStart!==!1&&!m&&S.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&k==="")&&(n.delimiterStart!==!1||m)&&S.push(" "),n.alignDelimiters!==!1&&S.push(M),S.push(k),n.alignDelimiters!==!1&&S.push(P),n.padding!==!1&&S.push(" "),(n.delimiterEnd!==!1||m!==h-1)&&S.push("|")}w.push(n.delimiterEnd===!1?S.join("").replace(/ +$/,""):S.join(""))}return w.join(`
`)}function GU(e){return e==null?"":String(e)}function gD(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function VU(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const l=n.indentLines(n.containerFlow(e,s.current()),YU);return i(),l}function YU(e,t,n){return">"+(n?"":" ")+e}function JU(e,t){return mD(e,t.inConstruct,!0)&&!mD(e,t.notInConstruct,!1)}function mD(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function yD(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&JU(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function qU(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>l&&(l=s):s=1,i=r+t.length,r=n.indexOf(t,i);return l}function ZU(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function XU(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function eW(e,t,n,r){const i=XU(n),s=e.value||"",l=i==="`"?"GraveAccent":"Tilde";if(ZU(e,n)){const m=n.enter("codeIndented"),v=n.indentLines(s,tW);return m(),v}const u=n.createTracker(r),c=i.repeat(Math.max(qU(s,i)+1,3)),h=n.enter("codeFenced");let g=u.move(c);if(e.lang){const m=n.enter(`codeFencedLang${l}`);g+=u.move(n.safe(e.lang,{before:g,after:" ",encode:["`"],...u.current()})),m()}if(e.lang&&e.meta){const m=n.enter(`codeFencedMeta${l}`);g+=u.move(" "),g+=u.move(n.safe(e.meta,{before:g,after:`
`,encode:["`"],...u.current()})),m()}return g+=u.move(`
`),s&&(g+=u.move(s+`
`)),g+=u.move(c),h(),g}function tW(e,t,n){return(n?"":"    ")+e}function ox(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function nW(e,t,n,r){const i=ox(n),s=i==='"'?"Quote":"Apostrophe",l=n.enter("definition");let u=n.enter("label");const c=n.createTracker(r);let h=c.move("[");return h+=c.move(n.safe(n.associationId(e),{before:h,after:"]",...c.current()})),h+=c.move("]: "),u(),!e.url||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),h+=c.move("<"),h+=c.move(n.safe(e.url,{before:h,after:">",...c.current()})),h+=c.move(">")):(u=n.enter("destinationRaw"),h+=c.move(n.safe(e.url,{before:h,after:e.title?" ":`
`,...c.current()}))),u(),e.title&&(u=n.enter(`title${s}`),h+=c.move(" "+i),h+=c.move(n.safe(e.title,{before:h,after:i,...c.current()})),h+=c.move(i),u()),l(),h}function rW(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function od(e){return"&#x"+e.toString(16).toUpperCase()+";"}function jg(e,t,n){const r=Yu(e),i=Yu(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}vD.peek=iW;function vD(e,t,n,r){const i=rW(n),s=n.enter("emphasis"),l=n.createTracker(r),u=l.move(i);let c=l.move(n.containerPhrasing(e,{after:i,before:u,...l.current()}));const h=c.charCodeAt(0),g=jg(r.before.charCodeAt(r.before.length-1),h,i);g.inside&&(c=od(h)+c.slice(1));const m=c.charCodeAt(c.length-1),v=jg(r.after.charCodeAt(0),m,i);v.inside&&(c=c.slice(0,-1)+od(m));const x=l.move(i);return s(),n.attentionEncodeSurroundingInfo={after:v.outside,before:g.outside},u+c+x}function iW(e,t,n){return n.options.emphasis||"*"}function oW(e,t){let n=!1;return K0(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,W0}),!!((!e.depth||e.depth<3)&&L0(e)&&(t.options.setext||n))}function sW(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(oW(e,n)){const g=n.enter("headingSetext"),m=n.enter("phrasing"),v=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return m(),g(),v+`
`+(i===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const l="#".repeat(i),u=n.enter("headingAtx"),c=n.enter("phrasing");s.move(l+" ");let h=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(h)&&(h=od(h.charCodeAt(0))+h.slice(1)),h=h?l+" "+h:l,n.options.closeAtx&&(h+=" "+l),c(),u(),h}AD.peek=aW;function AD(e){return e.value||""}function aW(){return"<"}xD.peek=lW;function xD(e,t,n,r){const i=ox(n),s=i==='"'?"Quote":"Apostrophe",l=n.enter("image");let u=n.enter("label");const c=n.createTracker(r);let h=c.move("![");return h+=c.move(n.safe(e.alt,{before:h,after:"]",...c.current()})),h+=c.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),h+=c.move("<"),h+=c.move(n.safe(e.url,{before:h,after:">",...c.current()})),h+=c.move(">")):(u=n.enter("destinationRaw"),h+=c.move(n.safe(e.url,{before:h,after:e.title?" ":")",...c.current()}))),u(),e.title&&(u=n.enter(`title${s}`),h+=c.move(" "+i),h+=c.move(n.safe(e.title,{before:h,after:i,...c.current()})),h+=c.move(i),u()),h+=c.move(")"),l(),h}function lW(){return"!"}bD.peek=uW;function bD(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let l=n.enter("label");const u=n.createTracker(r);let c=u.move("![");const h=n.safe(e.alt,{before:c,after:"]",...u.current()});c+=u.move(h+"]["),l();const g=n.stack;n.stack=[],l=n.enter("reference");const m=n.safe(n.associationId(e),{before:c,after:"]",...u.current()});return l(),n.stack=g,s(),i==="full"||!h||h!==m?c+=u.move(m+"]"):i==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function uW(){return"!"}wD.peek=cW;function wD(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const l=n.unsafe[s],u=n.compilePattern(l);let c;if(l.atBreak)for(;c=u.exec(r);){let h=c.index;r.charCodeAt(h)===10&&r.charCodeAt(h-1)===13&&h--,r=r.slice(0,h)+" "+r.slice(c.index+1)}}return i+r+i}function cW(){return"`"}function SD(e,t){const n=L0(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}CD.peek=fW;function CD(e,t,n,r){const i=ox(n),s=i==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let u,c;if(SD(e,n)){const g=n.stack;n.stack=[],u=n.enter("autolink");let m=l.move("<");return m+=l.move(n.containerPhrasing(e,{before:m,after:">",...l.current()})),m+=l.move(">"),u(),n.stack=g,m}u=n.enter("link"),c=n.enter("label");let h=l.move("[");return h+=l.move(n.containerPhrasing(e,{before:h,after:"](",...l.current()})),h+=l.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),h+=l.move("<"),h+=l.move(n.safe(e.url,{before:h,after:">",...l.current()})),h+=l.move(">")):(c=n.enter("destinationRaw"),h+=l.move(n.safe(e.url,{before:h,after:e.title?" ":")",...l.current()}))),c(),e.title&&(c=n.enter(`title${s}`),h+=l.move(" "+i),h+=l.move(n.safe(e.title,{before:h,after:i,...l.current()})),h+=l.move(i),c()),h+=l.move(")"),u(),h}function fW(e,t,n){return SD(e,n)?"<":"["}kD.peek=dW;function kD(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let l=n.enter("label");const u=n.createTracker(r);let c=u.move("[");const h=n.containerPhrasing(e,{before:c,after:"]",...u.current()});c+=u.move(h+"]["),l();const g=n.stack;n.stack=[],l=n.enter("reference");const m=n.safe(n.associationId(e),{before:c,after:"]",...u.current()});return l(),n.stack=g,s(),i==="full"||!h||h!==m?c+=u.move(m+"]"):i==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function dW(){return"["}function sx(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function hW(e){const t=sx(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function pW(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function ID(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function gW(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let l=e.ordered?pW(n):sx(n);const u=e.ordered?l==="."?")":".":hW(n);let c=t&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!e.ordered){const g=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&g&&(!g.children||!g.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),ID(n)===l&&g){let m=-1;for(;++m<e.children.length;){const v=e.children[m];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(l=u),n.bulletCurrent=l;const h=n.containerFlow(e,r);return n.bulletLastUsed=l,n.bulletCurrent=s,i(),h}function mW(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function yW(e,t,n,r){const i=mW(n);let s=n.bulletCurrent||sx(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let l=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);const u=n.createTracker(r);u.move(s+" ".repeat(l-s.length)),u.shift(l);const c=n.enter("listItem"),h=n.indentLines(n.containerFlow(e,u.current()),g);return c(),h;function g(m,v,x){return v?(x?"":" ".repeat(l))+m:(x?s:s+" ".repeat(l-s.length))+m}}function vW(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),l=n.containerPhrasing(e,r);return s(),i(),l}const AW=Fg(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function xW(e,t,n,r){return(e.children.some(function(l){return AW(l)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function bW(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}ED.peek=wW;function ED(e,t,n,r){const i=bW(n),s=n.enter("strong"),l=n.createTracker(r),u=l.move(i+i);let c=l.move(n.containerPhrasing(e,{after:i,before:u,...l.current()}));const h=c.charCodeAt(0),g=jg(r.before.charCodeAt(r.before.length-1),h,i);g.inside&&(c=od(h)+c.slice(1));const m=c.charCodeAt(c.length-1),v=jg(r.after.charCodeAt(0),m,i);v.inside&&(c=c.slice(0,-1)+od(m));const x=l.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:v.outside,before:g.outside},u+c+x}function wW(e,t,n){return n.options.strong||"*"}function SW(e,t,n,r){return n.safe(e.value,r)}function CW(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function kW(e,t,n){const r=(ID(n)+(n.options.ruleSpaces?" ":"")).repeat(CW(n));return n.options.ruleSpaces?r.slice(0,-1):r}const DD={blockquote:VU,break:yD,code:eW,definition:nW,emphasis:vD,hardBreak:yD,heading:sW,html:AD,image:xD,imageReference:bD,inlineCode:wD,link:CD,linkReference:kD,list:gW,listItem:yW,paragraph:vW,root:xW,strong:ED,text:SW,thematicBreak:kW};function IW(){return{enter:{table:EW,tableData:MD,tableHeader:MD,tableRow:MW},exit:{codeText:RW,table:DW,tableData:ax,tableHeader:ax,tableRow:ax}}}function EW(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function DW(e){this.exit(e),this.data.inTable=void 0}function MW(e){this.enter({type:"tableRow",children:[]},e)}function ax(e){this.exit(e)}function MD(e){this.enter({type:"tableCell",children:[]},e)}function RW(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,TW));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function TW(e,t){return t==="|"?t:e}function OW(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:l,tableCell:c,tableRow:u}};function l(x,w,E,R){return h(g(x,E,R),x.align)}function u(x,w,E,R){const S=m(x,E,R),k=h([S]);return k.slice(0,k.indexOf(`
`))}function c(x,w,E,R){const S=E.enter("tableCell"),k=E.enter("phrasing"),M=E.containerPhrasing(x,{...R,before:s,after:s});return k(),S(),M}function h(x,w){return $U(x,{align:w,alignDelimiters:r,padding:n,stringLength:i})}function g(x,w,E){const R=x.children;let S=-1;const k=[],M=w.enter("table");for(;++S<R.length;)k[S]=m(R[S],w,E);return M(),k}function m(x,w,E){const R=x.children;let S=-1;const k=[],M=w.enter("tableRow");for(;++S<R.length;)k[S]=c(R[S],x,w,E);return M(),k}function v(x,w,E){let R=DD.inlineCode(x,w,E);return E.stack.includes("tableCell")&&(R=R.replace(/\|/g,"\\$&")),R}}function LW(){return{exit:{taskListCheckValueChecked:RD,taskListCheckValueUnchecked:RD,paragraph:FW}}}function PW(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:BW}}}function RD(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function FW(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,l;for(;++s<i.length;){const u=i[s];if(u.type==="paragraph"){l=u;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function BW(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",u=n.createTracker(r);s&&u.move(l);let c=DD.listItem(e,t,n,{...r,...u.current()});return s&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,h)),c;function h(g){return g+l}}function NW(){return[gU(),BU(),zU(),IW(),LW()]}function _W(e){return{extensions:[mU(),NU(e),HU(),OW(e),PW()]}}const jW={tokenize:QW,partial:!0},TD={tokenize:$W,partial:!0},OD={tokenize:GW,partial:!0},LD={tokenize:VW,partial:!0},zW={tokenize:YW,partial:!0},PD={name:"wwwAutolink",tokenize:WW,previous:BD},FD={name:"protocolAutolink",tokenize:KW,previous:ND},Ps={name:"emailAutolink",tokenize:UW,previous:_D},ns={};function HW(){return{text:ns}}let Tl=48;for(;Tl<123;)ns[Tl]=Ps,Tl++,Tl===58?Tl=65:Tl===91&&(Tl=97);ns[43]=Ps,ns[45]=Ps,ns[46]=Ps,ns[95]=Ps,ns[72]=[Ps,FD],ns[104]=[Ps,FD],ns[87]=[Ps,PD],ns[119]=[Ps,PD];function UW(e,t,n){const r=this;let i,s;return l;function l(m){return!lx(m)||!_D.call(r,r.previous)||ux(r.events)?n(m):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),u(m))}function u(m){return lx(m)?(e.consume(m),u):m===64?(e.consume(m),c):n(m)}function c(m){return m===46?e.check(zW,g,h)(m):m===45||m===95||ri(m)?(s=!0,e.consume(m),c):g(m)}function h(m){return e.consume(m),i=!0,c}function g(m){return s&&i&&mi(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(m)):n(m)}}function WW(e,t,n){const r=this;return i;function i(l){return l!==87&&l!==119||!BD.call(r,r.previous)||ux(r.events)?n(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(jW,e.attempt(TD,e.attempt(OD,s),n),n)(l))}function s(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(l)}}function KW(e,t,n){const r=this;let i="",s=!1;return l;function l(m){return(m===72||m===104)&&ND.call(r,r.previous)&&!ux(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(m),e.consume(m),u):n(m)}function u(m){if(mi(m)&&i.length<5)return i+=String.fromCodePoint(m),e.consume(m),u;if(m===58){const v=i.toLowerCase();if(v==="http"||v==="https")return e.consume(m),c}return n(m)}function c(m){return m===47?(e.consume(m),s?h:(s=!0,c)):n(m)}function h(m){return m===null||Ig(m)||Sn(m)||Rl(m)||Eg(m)?n(m):e.attempt(TD,e.attempt(OD,g),n)(m)}function g(m){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(m)}}function QW(e,t,n){let r=0;return i;function i(l){return(l===87||l===119)&&r<3?(r++,e.consume(l),i):l===46&&r===3?(e.consume(l),s):n(l)}function s(l){return l===null?n(l):t(l)}}function $W(e,t,n){let r,i,s;return l;function l(h){return h===46||h===95?e.check(LD,c,u)(h):h===null||Sn(h)||Rl(h)||h!==45&&Eg(h)?c(h):(s=!0,e.consume(h),l)}function u(h){return h===95?r=!0:(i=r,r=void 0),e.consume(h),l}function c(h){return i||r||!s?n(h):t(h)}}function GW(e,t){let n=0,r=0;return i;function i(l){return l===40?(n++,e.consume(l),i):l===41&&r<n?s(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check(LD,t,s)(l):l===null||Sn(l)||Rl(l)?t(l):(e.consume(l),i)}function s(l){return l===41&&r++,e.consume(l),i}}function VW(e,t,n){return r;function r(u){return u===33||u===34||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===63||u===95||u===126?(e.consume(u),r):u===38?(e.consume(u),s):u===93?(e.consume(u),i):u===60||u===null||Sn(u)||Rl(u)?t(u):n(u)}function i(u){return u===null||u===40||u===91||Sn(u)||Rl(u)?t(u):r(u)}function s(u){return mi(u)?l(u):n(u)}function l(u){return u===59?(e.consume(u),r):mi(u)?(e.consume(u),l):n(u)}}function YW(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return ri(s)?n(s):t(s)}}function BD(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Sn(e)}function ND(e){return!mi(e)}function _D(e){return!(e===47||lx(e))}function lx(e){return e===43||e===45||e===46||e===95||ri(e)}function ux(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const JW={tokenize:iK,partial:!0};function qW(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:tK,continuation:{tokenize:nK},exit:rK}},text:{91:{name:"gfmFootnoteCall",tokenize:eK},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:ZW,resolveTo:XW}}}}function ZW(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){l=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return u;function u(c){if(!l||!l._balanced)return n(c);const h=Oo(r.sliceSerialize({start:l.end,end:r.now()}));return h.codePointAt(0)!==94||!s.includes(h.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function XW(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},u=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",l,t],["exit",l,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...u),e}function eK(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,l;return u;function u(m){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),c}function c(m){return m!==94?n(m):(e.enter("gfmFootnoteCallMarker"),e.consume(m),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",h)}function h(m){if(s>999||m===93&&!l||m===null||m===91||Sn(m))return n(m);if(m===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return i.includes(Oo(r.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(m)}return Sn(m)||(l=!0),s++,e.consume(m),m===92?g:h}function g(m){return m===91||m===92||m===93?(e.consume(m),s++,h):h(m)}}function tK(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,l=0,u;return c;function c(w){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),h}function h(w){return w===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",g):n(w)}function g(w){if(l>999||w===93&&!u||w===null||w===91||Sn(w))return n(w);if(w===93){e.exit("chunkString");const E=e.exit("gfmFootnoteDefinitionLabelString");return s=Oo(r.sliceSerialize(E)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return Sn(w)||(u=!0),l++,e.consume(w),w===92?m:g}function m(w){return w===91||w===92||w===93?(e.consume(w),l++,g):g(w)}function v(w){return w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),i.includes(s)||i.push(s),Xt(e,x,"gfmFootnoteDefinitionWhitespace")):n(w)}function x(w){return t(w)}}function nK(e,t,n){return e.check(Xf,t,e.attempt(JW,t,n))}function rK(e){e.exit("gfmFootnoteDefinition")}function iK(e,t,n){const r=this;return Xt(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?t(s):n(s)}}function oK(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(l,u){let c=-1;for(;++c<l.length;)if(l[c][0]==="enter"&&l[c][1].type==="strikethroughSequenceTemporary"&&l[c][1]._close){let h=c;for(;h--;)if(l[h][0]==="exit"&&l[h][1].type==="strikethroughSequenceTemporary"&&l[h][1]._open&&l[c][1].end.offset-l[c][1].start.offset===l[h][1].end.offset-l[h][1].start.offset){l[c][1].type="strikethroughSequence",l[h][1].type="strikethroughSequence";const g={type:"strikethrough",start:Object.assign({},l[h][1].start),end:Object.assign({},l[c][1].end)},m={type:"strikethroughText",start:Object.assign({},l[h][1].end),end:Object.assign({},l[c][1].start)},v=[["enter",g,u],["enter",l[h][1],u],["exit",l[h][1],u],["enter",m,u]],x=u.parser.constructs.insideSpan.null;x&&eo(v,v.length,0,Dg(x,l.slice(h+1,c),u)),eo(v,v.length,0,[["exit",m,u],["enter",l[c][1],u],["exit",l[c][1],u],["exit",g,u]]),eo(l,h-1,c-h+3,v),c=h+v.length-2;break}}for(c=-1;++c<l.length;)l[c][1].type==="strikethroughSequenceTemporary"&&(l[c][1].type="data");return l}function s(l,u,c){const h=this.previous,g=this.events;let m=0;return v;function v(w){return h===126&&g[g.length-1][1].type!=="characterEscape"?c(w):(l.enter("strikethroughSequenceTemporary"),x(w))}function x(w){const E=Yu(h);if(w===126)return m>1?c(w):(l.consume(w),m++,x);if(m<2&&!n)return c(w);const R=l.exit("strikethroughSequenceTemporary"),S=Yu(w);return R._open=!S||S===2&&!!E,R._close=!E||E===2&&!!S,u(w)}}}class sK{constructor(){this.map=[]}add(t,n,r){aK(this,t,n,r)}consume(t){if(this.map.sort(function(s,l){return s[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function aK(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function lK(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function uK(){return{flow:{null:{name:"table",tokenize:cK,resolveAll:fK}}}}function cK(e,t,n){const r=this;let i=0,s=0,l;return u;function u(F){let Y=r.events.length-1;for(;Y>-1;){const V=r.events[Y][1].type;if(V==="lineEnding"||V==="linePrefix")Y--;else break}const re=Y>-1?r.events[Y][1].type:null,J=re==="tableHead"||re==="tableRow"?z:c;return J===z&&r.parser.lazy[r.now().line]?n(F):J(F)}function c(F){return e.enter("tableHead"),e.enter("tableRow"),h(F)}function h(F){return F===124||(l=!0,s+=1),g(F)}function g(F){return F===null?n(F):Mt(F)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),x):n(F):Gt(F)?Xt(e,g,"whitespace")(F):(s+=1,l&&(l=!1,i+=1),F===124?(e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),l=!0,g):(e.enter("data"),m(F)))}function m(F){return F===null||F===124||Sn(F)?(e.exit("data"),g(F)):(e.consume(F),F===92?v:m)}function v(F){return F===92||F===124?(e.consume(F),m):m(F)}function x(F){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(F):(e.enter("tableDelimiterRow"),l=!1,Gt(F)?Xt(e,w,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):w(F))}function w(F){return F===45||F===58?R(F):F===124?(l=!0,e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),E):W(F)}function E(F){return Gt(F)?Xt(e,R,"whitespace")(F):R(F)}function R(F){return F===58?(s+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(F),e.exit("tableDelimiterMarker"),S):F===45?(s+=1,S(F)):F===null||Mt(F)?P(F):W(F)}function S(F){return F===45?(e.enter("tableDelimiterFiller"),k(F)):W(F)}function k(F){return F===45?(e.consume(F),k):F===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(F),e.exit("tableDelimiterMarker"),M):(e.exit("tableDelimiterFiller"),M(F))}function M(F){return Gt(F)?Xt(e,P,"whitespace")(F):P(F)}function P(F){return F===124?w(F):F===null||Mt(F)?!l||i!==s?W(F):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(F)):W(F)}function W(F){return n(F)}function z(F){return e.enter("tableRow"),Q(F)}function Q(F){return F===124?(e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),Q):F===null||Mt(F)?(e.exit("tableRow"),t(F)):Gt(F)?Xt(e,Q,"whitespace")(F):(e.enter("data"),$(F))}function $(F){return F===null||F===124||Sn(F)?(e.exit("data"),Q(F)):(e.consume(F),F===92?se:$)}function se(F){return F===92||F===124?(e.consume(F),$):$(F)}}function fK(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],l=[0,0,0,0],u=!1,c=0,h,g,m;const v=new sK;for(;++n<e.length;){const x=e[n],w=x[1];x[0]==="enter"?w.type==="tableHead"?(u=!1,c!==0&&(jD(v,t,c,h,g),g=void 0,c=0),h={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},v.add(n,0,[["enter",h,t]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(r=!0,m=void 0,s=[0,0,0,0],l=[0,n+1,0,0],u&&(u=!1,g={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},v.add(n,0,[["enter",g,t]])),i=w.type==="tableDelimiterRow"?2:g?3:1):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(s[1]!==0&&(l[0]=l[1],m=zg(v,t,s,i,void 0,m),s=[0,0,0,0]),l[2]=n)):w.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(l[0]=l[1],m=zg(v,t,s,i,void 0,m)),s=l,l=[s[1],n,0,0])):w.type==="tableHead"?(u=!0,c=n):w.type==="tableRow"||w.type==="tableDelimiterRow"?(c=n,s[1]!==0?(l[0]=l[1],m=zg(v,t,s,i,n,m)):l[1]!==0&&(m=zg(v,t,l,i,n,m)),i=0):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(l[3]=n)}for(c!==0&&jD(v,t,c,h,g),v.consume(t.events),n=-1;++n<t.events.length;){const x=t.events[n];x[0]==="enter"&&x[1].type==="table"&&(x[1]._align=lK(t.events,n))}return e}function zg(e,t,n,r,i,s){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",u="tableContent";n[0]!==0&&(s.end=Object.assign({},qu(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const c=qu(t.events,n[1]);if(s={type:l,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const h=qu(t.events,n[2]),g=qu(t.events,n[3]),m={type:u,start:Object.assign({},h),end:Object.assign({},g)};if(e.add(n[2],0,[["enter",m,t]]),r!==2){const v=t.events[n[2]],x=t.events[n[3]];if(v[1].end=Object.assign({},x[1].end),v[1].type="chunkText",v[1].contentType="text",n[3]>n[2]+1){const w=n[2]+1,E=n[3]-n[2]-1;e.add(w,E,[])}}e.add(n[3]+1,0,[["exit",m,t]])}return i!==void 0&&(s.end=Object.assign({},qu(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function jD(e,t,n,r,i){const s=[],l=qu(t.events,n);i&&(i.end=Object.assign({},l),s.push(["exit",i,t])),r.end=Object.assign({},l),s.push(["exit",r,t]),e.add(n+1,0,s)}function qu(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const dK={name:"tasklistCheck",tokenize:pK};function hK(){return{text:{91:dK}}}function pK(e,t,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),s)}function s(c){return Sn(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),l):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),l):n(c)}function l(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),u):n(c)}function u(c){return Mt(c)?t(c):Gt(c)?e.check({tokenize:gK},t,n)(c):n(c)}}function gK(e,t,n){return Xt(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function mK(e){return p2([HW(),qW(),oK(e),uK(),hK()])}const yK={};function vK(e){const t=this,n=e||yK,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(mK(n)),s.push(NW()),l.push(_W(n))}function cx(e){return rn({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.2072 9.0428 12.0001 2.83569 5.793 9.0428 7.20721 10.457 12.0001 5.66412 16.793 10.457 18.2072 9.0428ZM5.79285 14.9572 12 21.1643 18.2071 14.9572 16.7928 13.543 12 18.3359 7.20706 13.543 5.79285 14.9572Z"},child:[]}]})(e)}function fx(e){return rn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 7.59 7.05 2.64 5.64 4.05 12 10.41l6.36-6.36-1.41-1.41L12 7.59zM5.64 19.95l1.41 1.41L12 16.41l4.95 4.95 1.41-1.41L12 13.59l-6.36 6.36z"},child:[]}]})(e)}class xr{static generate(t){let n;switch(t.tool){case"analyzePage":n=xr.generateAnalyzePage(t);break;case"fetchPage":n=xr.generateFetchPage(t);break;case"writeNew":case"update":case"append":case"reExecute":n=xr.generateScriptTool(t);break;case"listScripts":n=xr.generateListScripts(t);break;case"grabScreenshot":case"inspectImage":n=xr.generateScreenshot(t);break;case"retrieveChatHistory":n=xr.generateRetrieveChatHistory(t);break;default:n=xr.generateUnknownTool(t)}if(t.status==="failed"&&t.result){const r=t.result,i=typeof r=="string"?r:r.error||xr.formatResult(r);n.push({label:"Error",value:i,isError:!0})}return n}static formatLogs(t){return t.map(n=>{const r=n.level==="log"?"":`[${n.level}] `,i=n.args.map(s=>typeof s=="string"?s:JSON.stringify(s)).join(" ");return r+i}).join(`
`)}static pushConsoleBlock(t,n){n&&n.length>0&&t.push({label:"Console",value:xr.formatLogs(n),isError:!1})}static formatResult(t){if(t==null)return"";if(typeof t=="string")return t;try{return JSON.stringify(t,null,2)}catch{return String(t)}}static generateAnalyzePage(t){var s;const n=[],r=(s=t.args)==null?void 0:s.expression;r&&n.push({label:"Expression",value:r,isError:!1}),xr.pushConsoleBlock(n,t.logs);const i=t.result;return i&&t.status==="finished"&&n.push({label:"Result",value:xr.formatResult(i),isError:!1}),n}static generateFetchPage(t){var l,u;const n=[],r=(l=t.args)==null?void 0:l.prompt,i=((u=t.args)==null?void 0:u.mode)||"markdown";r&&n.push({label:"Parameters",value:`prompt: "${r}"
mode: ${i}`,isError:!1});const s=t.result;return s&&t.status==="finished"&&n.push({label:"Summary",value:xr.formatResult(s),isError:!1}),n}static generateScriptTool(t){var s;const n=[],r=(s=t.args)==null?void 0:s.code;r&&n.push({label:"Script",value:r,isError:!1}),xr.pushConsoleBlock(n,t.logs);const i=t.result;return i&&t.status==="finished"&&n.push({label:"Result",value:xr.formatResult(i),isError:!1}),n}static generateListScripts(t){var s;const n=[],r=((s=t.args)==null?void 0:s.limit)??5;n.push({label:"Filter",value:`limit: ${r}`,isError:!1});const i=t.result;return i&&t.status==="finished"&&n.push({label:"Result",value:xr.formatResult(i),isError:!1}),n}static generateScreenshot(t){const n=t.result;return n&&t.status==="finished"&&n.description?[{label:"Description",value:String(n.description),isError:!1}]:[]}static generateRetrieveChatHistory(t){var s,l,u,c,h,g;const n=[],r=(s=t.args)==null?void 0:s.searchText,i=((l=t.args)==null?void 0:l.searchType)||"text";if(r){let m=`"${r}" (${i})`;const v=(u=t.args)==null?void 0:u.depthLimit,x=(c=t.args)==null?void 0:c.lastN,w=(h=t.args)==null?void 0:h.window,E=(g=t.args)==null?void 0:g.recursive;v&&(m+=`
depthLimit: ${v}`),x&&(m+=`
lastN: ${x}`),w&&(m+=`
window: ${w}`),E&&(m+=`
recursive: true`),n.push({label:"Search",value:m,isError:!1})}if(t.status==="finished"&&t.result){const m=Array.isArray(t.result)?t.result.length:0;n.push({label:"Result",value:`Found ${m} event${m===1?"":"s"}`,isError:!1})}return n}static generateUnknownTool(t){const n=[],r=t.args||{};Object.keys(r).length>0&&n.push({label:"Arguments",value:xr.formatResult(r),isError:!1});const i=t.result;return i&&t.status==="finished"&&(typeof i!="object"||Object.keys(i).length>0)&&n.push({label:"Result",value:xr.formatResult(i),isError:!1}),n}}function AK({reason:e,toolCallId:t,onApprove:n,onDeny:r}){const{c:i}=Tt(),{fs:s,fw:l}=_t();return T.jsx("div",{style:{maxWidth:"85%",alignSelf:"flex-start",marginTop:"8px"},children:T.jsxs("div",{style:{padding:"12px 14px",backgroundColor:i("bg","selected"),borderRadius:"6px",border:`1px solid ${i("border","active")}`},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px",fontSize:s("base"),color:i("primary","text")},children:[T.jsx(TP,{size:16}),T.jsx("span",{style:{fontWeight:l("medium")},children:"Screenshot requested"})]}),T.jsx("div",{style:{fontSize:s("base"),color:i("text","primary"),marginBottom:"12px"},children:e}),T.jsxs("div",{style:{display:"flex",gap:"8px"},children:[T.jsx("button",{onMouseDown:()=>n(t),style:{padding:"6px 16px",backgroundColor:i("primary","main"),color:i("buttonText","onPrimary"),border:"none",borderRadius:"6px",fontSize:s("base"),fontWeight:l("medium"),cursor:"pointer"},children:"Approve"}),T.jsx("button",{onMouseDown:()=>r(t),style:{padding:"6px 16px",backgroundColor:i("bg","primary"),color:i("text","secondary"),border:`1px solid ${i("border","subtle")}`,borderRadius:"6px",fontSize:s("base"),cursor:"pointer"},children:"Deny"})]})]})})}function zD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zD(Object(n),!0).forEach(function(r){kl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xK(e){var t=e.length;if(t===0||t===1)return e;if(t===2)return[e[0],e[1],"".concat(e[0],".").concat(e[1]),"".concat(e[1],".").concat(e[0])];if(t===3)return[e[0],e[1],e[2],"".concat(e[0],".").concat(e[1]),"".concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[0]),"".concat(e[1],".").concat(e[2]),"".concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[1],".").concat(e[0])];if(t>=4)return[e[0],e[1],e[2],e[3],"".concat(e[0],".").concat(e[1]),"".concat(e[0],".").concat(e[2]),"".concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[0]),"".concat(e[1],".").concat(e[2]),"".concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[1]),"".concat(e[2],".").concat(e[3]),"".concat(e[3],".").concat(e[0]),"".concat(e[3],".").concat(e[1]),"".concat(e[3],".").concat(e[2]),"".concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[1],".").concat(e[3]),"".concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[2],".").concat(e[3]),"".concat(e[0],".").concat(e[3],".").concat(e[1]),"".concat(e[0],".").concat(e[3],".").concat(e[2]),"".concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[1],".").concat(e[2],".").concat(e[3]),"".concat(e[1],".").concat(e[3],".").concat(e[0]),"".concat(e[1],".").concat(e[3],".").concat(e[2]),"".concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[0],".").concat(e[3]),"".concat(e[2],".").concat(e[1],".").concat(e[0]),"".concat(e[2],".").concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[3],".").concat(e[0]),"".concat(e[2],".").concat(e[3],".").concat(e[1]),"".concat(e[3],".").concat(e[0],".").concat(e[1]),"".concat(e[3],".").concat(e[0],".").concat(e[2]),"".concat(e[3],".").concat(e[1],".").concat(e[0]),"".concat(e[3],".").concat(e[1],".").concat(e[2]),"".concat(e[3],".").concat(e[2],".").concat(e[0]),"".concat(e[3],".").concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[1],".").concat(e[2],".").concat(e[3]),"".concat(e[0],".").concat(e[1],".").concat(e[3],".").concat(e[2]),"".concat(e[0],".").concat(e[2],".").concat(e[1],".").concat(e[3]),"".concat(e[0],".").concat(e[2],".").concat(e[3],".").concat(e[1]),"".concat(e[0],".").concat(e[3],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[3],".").concat(e[2],".").concat(e[1]),"".concat(e[1],".").concat(e[0],".").concat(e[2],".").concat(e[3]),"".concat(e[1],".").concat(e[0],".").concat(e[3],".").concat(e[2]),"".concat(e[1],".").concat(e[2],".").concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[2],".").concat(e[3],".").concat(e[0]),"".concat(e[1],".").concat(e[3],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[3],".").concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[0],".").concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[0],".").concat(e[3],".").concat(e[1]),"".concat(e[2],".").concat(e[1],".").concat(e[0],".").concat(e[3]),"".concat(e[2],".").concat(e[1],".").concat(e[3],".").concat(e[0]),"".concat(e[2],".").concat(e[3],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[3],".").concat(e[1],".").concat(e[0]),"".concat(e[3],".").concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[3],".").concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[3],".").concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[3],".").concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[3],".").concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[3],".").concat(e[2],".").concat(e[1],".").concat(e[0])]}var dx={};function bK(e){if(e.length===0||e.length===1)return e;var t=e.join(".");return dx[t]||(dx[t]=xK(e)),dx[t]}function wK(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e.filter(function(s){return s!=="token"}),i=bK(r);return i.reduce(function(s,l){return Zu(Zu({},s),n[l])},t)}function HD(e){return e.join(" ")}function SK(e,t){var n=0;return function(r){return n+=1,r.map(function(i,s){return UD({node:i,stylesheet:e,useInlineStyles:t,key:"code-segment-".concat(n,"-").concat(s)})})}}function UD(e){var t=e.node,n=e.stylesheet,r=e.style,i=r===void 0?{}:r,s=e.useInlineStyles,l=e.key,u=t.properties,c=t.type,h=t.tagName,g=t.value;if(c==="text")return g;if(h){var m=SK(n,s),v;if(!s)v=Zu(Zu({},u),{},{className:HD(u.className)});else{var x=Object.keys(n).reduce(function(S,k){return k.split(".").forEach(function(M){S.includes(M)||S.push(M)}),S},[]),w=u.className&&u.className.includes("token")?["token"]:[],E=u.className&&w.concat(u.className.filter(function(S){return!x.includes(S)}));v=Zu(Zu({},u),{},{className:HD(E)||void 0,style:wK(u.className,Object.assign({},u.style,i),n)})}var R=m(t.children);return tr.createElement(h,Rt({key:l},v),R)}}const CK=function(e,t){var n=e.listLanguages();return n.indexOf(t)!==-1};var kK=["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"];function WD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ea(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(n),!0).forEach(function(r){kl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var IK=/\n/g;function EK(e){return e.match(IK)}function DK(e){var t=e.lines,n=e.startingLineNumber,r=e.style;return t.map(function(i,s){var l=s+n;return tr.createElement("span",{key:"line-".concat(s),className:"react-syntax-highlighter-line-number",style:typeof r=="function"?r(l):r},"".concat(l,`
`))})}function MK(e){var t=e.codeString,n=e.codeStyle,r=e.containerStyle,i=r===void 0?{float:"left",paddingRight:"10px"}:r,s=e.numberStyle,l=s===void 0?{}:s,u=e.startingLineNumber;return tr.createElement("code",{style:Object.assign({},n,i)},DK({lines:t.replace(/\n$/,"").split(`
`),style:l,startingLineNumber:u}))}function RK(e){return"".concat(e.toString().length,".25em")}function KD(e,t){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(e),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:t},children:[{type:"text",value:e}]}}function QD(e,t,n){var r={display:"inline-block",minWidth:RK(n),paddingRight:"1em",textAlign:"right",userSelect:"none"},i=typeof e=="function"?e(t):e,s=Ea(Ea({},r),i);return s}function Hg(e){var t=e.children,n=e.lineNumber,r=e.lineNumberStyle,i=e.largestLineNumber,s=e.showInlineLineNumbers,l=e.lineProps,u=l===void 0?{}:l,c=e.className,h=c===void 0?[]:c,g=e.showLineNumbers,m=e.wrapLongLines,v=e.wrapLines,x=v===void 0?!1:v,w=x?Ea({},typeof u=="function"?u(n):u):{};if(w.className=w.className?[].concat(Bu(w.className.trim().split(/\s+/)),Bu(h)):h,n&&s){var E=QD(r,n,i);t.unshift(KD(n,E))}return m&g&&(w.style=Ea({display:"flex"},w.style)),{type:"element",tagName:"span",properties:w,children:t}}function $D(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];e.length===void 0&&(e=[e]);for(var r=0;r<e.length;r++){var i=e[r];if(i.type==="text")n.push(Hg({children:[i],className:Bu(new Set(t))}));else if(i.children){var s,l=t.concat(((s=i.properties)===null||s===void 0?void 0:s.className)||[]);$D(i.children,l).forEach(function(u){return n.push(u)})}}return n}function TK(e,t,n,r,i,s,l,u,c){var h,g=$D(e.value),m=[],v=-1,x=0;function w(W,z){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return Hg({children:W,lineNumber:z,lineNumberStyle:u,largestLineNumber:l,showInlineLineNumbers:i,lineProps:n,className:Q,showLineNumbers:r,wrapLongLines:c,wrapLines:t})}function E(W,z){if(r&&z&&i){var Q=QD(u,z,l);W.unshift(KD(z,Q))}return W}function R(W,z){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return t||Q.length>0?w(W,z,Q):E(W,z)}for(var S=function(){var z=g[x],Q=z.children[0].value,$=EK(Q);if($){var se=Q.split(`
`);se.forEach(function(F,Y){var re=r&&m.length+s,J={type:"text",value:"".concat(F,`
`)};if(Y===0){var V=g.slice(v+1,x).concat(Hg({children:[J],className:z.properties.className})),B=R(V,re);m.push(B)}else if(Y===se.length-1){var Re=g[x+1]&&g[x+1].children&&g[x+1].children[0],Te={type:"text",value:"".concat(F)};if(Re){var me=Hg({children:[Te],className:z.properties.className});g.splice(x+1,0,me)}else{var ae=[Te],N=R(ae,re,z.properties.className);m.push(N)}}else{var de=[J],ve=R(de,re,z.properties.className);m.push(ve)}}),v=x}x++};x<g.length;)S();if(v!==g.length-1){var k=g.slice(v+1,g.length);if(k&&k.length){var M=r&&m.length+s,P=R(k,M);m.push(P)}}return t?m:(h=[]).concat.apply(h,m)}function OK(e){var t=e.rows,n=e.stylesheet,r=e.useInlineStyles;return t.map(function(i,s){return UD({node:i,stylesheet:n,useInlineStyles:r,key:"code-segment-".concat(s)})})}function GD(e){return e&&typeof e.highlightAuto<"u"}function LK(e){var t=e.astGenerator,n=e.language,r=e.code,i=e.defaultCodeValue;if(GD(t)){var s=CK(t,n);return n==="text"?{value:i,language:"text"}:s?t.highlight(n,r):t.highlightAuto(r)}try{return n&&n!=="text"?{value:t.highlight(r,n)}:{value:i}}catch{return{value:i}}}function PK(e,t){return function(r){var i,s,l=r.language,u=r.children,c=r.style,h=c===void 0?t:c,g=r.customStyle,m=g===void 0?{}:g,v=r.codeTagProps,x=v===void 0?{className:l?"language-".concat(l):void 0,style:Ea(Ea({},h['code[class*="language-"]']),h['code[class*="language-'.concat(l,'"]')])}:v,w=r.useInlineStyles,E=w===void 0?!0:w,R=r.showLineNumbers,S=R===void 0?!1:R,k=r.showInlineLineNumbers,M=k===void 0?!0:k,P=r.startingLineNumber,W=P===void 0?1:P,z=r.lineNumberContainerStyle,Q=r.lineNumberStyle,$=Q===void 0?{}:Q,se=r.wrapLines,F=r.wrapLongLines,Y=F===void 0?!1:F,re=r.lineProps,J=re===void 0?{}:re,V=r.renderer,B=r.PreTag,Re=B===void 0?"pre":B,Te=r.CodeTag,me=Te===void 0?"code":Te,ae=r.code,N=ae===void 0?(Array.isArray(u)?u[0]:u)||"":ae,de=r.astGenerator,ve=$o(r,kK);de=de||e;var G=S?tr.createElement(MK,{containerStyle:z,codeStyle:x.style||{},numberStyle:$,startingLineNumber:W,codeString:N}):null,_e=h.hljs||h['pre[class*="language-"]']||{backgroundColor:"#fff"},Be=GD(de)?"hljs":"prismjs",Oe=E?Object.assign({},ve,{style:Object.assign({},_e,m)}):Object.assign({},ve,{className:ve.className?"".concat(Be," ").concat(ve.className):Be,style:Object.assign({},m)});if(Y?x.style=Ea({whiteSpace:"pre-wrap"},x.style):x.style=Ea({whiteSpace:"pre"},x.style),!de)return tr.createElement(Re,Oe,G,tr.createElement(me,x,N));(se===void 0&&V||Y)&&(se=!0),V=V||OK;var Ue=[{type:"text",value:N}],oe=LK({astGenerator:de,language:l,code:N,defaultCodeValue:Ue});oe.language===null&&(oe.value=Ue);var Se=(i=(s=N.match(/\n/g))===null||s===void 0?void 0:s.length)!==null&&i!==void 0?i:0,Ee=W+Se,Fe=TK(oe,se,J,S,M,W,Ee,$,Y);return tr.createElement(Re,Oe,tr.createElement(me,x,!M&&G,V({rows:Fe,stylesheet:h,useInlineStyles:E})))}}const VD=/[#.]/g;function FK(e,t){const n=e||"",r={};let i=0,s,l;for(;i<n.length;){VD.lastIndex=i;const u=VD.exec(n),c=n.slice(i,u?u.index:n.length);c&&(s?s==="#"?r.id=c:Array.isArray(r.className)?r.className.push(c):r.className=[c]:l=c,i+=c.length),u&&(s=u[0],i++)}return{type:"element",tagName:l||t||"div",properties:r,children:[]}}function YD(e,t,n){const r=n?jK(n):void 0;function i(s,l,...u){let c;if(s==null){c={type:"root",children:[]};const h=l;u.unshift(h)}else{c=FK(s,t);const h=c.tagName.toLowerCase(),g=r?r.get(h):void 0;if(c.tagName=g||h,BK(l))u.unshift(l);else for(const[m,v]of Object.entries(l))NK(e,c.properties,m,v)}for(const h of u)hx(c.children,h);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return i}function BK(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const i=t[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const l of s)if(typeof l!="number"&&typeof l!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function NK(e,t,n,r){const i=VE(e,n);let s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?i.spaceSeparated?s=JE(r):i.commaSeparated?s=BE(r):i.commaOrSpaceSeparated?s=JE(BE(r).join(" ")):s=JD(i,i.property,r):Array.isArray(r)?s=[...r]:s=i.property==="style"?_K(r):String(r);if(Array.isArray(s)){const l=[];for(const u of s)l.push(JD(i,i.property,u));s=l}i.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[i.property]=s}}function hx(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)hx(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?hx(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function JD(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Yf(n)===Yf(t)))return!0}return n}function _K(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function jK(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const zK=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],HK=YD(YE,"div");YD(Cg,"g",zK);const UK=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],qD={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};function ZD(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}function WK(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}function KK(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}function XD(e){return KK(e)||ZD(e)}const QK=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function $K(e,t){const n={},r=typeof n.additional=="string"?n.additional.charCodeAt(0):n.additional,i=[];let s=0,l=-1,u="",c,h;n.position&&("start"in n.position||"indent"in n.position?(h=n.position.indent,c=n.position.start):c=n.position);let g=(c?c.line:0)||1,m=(c?c.column:0)||1,v=w(),x;for(s--;++s<=e.length;)if(x===10&&(m=(h?h[l]:0)||1),x=e.charCodeAt(s),x===38){const S=e.charCodeAt(s+1);if(S===9||S===10||S===12||S===32||S===38||S===60||Number.isNaN(S)||r&&S===r){u+=String.fromCharCode(x),m++;continue}const k=s+1;let M=k,P=k,W;if(S===35){P=++M;const J=e.charCodeAt(P);J===88||J===120?(W="hexadecimal",P=++M):W="decimal"}else W="named";let z="",Q="",$="";const se=W==="named"?XD:W==="decimal"?ZD:WK;for(P--;++P<=e.length;){const J=e.charCodeAt(P);if(!se(J))break;$+=String.fromCharCode(J),W==="named"&&UK.includes($)&&(z=$,Q=Zf($))}let F=e.charCodeAt(P)===59;if(F){P++;const J=W==="named"?Zf($):!1;J&&(z=$,Q=J)}let Y=1+P-k,re="";if(!(!F&&n.nonTerminated===!1))if(!$)W!=="named"&&E(4,Y);else if(W==="named"){if(F&&!Q)E(5,1);else if(z!==$&&(P=M+z.length,Y=1+P-M,F=!1),!F){const J=z?1:3;if(n.attribute){const V=e.charCodeAt(P);V===61?(E(J,Y),Q=""):XD(V)?Q="":E(J,Y)}else E(J,Y)}re=Q}else{F||E(2,Y);let J=Number.parseInt($,W==="hexadecimal"?16:10);if(GK(J))E(7,Y),re="";else if(J in qD)E(6,Y),re=qD[J];else{let V="";VK(J)&&E(6,Y),J>65535&&(J-=65536,V+=String.fromCharCode(J>>>10|55296),J=56320|J&1023),re=V+String.fromCharCode(J)}}if(re){R(),v=w(),s=P-1,m+=P-k+1,i.push(re);const J=w();J.offset++,n.reference&&n.reference.call(n.referenceContext||void 0,re,{start:v,end:J},e.slice(k-1,P)),v=J}else $=e.slice(k-1,P),u+=$,m+=$.length,s=P-1}else x===10&&(g++,l++,m=0),Number.isNaN(x)?R():(u+=String.fromCharCode(x),m++);return i.join("");function w(){return{line:g,column:m,offset:s+((c?c.offset:0)||0)}}function E(S,k){let M;n.warning&&(M=w(),M.column+=k,M.offset+=k,n.warning.call(n.warningContext||void 0,QK[S],M,S))}function R(){u&&(i.push(u),n.text&&n.text.call(n.textContext||void 0,u,{start:v,end:w()}),u="")}}function GK(e){return e>=55296&&e<=57343||e>1114111}function VK(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}var YK=0,Ug={},Br={util:{type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++YK}),e.__id},clone:function e(t,n){n=n||{};var r,i;switch(Br.util.type(t)){case"Object":if(i=Br.util.objId(t),n[i])return n[i];r={},n[i]=r;for(var s in t)t.hasOwnProperty(s)&&(r[s]=e(t[s],n));return r;case"Array":return i=Br.util.objId(t),n[i]?n[i]:(r=[],n[i]=r,t.forEach(function(l,u){r[u]=e(l,n)}),r);default:return t}}},languages:{plain:Ug,plaintext:Ug,text:Ug,txt:Ug,extend:function(e,t){var n=Br.util.clone(Br.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){r=r||Br.languages;var i=r[e],s={};for(var l in i)if(i.hasOwnProperty(l)){if(l==t)for(var u in n)n.hasOwnProperty(u)&&(s[u]=n[u]);n.hasOwnProperty(l)||(s[l]=i[l])}var c=r[e];return r[e]=s,Br.languages.DFS(Br.languages,function(h,g){g===c&&h!=e&&(this[h]=s)}),s},DFS:function e(t,n,r,i){i=i||{};var s=Br.util.objId;for(var l in t)if(t.hasOwnProperty(l)){n.call(t,l,t[l],r||l);var u=t[l],c=Br.util.type(u);c==="Object"&&!i[s(u)]?(i[s(u)]=!0,e(u,n,null,i)):c==="Array"&&!i[s(u)]&&(i[s(u)]=!0,e(u,n,l,i))}}},plugins:{},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};if(Br.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=Br.tokenize(r.code,r.grammar),Br.hooks.run("after-tokenize",r),sd.stringify(Br.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var i=new JK;return Wg(i,i.head,e),tM(e,i,t,i.head,0),ZK(i)},hooks:{all:{},add:function(e,t){var n=Br.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=Br.hooks.all[e];if(!(!n||!n.length))for(var r=0,i;i=n[r++];)i(t)}},Token:sd};function sd(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=(r||"").length|0}function eM(e,t,n,r){e.lastIndex=t;var i=e.exec(n);if(i&&r&&i[1]){var s=i[1].length;i.index+=s,i[0]=i[0].slice(s)}return i}function tM(e,t,n,r,i,s){for(var l in n)if(!(!n.hasOwnProperty(l)||!n[l])){var u=n[l];u=Array.isArray(u)?u:[u];for(var c=0;c<u.length;++c){if(s&&s.cause==l+","+c)return;var h=u[c],g=h.inside,m=!!h.lookbehind,v=!!h.greedy,x=h.alias;if(v&&!h.pattern.global){var w=h.pattern.toString().match(/[imsuy]*$/)[0];h.pattern=RegExp(h.pattern.source,w+"g")}for(var E=h.pattern||h,R=r.next,S=i;R!==t.tail&&!(s&&S>=s.reach);S+=R.value.length,R=R.next){var k=R.value;if(t.length>e.length)return;if(!(k instanceof sd)){var M=1,P;if(v){if(P=eM(E,S,e,m),!P||P.index>=e.length)break;var $=P.index,W=P.index+P[0].length,z=S;for(z+=R.value.length;$>=z;)R=R.next,z+=R.value.length;if(z-=R.value.length,S=z,R.value instanceof sd)continue;for(var Q=R;Q!==t.tail&&(z<W||typeof Q.value=="string");Q=Q.next)M++,z+=Q.value.length;M--,k=e.slice(S,z),P.index-=S}else if(P=eM(E,0,k,m),!P)continue;var $=P.index,se=P[0],F=k.slice(0,$),Y=k.slice($+se.length),re=S+k.length;s&&re>s.reach&&(s.reach=re);var J=R.prev;F&&(J=Wg(t,J,F),S+=F.length),qK(t,J,M);var V=new sd(l,g?Br.tokenize(se,g):se,x,se);if(R=Wg(t,J,V),Y&&Wg(t,R,Y),M>1){var B={cause:l+","+c,reach:re};tM(e,t,n,R.prev,S,B),s&&B.reach>s.reach&&(s.reach=B.reach)}}}}}}function JK(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function Wg(e,t,n){var r=t.next,i={value:n,prev:t,next:r};return t.next=i,r.prev=i,e.length++,i}function qK(e,t,n){for(var r=t.next,i=0;i<n&&r!==e.tail;i++)r=r.next;t.next=r,r.prev=t,e.length-=i}function ZK(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}const nM=Br;function rM(){}rM.prototype=nM;const br=new rM;br.highlight=XK,br.register=e9,br.alias=t9,br.registered=n9,br.listLanguages=r9,br.util.encode=i9,br.Token.stringify=px;function XK(e,t){if(typeof e!="string")throw new TypeError("Expected `string` for `value`, got `"+e+"`");let n,r;if(t&&typeof t=="object")n=t;else{if(r=t,typeof r!="string")throw new TypeError("Expected `string` for `name`, got `"+r+"`");if(Object.hasOwn(br.languages,r))n=br.languages[r];else throw new Error("Unknown language: `"+r+"` is not registered")}return{type:"root",children:nM.highlight.call(br,e,n,r)}}function e9(e){if(typeof e!="function"||!e.displayName)throw new Error("Expected `function` for `syntax`, got `"+e+"`");Object.hasOwn(br.languages,e.displayName)||e(br)}function t9(e,t){const n=br.languages;let r={};typeof e=="string"?t&&(r[e]=t):r=e;let i;for(i in r)if(Object.hasOwn(r,i)){const s=r[i],l=typeof s=="string"?[s]:s;let u=-1;for(;++u<l.length;)n[l[u]]=n[i]}}function n9(e){if(typeof e!="string")throw new TypeError("Expected `string` for `aliasOrLanguage`, got `"+e+"`");return Object.hasOwn(br.languages,e)}function r9(){const e=br.languages,t=[];let n;for(n in e)Object.hasOwn(e,n)&&typeof e[n]=="object"&&t.push(n);return t}function px(e,t){if(typeof e=="string")return{type:"text",value:e};if(Array.isArray(e)){const r=[];let i=-1;for(;++i<e.length;)e[i]!==null&&e[i]!==void 0&&e[i]!==""&&r.push(px(e[i],t));return r}const n={attributes:{},classes:["token",e.type],content:px(e.content,t),language:t,tag:"span",type:e.type};return e.alias&&n.classes.push(...typeof e.alias=="string"?[e.alias]:e.alias),br.hooks.run("wrap",n),HK(n.tag+"."+n.classes.join("."),o9(n.attributes),n.content)}function i9(e){return e}function o9(e){let t;for(t in e)Object.hasOwn(e,t)&&(e[t]=$K(e[t]));return e}var ad=PK(br,{});ad.registerLanguage=function(e,t){return br.register(t)},ad.alias=function(e,t){return br.alias(e,t)},gx.displayName="clike",gx.aliases=[];function gx(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}mx.displayName="javascript",mx.aliases=["js"];function mx(e){e.register(gx),e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}yx.displayName="json",yx.aliases=["webmanifest"];function yx(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}const s9={'code[class*="language-"]':{color:"#393A34",fontFamily:'"Consolas", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",fontSize:".9em",lineHeight:"1.2em",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{color:"#393A34",fontFamily:'"Consolas", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",fontSize:".9em",lineHeight:"1.2em",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:".5em 0",overflow:"auto",border:"1px solid #dddddd",backgroundColor:"white"},'pre > code[class*="language-"]':{fontSize:"1em"},'pre[class*="language-"]::-moz-selection':{background:"#C1DEF1"},'pre[class*="language-"] ::-moz-selection':{background:"#C1DEF1"},'code[class*="language-"]::-moz-selection':{background:"#C1DEF1"},'code[class*="language-"] ::-moz-selection':{background:"#C1DEF1"},'pre[class*="language-"]::selection':{background:"#C1DEF1"},'pre[class*="language-"] ::selection':{background:"#C1DEF1"},'code[class*="language-"]::selection':{background:"#C1DEF1"},'code[class*="language-"] ::selection':{background:"#C1DEF1"},':not(pre) > code[class*="language-"]':{padding:".2em",paddingTop:"1px",paddingBottom:"1px",background:"#f8f8f8",border:"1px solid #dddddd"},comment:{color:"#008000",fontStyle:"italic"},prolog:{color:"#008000",fontStyle:"italic"},doctype:{color:"#008000",fontStyle:"italic"},cdata:{color:"#008000",fontStyle:"italic"},namespace:{Opacity:".7"},string:{color:"#A31515"},punctuation:{color:"#393A34"},operator:{color:"#393A34"},url:{color:"#36acaa"},symbol:{color:"#36acaa"},number:{color:"#36acaa"},boolean:{color:"#36acaa"},variable:{color:"#36acaa"},constant:{color:"#36acaa"},inserted:{color:"#36acaa"},atrule:{color:"#0000ff"},keyword:{color:"#0000ff"},"attr-value":{color:"#0000ff"},".language-autohotkey .token.selector":{color:"#0000ff"},".language-json .token.boolean":{color:"#0000ff"},".language-json .token.number":{color:"#0000ff"},'code[class*="language-css"]':{color:"#0000ff"},function:{color:"#393A34"},deleted:{color:"#9a050f"},".language-autohotkey .token.tag":{color:"#9a050f"},selector:{color:"#800000"},".language-autohotkey .token.keyword":{color:"#00009f"},important:{color:"#e90",fontWeight:"bold"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},"class-name":{color:"#2B91AF"},".language-json .token.property":{color:"#2B91AF"},tag:{color:"#800000"},"attr-name":{color:"#ff0000"},property:{color:"#ff0000"},regex:{color:"#ff0000"},entity:{color:"#ff0000"},"directive.tag.tag":{background:"#ffff00",color:"#393A34"},".line-numbers.line-numbers .line-numbers-rows":{borderRightColor:"#a5a5a5"},".line-numbers .line-numbers-rows > span:before":{color:"#2B91AF"},".line-highlight.line-highlight":{background:"linear-gradient(to right, rgba(193, 222, 241, 0.2) 70%, rgba(221, 222, 241, 0))"}},a9={'pre[class*="language-"]':{color:"#d4d4d4",fontSize:"13px",textShadow:"none",fontFamily:'Menlo, Monaco, Consolas, "Andale Mono", "Ubuntu Mono", "Courier New", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:".5em 0",overflow:"auto",background:"#1e1e1e"},'code[class*="language-"]':{color:"#d4d4d4",fontSize:"13px",textShadow:"none",fontFamily:'Menlo, Monaco, Consolas, "Andale Mono", "Ubuntu Mono", "Courier New", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]::selection':{textShadow:"none",background:"#264F78"},'code[class*="language-"]::selection':{textShadow:"none",background:"#264F78"},'pre[class*="language-"] *::selection':{textShadow:"none",background:"#264F78"},'code[class*="language-"] *::selection':{textShadow:"none",background:"#264F78"},':not(pre) > code[class*="language-"]':{padding:".1em .3em",borderRadius:".3em",color:"#db4c69",background:"#1e1e1e"},".namespace":{Opacity:".7"},"doctype.doctype-tag":{color:"#569CD6"},"doctype.name":{color:"#9cdcfe"},comment:{color:"#6a9955"},prolog:{color:"#6a9955"},punctuation:{color:"#d4d4d4"},".language-html .language-css .token.punctuation":{color:"#d4d4d4"},".language-html .language-javascript .token.punctuation":{color:"#d4d4d4"},property:{color:"#9cdcfe"},tag:{color:"#569cd6"},boolean:{color:"#569cd6"},number:{color:"#b5cea8"},constant:{color:"#9cdcfe"},symbol:{color:"#b5cea8"},inserted:{color:"#b5cea8"},unit:{color:"#b5cea8"},selector:{color:"#d7ba7d"},"attr-name":{color:"#9cdcfe"},string:{color:"#ce9178"},char:{color:"#ce9178"},builtin:{color:"#ce9178"},deleted:{color:"#ce9178"},".language-css .token.string.url":{textDecoration:"underline"},operator:{color:"#d4d4d4"},entity:{color:"#569cd6"},"operator.arrow":{color:"#569CD6"},atrule:{color:"#ce9178"},"atrule.rule":{color:"#c586c0"},"atrule.url":{color:"#9cdcfe"},"atrule.url.function":{color:"#dcdcaa"},"atrule.url.punctuation":{color:"#d4d4d4"},keyword:{color:"#569CD6"},"keyword.module":{color:"#c586c0"},"keyword.control-flow":{color:"#c586c0"},function:{color:"#dcdcaa"},"function.maybe-class-name":{color:"#dcdcaa"},regex:{color:"#d16969"},important:{color:"#569cd6"},italic:{fontStyle:"italic"},"class-name":{color:"#4ec9b0"},"maybe-class-name":{color:"#4ec9b0"},console:{color:"#9cdcfe"},parameter:{color:"#9cdcfe"},interpolation:{color:"#9cdcfe"},"punctuation.interpolation-punctuation":{color:"#569cd6"},variable:{color:"#9cdcfe"},"imports.maybe-class-name":{color:"#9cdcfe"},"exports.maybe-class-name":{color:"#9cdcfe"},escape:{color:"#d7ba7d"},"tag.punctuation":{color:"#808080"},cdata:{color:"#808080"},"attr-value":{color:"#ce9178"},"attr-value.punctuation":{color:"#ce9178"},"attr-value.punctuation.attr-equals":{color:"#d4d4d4"},namespace:{color:"#4ec9b0"},'pre[class*="language-javascript"]':{color:"#9cdcfe"},'code[class*="language-javascript"]':{color:"#9cdcfe"},'pre[class*="language-jsx"]':{color:"#9cdcfe"},'code[class*="language-jsx"]':{color:"#9cdcfe"},'pre[class*="language-typescript"]':{color:"#9cdcfe"},'code[class*="language-typescript"]':{color:"#9cdcfe"},'pre[class*="language-tsx"]':{color:"#9cdcfe"},'code[class*="language-tsx"]':{color:"#9cdcfe"},'pre[class*="language-css"]':{color:"#ce9178"},'code[class*="language-css"]':{color:"#ce9178"},'pre[class*="language-html"]':{color:"#d4d4d4"},'code[class*="language-html"]':{color:"#d4d4d4"},".language-regex .token.anchor":{color:"#dcdcaa"},".language-html .token.punctuation":{color:"#808080"},'pre[class*="language-"] > code[class*="language-"]':{position:"relative",zIndex:"1"},".line-highlight.line-highlight":{background:"#f7ebc6",boxShadow:"inset 5px 0 0 #f7d87c",zIndex:"0"}};ad.registerLanguage("javascript",mx),ad.registerLanguage("json",yx);function iM({code:e,language:t="javascript",fontSize:n}){const{mode:r,c:i}=Tt(),{fs:s,fw:l}=_t(),u=n??s("xs");return T.jsx(ad,{language:t,style:r==="dark"?a9:s9,customStyle:{margin:0,padding:"8px",backgroundColor:i("bg","primary"),fontSize:u,fontFamily:"monospace",fontWeight:l("normal"),whiteSpace:"pre-wrap",wordBreak:"break-word",border:`1px solid ${i("border","primary")}`},codeTagProps:{style:{fontSize:u,fontFamily:"monospace",lineHeight:"1.4"}},children:e})}function Fs(e,t,n,r){const s=e(t==="right"?"accent":"agent",n?"borderSelected":"border");return{[r??(t==="right"?"borderRight":"borderLeft")]:`2px solid ${s}`}}function l9(e){return e>=1e3?`${Math.round(e/1e3)}k`:String(e)}function u9(e){const t=ZN[e.tool];let n;return t?n=t[e.status]:n={streaming:`Preparing ${e.tool}...`,executing:`Running ${e.tool}...`,finished:`${e.tool} complete`,failed:`${e.tool} failed`}[e.status],e.status==="streaming"&&e.incomingTokensCount&&e.incomingTokensCount>=15?`${n} (${l9(e.incomingTokensCount)} tokens)`:n}function c9(e){var n;const t=e.result;return t!=null&&t.scriptId?t.scriptId:(n=e.args)!=null&&n.scriptId?e.args.scriptId:null}const oM=30,f9=!window.location.pathname.includes("sidepanel");function d9({block:e,showFull:t,onToggle:n}){const{c:r}=Tt(),{fs:i,fw:s}=_t(),l=e.value.split(`
`),u=l.length>oM,c=t?e.value:l.slice(0,oM).join(`
`);return T.jsxs("div",{style:{marginTop:"8px"},children:[T.jsxs("div",{style:{fontSize:i("xs"),color:r("text","secondary"),marginBottom:"4px",fontWeight:s("medium")},children:[e.label,":"]}),e.isError?T.jsxs("pre",{style:{margin:0,padding:"8px",backgroundColor:r("error","bg"),fontSize:i("xs"),fontFamily:"monospace",fontWeight:s("normal"),whiteSpace:"pre-wrap",wordBreak:"break-word",color:r("error","text")},children:[c,u&&!t&&"..."]}):T.jsx(iM,{code:c+(u&&!t?"...":""),language:"json"}),u&&T.jsx("button",{onMouseDown:n,style:{background:"none",border:"none",padding:"4px 0",fontSize:i("xs"),color:r("primary","text"),cursor:"pointer",marginTop:"4px"},children:t?"show less":"show more"})]})}function h9({expanded:e,setExpanded:t,children:n}){const r=H.useRef(null);return H.useEffect(()=>{const i=r.current;if(!i)return;const s=()=>t(!0);return i.addEventListener("beforematch",s),()=>i.removeEventListener("beforematch",s)},[t]),H.useEffect(()=>{const i=r.current;i&&(e?i.removeAttribute("hidden"):i.setAttribute("hidden","until-found"))},[e]),T.jsx("div",{ref:r,style:{paddingBottom:"8px"},children:n})}const p9=H.memo(function({message:t,onGoToScript:n,onScreenshotApprove:r,onScreenshotDeny:i,isSelected:s=!1,onSelect:l}){var Q;const{c:u}=Tt(),{fs:c}=_t(),[h,g]=H.useState(!1),[m,v]=H.useState(new Set),[x,w]=H.useState(!1),[E,R]=H.useState(!1),S=t.toolEvent;if(S.tool==="grabScreenshot"&&S.status!=="finished"&&S.status!=="failed"&&((Q=S.screenshotRequest)==null?void 0:Q.status)==="pending"&&r&&i)return T.jsx(AK,{reason:S.screenshotRequest.reason,toolCallId:S.toolCallId,onApprove:r,onDeny:i});const k=u9(S),M=xr.generate(S),P=M.length>0,W=c9(S),z=$=>{v(se=>{const F=new Set(se);return F.has($)?F.delete($):F.add($),F})};return T.jsx("div",{style:{width:"100%"},onMouseDown:$=>l==null?void 0:l($,t.id),children:T.jsx("div",{style:{maxWidth:h?"100%":"85%"},children:T.jsxs("div",{style:{padding:"4px 14px",backgroundColor:h?u("bg","hover"):"transparent",fontSize:c("base"),color:u("text","secondary"),...Fs(u,"left",s),...h?Fs(u,"left",s,"borderBottom"):{}},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontStyle:"italic"},children:[T.jsx("span",{style:S.status==="finished"||S.status==="failed"?{textDecoration:"underline",textDecorationColor:S.status==="failed"?u("error","text"):u("text","secondary"),textUnderlineOffset:"2px"}:void 0,children:k}),(P||W&&n)&&T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"2px"},children:[P&&T.jsx("button",{onMouseDown:()=>g(!h),onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),style:{background:"none",border:"none",padding:"2px 4px",color:u("text","tertiary"),cursor:"pointer",display:"flex",alignItems:"center"},children:h?T.jsx(fx,{size:12}):T.jsx(cx,{size:12})}),W&&n&&T.jsx("button",{onMouseDown:()=>n(W),onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),style:{background:"none",border:"none",padding:"2px 4px",color:u("text","tertiary"),cursor:"pointer",display:"flex",alignItems:"center"},children:T.jsx(WP,{size:12})}),(x||E)&&T.jsx("span",{style:{fontSize:c("xs"),color:u("text","tertiary"),marginLeft:"4px"},children:x?h?"hide":"show":"go to script"})]})]}),P&&(h||f9)&&T.jsx(h9,{expanded:h,setExpanded:g,children:M.map(($,se)=>T.jsx(d9,{block:$,showFull:m.has(se),onToggle:()=>z(se)},se))})]})})})});function g9(e){const t=Math.round(e/1e3);return t<1?"< 1 second":t===1?"1 second":`${t} seconds`}const m9=H.memo(function({message:t,isSelected:n=!1,onSelect:r}){const{c:i}=Tt(),[s,l]=H.useState(1),[u,c]=H.useState(!1);H.useEffect(()=>{if(t.status!=="active")return;const g=setInterval(()=>{l(m=>m%3+1)},200);return()=>clearInterval(g)},[t.status]);const h=t.status==="active"?`Thinking${".".repeat(s)}`:`Thought for ${g9(t.durationMs??0)}`;return T.jsx("div",{style:{width:"100%"},onMouseDown:g=>r==null?void 0:r(g,t.id),children:T.jsxs("div",{style:{padding:"4px 14px",fontSize:"14px",fontStyle:"italic",color:i("text","disabled"),...Fs(i,"left",n),backgroundColor:u?i("bg","hover"):"transparent"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[T.jsx("span",{children:h}),t.status==="done"&&t.text&&T.jsx("button",{onMouseDown:()=>c(!u),style:{background:"none",border:"none",padding:"2px 4px",color:i("text","tertiary"),cursor:"pointer",display:"flex",alignItems:"center"},children:u?T.jsx(fx,{size:12}):T.jsx(cx,{size:12})})]}),u&&t.text&&T.jsx("pre",{style:{margin:"8px 0 4px",padding:"8px",fontSize:"12px",fontFamily:"monospace",fontStyle:"normal",whiteSpace:"pre-wrap",wordBreak:"break-word",color:i("text","secondary"),backgroundColor:i("bg","secondary"),borderRadius:"4px",maxHeight:"300px",overflow:"auto"},children:t.text})]})})}),y9=H.memo(function({message:t,isSelected:n=!1,onSelect:r}){const{c:i}=Tt(),{fs:s}=_t(),[l,u]=H.useState(!1);return T.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"},onMouseDown:c=>r==null?void 0:r(c,t.id),children:T.jsx("div",{style:{maxWidth:"85%"},children:T.jsxs("div",{style:{padding:"4px 14px",backgroundColor:l?i("bg","hover"):"transparent",fontSize:s("base"),color:i("text","secondary"),...Fs(i,"right",n),...l?Fs(i,"right",n,"borderBottom"):{}},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontStyle:"italic"},children:[T.jsx(NP,{size:12,style:{flexShrink:0}}),T.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.hostname}),T.jsx("button",{onMouseDown:c=>{c.stopPropagation(),u(!l)},style:{background:"none",border:"none",padding:"2px 4px",color:i("text","tertiary"),cursor:"pointer",display:"flex",alignItems:"center",marginLeft:l?"auto":void 0},children:l?T.jsx(fx,{size:12}):T.jsx(cx,{size:12})})]}),l&&T.jsx("div",{style:{paddingTop:"8px",paddingBottom:"4px",fontSize:s("sm"),color:i("text","secondary"),whiteSpace:"pre-wrap",wordBreak:"break-all"},children:t.text})]})})})}),v9=H.memo(function({message:t,onGoToConversation:n,isSelected:r=!1,onSelect:i}){const{c:s}=Tt(),{fs:l}=_t();return T.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"},onMouseDown:u=>i==null?void 0:i(u,t.id),children:T.jsxs("div",{style:{padding:"6px 14px",fontSize:l("sm"),color:s("text","secondary"),fontStyle:"italic",display:"flex",alignItems:"center",gap:"6px",...Fs(s,"right",r)},children:[T.jsx(SC,{size:12,style:{flexShrink:0,alignSelf:"flex-start",marginTop:"2px"}}),T.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[T.jsx("span",{children:`Created ${t.cloneTitle}`}),T.jsxs("span",{children:["from ",T.jsx("button",{onMouseDown:u=>{u.stopPropagation(),n==null||n(t.sourceConversationId)},style:{background:"none",border:"none",padding:0,color:s("primary","text"),cursor:"pointer",fontSize:l("sm"),fontStyle:"italic",textDecoration:"underline",textDecorationStyle:"dotted"},children:t.sourceTitle})]})]})]})})});function sM(e,t=24){if(e.length<=t)return e;const n=e.lastIndexOf("."),r=n>0?e.slice(n):"",i=n>0?e.slice(0,n):e,s=t-r.length-3;if(s<=0)return e.slice(0,t-3)+"...";const l=Math.floor(s/2);return i.slice(0,l)+"..."+i.slice(-l)+r}function aM({xpath:e,onRemove:t}){const{c:n}=Tt(),{fs:r}=_t();return T.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"4px",backgroundColor:"oklch(58.8% 0.194 264.1 / 0.12)",border:"1px solid oklch(58.8% 0.194 264.1 / 0.3)",borderRadius:"4px",padding:"2px 6px",fontFamily:"monospace",fontSize:r("sm"),color:n("text","primary"),maxWidth:"100%"},children:[T.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:e,children:e}),t&&T.jsx("button",{onMouseDown:t,style:{background:"none",border:"none",cursor:"pointer",padding:"0",display:"flex",alignItems:"center",color:n("text","secondary"),flexShrink:0},title:"Remove xpath",children:T.jsx(bl,{size:14})})]})}const A9={js:"javascript",javascript:"javascript",ts:"javascript",typescript:"javascript",json:"json"},x9=H.memo(function({text:t,components:n}){return T.jsx(oU,{remarkPlugins:[vK],components:n,children:t})});function b9({className:e,children:t}){const{c:n}=Tt(),{fs:r}=_t(),[i,s]=H.useState(!1),l=/language-(\w+)/.exec(e||"");if(!!!l)return T.jsx("code",{className:e,children:t});const c=l[1]??"",h=A9[c],g=String(t).replace(/\n$/,""),m=async()=>{await navigator.clipboard.writeText(g),s(!0),setTimeout(()=>s(!1),2e3)};return T.jsxs("div",{style:{position:"relative"},children:[T.jsxs("button",{onMouseDown:m,style:{position:"absolute",top:"4px",right:"4px",padding:"4px 6px",border:`1px solid ${n("border","primary")}`,borderRadius:"4px",backgroundColor:n("bg","secondary"),color:n("text","secondary"),cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",fontSize:r("xs"),zIndex:1},title:"Copy code",children:[i?T.jsx(wC,{size:12}):T.jsx(SC,{size:12}),i?"Copied":"Copy"]}),T.jsx(iM,{code:g,language:h,fontSize:r("base")})]})}function w9(e,t){var l,u;const n=e.message.type==="toolUse"?e.message.toolEvent:void 0,r=t.message.type==="toolUse"?t.message.toolEvent:void 0;if((n||r)&&((n==null?void 0:n.status)!==(r==null?void 0:r.status)||(n==null?void 0:n.result)!==(r==null?void 0:r.result)||(n==null?void 0:n.incomingTokensCount)!==(r==null?void 0:r.incomingTokensCount)||((l=n==null?void 0:n.screenshotRequest)==null?void 0:l.status)!==((u=r==null?void 0:r.screenshotRequest)==null?void 0:u.status)))return!1;const i="text"in e.message?e.message.text:void 0,s="text"in t.message?t.message.text:void 0;return i!==s?!1:!e.isLastMessage&&!t.isLastMessage&&e.isQueued===t.isQueued&&e.isSelected===t.isSelected&&e.message.id===t.message.id}const lM=H.memo(function({message:t,onGoToScript:n,onGoToConversation:r,onScreenshotApprove:i,onScreenshotDeny:s,isSelected:l=!1,onSelect:u,isQueued:c=!1}){const{c:h}=Tt(),{fs:g}=_t(),[m,v]=H.useState(!1),x=H.useMemo(()=>({a:({href:M,children:P})=>T.jsx("a",{href:M,target:"_blank",rel:"noopener noreferrer",children:P}),code:b9,pre:({children:M})=>T.jsx(T.Fragment,{children:M})}),[]);if(t.type==="toolUse")return T.jsx(p9,{message:t,onGoToScript:n,onScreenshotApprove:i,onScreenshotDeny:s,isSelected:l,onSelect:u});if(t.type==="thinking")return T.jsx(m9,{message:t,isSelected:l,onSelect:u});if(t.type==="pageContext")return T.jsx(y9,{message:t,isSelected:l,onSelect:u});if(t.type==="cloneNotification")return T.jsx(v9,{message:t,onGoToConversation:r,isSelected:l,onSelect:u});const w=t.type==="userMessage"||t.type==="userImageMessage",E="text"in t&&t.text||"",R=E.trim().length>0,S=(t.type==="userMessage"||t.type==="userImageMessage")&&t.xpaths?t.xpaths:[],k=()=>{const M={padding:"10px 14px",wordWrap:"break-word",lineHeight:"1.5",fontSize:g("md")};return w?{...M,backgroundColor:h("accent","bg"),color:h("text","primary"),...Fs(h,"right",l)}:t.type==="aiMessage"&&t.isLoading?{...M,color:h("text","primary"),opacity:.7,fontStyle:"italic"}:t.type==="aiMessage"&&t.isError?{...M,color:h("error","text"),borderLeft:`2px solid ${h("error","border")}`}:{...M,backgroundColor:"transparent",color:h("text","primary"),...Fs(h,"left",l)}};return T.jsxs("div",{style:{alignSelf:w?"flex-end":"flex-start",maxWidth:w?"85%":"100%",minWidth:0,opacity:c?.5:1},"data-id":t.id,onMouseDown:M=>u==null?void 0:u(M,t.id),children:[t.type==="userImageMessage"&&T.jsx("div",{style:{marginBottom:R?"8px":"0",marginLeft:"auto"},children:t.image.blobUrl&&!m?T.jsxs("div",{style:{textAlign:"right"},children:[T.jsx("img",{src:t.image.blobUrl,alt:t.image.fileName||"Attached image",onError:()=>v(!0),style:{maxWidth:"100%",maxHeight:"300px",display:"block",marginLeft:"auto"}}),t.image.fileName&&T.jsx("div",{style:{fontSize:g("sm"),color:h("text","secondary"),marginTop:"4px"},children:t.image.fileName})]}):T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 12px",backgroundColor:w?h("accent","bg"):h("bg","tertiary"),borderRight:w?`2px solid ${h("accent","border")}`:"none",fontSize:g("sm"),color:h("text","secondary")},children:[T.jsx(kC,{size:14}),T.jsx("span",{title:t.image.fileName,children:t.image.fileName?sM(t.image.fileName):"Image attached"})]})}),S.length>0&&T.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px",marginBottom:R?"6px":"0",padding:"6px 14px"},children:S.map((M,P)=>T.jsx(aM,{xpath:M},P))}),R&&T.jsx("div",{style:k(),className:`chat-message-content${w?" chat-message-user":""}`,children:t.type==="aiMessage"&&t.isError?T.jsxs("div",{children:[T.jsx("div",{style:{marginBottom:"4px"},children:"Error"}),T.jsx("div",{style:{whiteSpace:"pre-wrap"},children:E})]}):E.split(/\n\n+/).map((M,P)=>T.jsx(x9,{text:M,components:x},`${P}-${M.slice(0,30)}`))})]})},w9);function S9(e={}){const{onComplete:t,onError:n}=e,r=H.useRef(t),i=H.useRef(n);H.useEffect(()=>{r.current=t,i.current=n});const[s,l]=H.useState("idle"),[u,c]=H.useState(null),[h,g]=H.useState(null);H.useEffect(()=>{let w=!1;const E=R=>{var S,k;switch(R.action){case"recordingStarted":w=!0,l("recording"),g(null);break;case"recordingComplete":if(!w)break;w=!1,l("idle"),g(null),R.audioData&&((S=r.current)==null||S.call(r,R.audioData));break;case"recordingError":{const M=R.error||"Recording failed";c(M),l("idle"),g(null),(k=i.current)==null||k.call(i,M);break}case"recordingCancelled":l("idle"),g(null);break;case"audioLevel":R.level!==void 0&&g(R.level);break}};return chrome.runtime.onMessage.addListener(E),()=>chrome.runtime.onMessage.removeListener(E)},[]);const m=H.useCallback(async()=>{try{c(null),l("starting");const w=await chrome.runtime.sendMessage({action:"offscreen:startRecording"});w!=null&&w.success||(c((w==null?void 0:w.error)||"Failed to start recording"),l("idle"))}catch(w){console.error("startRecording error:",w),c(`Failed to start recording: ${w.message}`),l("idle")}},[]),v=H.useCallback(()=>{s==="recording"&&chrome.runtime.sendMessage({action:"offscreen:stopRecording"})},[s]),x=H.useCallback(()=>{chrome.runtime.sendMessage({action:"offscreen:cancelRecording"}),l("idle")},[]);return{state:s,startRecording:m,stopRecording:v,cancelRecording:x,error:u,audioLevel:h}}function C9({textareaRef:e,enabled:t,placeholderData:n}){const[r,i]=H.useState(()=>Math.floor(Math.random()*n.suggestions.length)),[s,l]=H.useState(0),[u,c]=H.useState(""),h=(()=>{const g=n.suggestions[r]??"";if(s===0||!u)return!0;const v=document.createElement("canvas").getContext("2d");if(!v)return!0;v.font=u;const x=v.measureText(g).width,w=s-24;return x<=w})();return H.useEffect(()=>{const g=e.current;if(!g)return;const m=getComputedStyle(g);c(`${m.fontSize} ${m.fontFamily}`),l(g.clientWidth);const v=new ResizeObserver(x=>{for(const w of x)l(w.contentRect.width+24)});return v.observe(g),()=>v.disconnect()},[]),H.useEffect(()=>{const g=setInterval(()=>{i(Math.floor(Math.random()*n.suggestions.length))},n.intervalMs);return()=>clearInterval(g)},[]),!t||!h?"":n.suggestions[r]??""}const vx={inputValue:"",historyIndex:-1,historyDraft:""};function k9({messages:e,conversationId:t}){const n=H.useRef(new Map),r=H.useRef(null),[i,s]=H.useState(""),[l,u]=H.useState(-1),[c,h]=H.useState(""),g=e.filter(w=>w.type==="userMessage"||w.type==="userImageMessage").map(w=>w.text||"").reverse();if(r.current!==t){r.current&&n.current.set(r.current,{inputValue:i,historyIndex:l,historyDraft:c});const E=(t?n.current.get(t):null)||vx;i!==E.inputValue&&s(E.inputValue),l!==E.historyIndex&&u(E.historyIndex),c!==E.historyDraft&&h(E.historyDraft),r.current=t}const m=H.useCallback(w=>{if(s(w),t){const E=n.current.get(t);n.current.set(t,{...E||vx,inputValue:w})}},[t]),v=H.useCallback(()=>{if(u(-1),h(""),t){const w=n.current.get(t);n.current.set(t,{...w||vx,inputValue:"",historyIndex:-1,historyDraft:""})}},[t]),x=H.useCallback(w=>{if(w.key==="ArrowUp"){if(g.length===0)return!1;l===-1&&h(i);const E=Math.min(l+1,g.length-1);return E!==l?(u(E),m(g[E]??""),w.preventDefault(),!0):!1}if(w.key==="ArrowDown"){if(l===-1)return!1;const E=l-1;return u(E),m(E===-1?c:g[E]??""),w.preventDefault(),!0}return!1},[g,l,i,c,m]);return{inputValue:i,setInputValue:m,handleHistoryNavigation:x,resetNavigationState:v}}function I9(e,t,n=44,r=200){const i=H.useCallback(s=>{s.style.setProperty("height",`${n}px`,"important"),s.style.setProperty("overflow","hidden","important")},[n]);H.useEffect(()=>{const s=e.current;s&&i(s)},[e,n,i]),H.useEffect(()=>{const s=e.current;if(!s)return;if(t===""){i(s);return}i(s);const l=n+2;if(s.scrollHeight>l){const u=Math.min(s.scrollHeight+2,r);s.style.setProperty("height",`${u}px`,"important"),u>=r&&s.style.setProperty("overflow","auto","important")}},[t,e,n,r,i])}const E9={intervalMs:6e3,suggestions:["Make the font size bigger on this site","Change the background color to dark mode","Hide the sidebar on this page","Remove all ads from this site","Make the text easier to read","Add more spacing between paragraphs","Change the link colors to be more visible","Make images larger when I hover over them","Hide the cookie consent banner","Center the main content on the page","Change the text color to black on this page","Remove the popup that appears when I highlight text","Remove the paywall popup","Insert a little SVG animation the page for me",'Can you change the text to say "Dan is cool"?']},ld=100;function D9({isRecording:e}){const{c:t}=Tt(),n=H.useRef(null),r=H.useRef(new Array(ld).fill(0));return H.useEffect(()=>{if(!e){r.current=new Array(ld).fill(0);const s=n.current;if(s){const l=s.getContext("2d");l&&(l.fillStyle=t("bg","primary"),l.fillRect(0,0,s.width,s.height))}return}const i=s=>{if(s.action!=="audioLevel"||s.level===void 0)return;r.current.shift(),r.current.push(s.level);const l=n.current;if(!l)return;const u=l.getContext("2d");if(!u)return;u.fillStyle=t("bg","primary"),u.fillRect(0,0,l.width,l.height);const c=r.current,h=2,m=(l.width-h*(ld-1))/ld,v=4,x=l.height-4-v,w=l.height/2;u.fillStyle=t("error","text");for(let E=0;E<ld;E++){const R=Math.min((c[E]??0)/64,1),S=v+R*x,k=E*(m+h),M=w-S/2;u.fillRect(k,M,m,S)}};return chrome.runtime.onMessage.addListener(i),()=>chrome.runtime.onMessage.removeListener(i)},[e,t]),T.jsx("canvas",{ref:n,width:300,height:44,style:{flex:1,height:"44px",borderRadius:"12px",border:`1px solid ${t("border","subtle")}`,backgroundColor:t("bg","primary"),boxSizing:"border-box"}})}const M9=H.forwardRef(function({messages:t,conversationId:n,onSubmit:r,onImageAttach:i,onError:s,onAudioReady:l,pendingImage:u,onRemoveImage:c,pendingXPaths:h=[],onRemoveXPath:g,showPlaceholder:m=!0,showMicButton:v=!1,isTranscribing:x=!1,disabled:w=!1},E){const{c:R}=Tt(),{fs:S}=_t(),k=H.useRef(null),M=H.useRef(null),[P,W]=H.useState(!1),[z,Q]=H.useState(!1),{inputValue:$,setInputValue:se,handleHistoryNavigation:F,resetNavigationState:Y}=k9({messages:t,conversationId:n});I9(k,$),H.useImperativeHandle(E,()=>({getValue:()=>$,setValue:oe=>se(oe),clear:()=>{se(""),Y()},focus:()=>{var oe;return(oe=k.current)==null?void 0:oe.focus()}}));const re=C9({textareaRef:k,enabled:m,placeholderData:E9}),{state:J,startRecording:V,stopRecording:B,cancelRecording:Re,error:Te}=S9({onComplete:l}),me=J==="starting",ae=J==="recording",N=()=>me?"Starting to record, please wait...":x?"Transcribing...":P?"Drop image here...":re,de=oe=>{if(!F(oe)&&oe.key==="Enter"&&!oe.shiftKey){oe.preventDefault();const Se=$.trim();(Se||u||h.length>0)&&r(Se)}},ve=H.useRef(null);H.useEffect(()=>{Te&&Te!==ve.current&&(ve.current=Te,s(Te))},[Te,s]);const G=oe=>{if(!oe.type.startsWith("image/")){s("Please select an image file");return}const Se=new FileReader;Se.onload=Ee=>{var Ye;const Fe=(Ye=Ee.target)==null?void 0:Ye.result;i({dataUrl:Fe,fileName:oe.name})},Se.readAsDataURL(oe)},_e=oe=>{var Ee;const Se=(Ee=oe.target.files)==null?void 0:Ee[0];Se&&(G(Se),oe.target.value="")},Be=oe=>{oe.preventDefault(),oe.stopPropagation(),W(!0)},Oe=oe=>{oe.preventDefault(),oe.stopPropagation(),W(!1)},Ue=oe=>{var Ee;oe.preventDefault(),oe.stopPropagation(),W(!1);const Se=(Ee=oe.dataTransfer.files)==null?void 0:Ee[0];Se&&G(Se)};return T.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",paddingBottom:"8px"},onDragOver:Be,onDragLeave:Oe,onDrop:Ue,children:[h.length>0&&T.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginBottom:"8px"},children:h.map((oe,Se)=>T.jsx(aM,{xpath:oe,onRemove:()=>g(Se)},Se))}),u&&T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",padding:"8px",backgroundColor:R("bg","tertiary"),border:`1px solid ${R("border","primary")}`},children:[T.jsx("img",{src:u.dataUrl,alt:"Attached",style:{maxHeight:"60px",maxWidth:"100px",objectFit:"cover"}}),T.jsx("span",{style:{fontSize:S("sm"),color:R("text","secondary"),flex:1},title:u.fileName,children:sM(u.fileName)}),T.jsx("button",{onMouseDown:c,style:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",color:R("text","secondary")},title:"Remove image",children:T.jsx(bl,{size:18})})]}),T.jsx("div",{style:{display:"flex",alignItems:"flex-end",gap:"8px",border:P?`2px dashed ${R("primary","main")}`:"none",padding:P?"4px":"0",transition:"all 0.2s"},children:ae?T.jsxs(T.Fragment,{children:[T.jsx(D9,{isRecording:ae}),T.jsx("button",{onMouseDown:Re,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",display:"flex",alignItems:"center",color:R("text","secondary")},title:"Cancel recording",children:T.jsx(bl,{size:22})}),T.jsx("button",{onMouseDown:B,style:{background:R("primary","main"),border:"none",borderRadius:"50%",cursor:"pointer",padding:"8px",display:"flex",alignItems:"center",color:R("buttonText","onPrimary")},title:"Send for transcription",children:T.jsx(wC,{size:22})})]}):T.jsxs(T.Fragment,{children:[T.jsx("style",{children:`.chat-input::placeholder { color: ${x||me?R("text","primary"):R("text","secondary")}; opacity: 1; }`}),T.jsx("textarea",{ref:k,className:"chat-input",placeholder:N(),value:$,onChange:oe=>se(oe.target.value),onKeyDown:de,onFocus:()=>Q(!0),onBlur:()=>Q(!1),disabled:w||x||me,style:{flex:1,padding:"10px 12px",borderWidth:"1px 0",borderStyle:"solid",borderColor:z?R("border","active"):R("border","strong"),fontFamily:"inherit",fontSize:S("md"),resize:"none",outline:"none",transition:"border-color 0.2s",overflow:"hidden",overflowY:"hidden",scrollbarWidth:"none",height:"44px",maxHeight:"200px",lineHeight:"1.5",boxSizing:"border-box",backgroundColor:R("bg","primary"),color:R("text","primary")}}),v&&T.jsx("button",{onMouseDown:V,disabled:x||me,style:{background:"none",border:"none",cursor:x||me?"not-allowed":"pointer",padding:"0",display:"flex",alignItems:"center",justifyContent:"center",alignSelf:"center",color:x||me?R("text","tertiary"):R("text","primary")},title:"Record audio",children:T.jsx(zP,{size:22})}),T.jsx("button",{onClick:()=>{var oe;return(oe=M.current)==null?void 0:oe.click()},style:{background:"none",border:"none",cursor:"pointer",padding:"0",display:"flex",alignItems:"center",justifyContent:"center",alignSelf:"center",color:u?R("primary","main"):R("text","primary")},title:"Attach image (or drag & drop)",children:T.jsx(kC,{size:22})}),T.jsx("input",{ref:M,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:_e,style:{display:"none"}})]})})]})});class R9{async transcribe(t){try{const n=await fetch(xl().audio,{method:"POST",headers:Lf(),body:JSON.stringify({audio:t.audio,language:t.language,traceId:t.traceId})});if(!n.ok){const i=await n.json();throw new Error(i.message||`HTTP ${n.status}: ${n.statusText}`)}const r=await n.json();return r.error?{transcription:"",error:r.error}:{transcription:r.transcription}}catch(n){return{transcription:"",error:n.message}}}}function T9(){return!0}function O9({currentTitle:e,onRename:t,onClose:n}){const{c:r}=Tt(),{fs:i,fw:s}=_t(),[l,u]=H.useState(e),c=H.useRef(null);H.useEffect(()=>{c.current&&(c.current.focus(),c.current.select())},[]);const h=async()=>{l.trim()&&await t(l.trim()),n()},g=m=>{m.key==="Enter"?h():m.key==="Escape"&&n()};return T.jsx("div",{onMouseDown:n,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:r("shadow","modal"),display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},children:T.jsxs("div",{onMouseDown:m=>m.stopPropagation(),style:{position:"relative",backgroundColor:r("bg","primary"),borderRadius:"12px",padding:"24px",boxShadow:`0 8px 32px ${r("shadow","modal")}`,minWidth:"300px",maxWidth:"400px"},children:[T.jsx("button",{onMouseDown:n,style:{position:"absolute",top:"12px",right:"12px",background:"none",border:"none",cursor:"pointer",padding:"4px",color:r("text","tertiary"),display:"flex",alignItems:"center",justifyContent:"center"},children:T.jsx(bl,{size:18})}),T.jsx("div",{style:{fontSize:i("md"),fontWeight:s("semibold"),color:r("text","primary"),marginBottom:"16px",textAlign:"center"},children:"Rename conversation"}),T.jsx("input",{ref:c,type:"text",value:l,onChange:m=>u(m.target.value),onKeyDown:g,style:{width:"100%",padding:"10px 14px",fontSize:i("md"),border:`1px solid ${r("border","primary")}`,borderRadius:"6px",outline:"none",boxSizing:"border-box",backgroundColor:r("bg","secondary"),color:r("text","primary")}}),T.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"12px",marginTop:"20px"},children:[T.jsx("button",{onMouseDown:n,style:{padding:"10px 20px",fontSize:i("base"),fontWeight:s("medium"),border:`1px solid ${r("border","primary")}`,borderRadius:"6px",backgroundColor:r("bg","primary"),cursor:"pointer",color:r("text","secondary")},children:"Cancel"}),T.jsx("button",{onMouseDown:h,style:{padding:"10px 20px",fontSize:i("base"),fontWeight:s("medium"),border:"none",borderRadius:"6px",backgroundColor:r("primary","main"),color:r("buttonText","onPrimary"),cursor:"pointer"},children:"Save"})]})]})})}function L9({currentModel:e,modelOptions:t,hasMultipleModels:n,onSetModel:r}){const{c:i}=Tt(),{fs:s,fw:l}=_t(),[u,c]=H.useState(!1),[h,g]=H.useState(null),m=H.useRef(null);return H.useEffect(()=>{if(!u)return;const v=x=>{m.current&&!m.current.contains(x.target)&&c(!1)};return document.addEventListener("click",v),()=>document.removeEventListener("click",v)},[u]),T.jsxs("div",{ref:m,style:{position:"relative"},children:[T.jsxs("button",{onMouseDown:()=>n&&c(!u),style:{background:"none",border:"none",cursor:n?"pointer":"default",padding:"4px 8px",fontSize:s("sm"),color:i("text","secondary"),display:"flex",alignItems:"center",gap:"4px"},children:[e.label,n&&T.jsx(OP,{style:{fontSize:"10px"}})]}),u&&T.jsx("div",{style:{position:"absolute",left:0,top:"100%",backgroundColor:i("bg","primary"),border:`1px solid ${i("border","primary")}`,boxShadow:`0 2px 8px ${i("shadow","menu")}`,zIndex:10,minWidth:"160px"},children:t.map((v,x)=>T.jsx("div",{onMouseDown:()=>{r(v.value),c(!1)},onMouseEnter:()=>g(x),onMouseLeave:()=>g(null),style:{padding:"8px 16px",cursor:"pointer",fontSize:s("base"),color:v.value===e.value?i("primary","text"):i("text","primary"),backgroundColor:h===x?i("bg","hover"):i("bg","primary"),fontWeight:v.value===e.value?l("medium"):l("normal")},children:v.label},v.value))})]})}function P9({toolUsePermissions:e,onSetToolPermissions:t,onHoverChange:n}){const{c:r}=Tt(),{fs:i}=_t(),[s,l]=H.useState(!1),u=H.useRef(null);return H.useEffect(()=>{if(!s)return;const c=h=>{u.current&&!u.current.contains(h.target)&&l(!1)};return document.addEventListener("click",c),()=>document.removeEventListener("click",c)},[s]),T.jsxs("div",{ref:u,style:{position:"relative"},children:[T.jsx("button",{onMouseDown:()=>l(!s),onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:r("text","secondary"),display:"flex",alignItems:"center"},children:T.jsx(jP,{size:14})}),s&&T.jsxs("div",{style:{position:"absolute",right:0,top:"100%",backgroundColor:r("bg","primary"),border:`1px solid ${r("border","primary")}`,boxShadow:`0 2px 8px ${r("shadow","menu")}`,zIndex:10,minWidth:"220px",padding:"8px 12px"},children:[T.jsx("p",{style:{fontSize:i("sm"),color:r("text","secondary"),marginBottom:"8px"},children:"Tool permissions"}),T.jsx(qk,{toolUsePermissions:e,onToggle:(c,h)=>t({...e,[c]:h?"approved":"request"})})]})]})}function F9({onNewChat:e,onHoverChange:t}){const{c:n}=Tt(),[r,i]=H.useState(!1);return T.jsx("button",{onMouseDown:e,onMouseEnter:()=>{i(!0),t==null||t(!0)},onMouseLeave:()=>{i(!1),t==null||t(!1)},style:{background:r?n("bg","hover"):"none",border:"none",cursor:"pointer",padding:"4px",width:"24px",height:"24px",color:n("text","secondary"),borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"},title:"New chat",children:T.jsx(MP,{size:16})})}function B9({onStop:e,onHoverChange:t}){const{c:n}=Tt(),[r,i]=H.useState(!1),s=()=>{e()},l=()=>{i(!0),t(!0)},u=()=>{i(!1),t(!1)},c=()=>r?n("bg","hover"):"none",h=()=>r?n("error","text"):n("text","secondary");return T.jsx("button",{onMouseDown:s,onMouseEnter:l,onMouseLeave:u,style:{background:c(),border:"none",cursor:"pointer",padding:"4px",width:"24px",height:"24px",color:h(),borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",opacity:1},title:"Stop response",children:T.jsx(QP,{size:16})})}const N9=H.memo(function({currentModel:t,modelOptions:n,hasMultipleModels:r,onSetModel:i,toolUsePermissions:s,onSetToolPermissions:l,isPinned:u,currentTitle:c,onNewChat:h,isAgentRunning:g,onStop:m,onTogglePin:v,onRename:x,onDelete:w,onExport:E,onClone:R}){const{c:S}=Tt(),{fs:k}=_t(),[M,P]=H.useState(null),[W,z]=H.useState(!1),Q=()=>M?M==="newChat"?"New chat":M==="stop"?"Stop response":M==="permissions"?"Tool permissions":"Other actions":"";return T.jsxs(T.Fragment,{children:[W&&T.jsx(O9,{currentTitle:c,onRename:x,onClose:()=>z(!1)}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",backgroundColor:S("bg","secondary")},children:[T.jsx(L9,{currentModel:t,modelOptions:n,hasMultipleModels:r,onSetModel:i}),c&&T.jsx("span",{style:{flex:1,fontSize:k("sm"),color:S("text","secondary"),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",margin:"0 8px"},children:c}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",flexShrink:0},children:[M&&T.jsx("span",{style:{fontSize:k("sm"),whiteSpace:"nowrap",color:S("text","secondary")},children:Q()}),g&&T.jsx(B9,{onStop:m,onHoverChange:$=>P($?"stop":null)}),T.jsx(P9,{toolUsePermissions:s,onSetToolPermissions:l,onHoverChange:$=>P($?"permissions":null)}),T.jsx(F9,{onNewChat:h,onHoverChange:$=>P($?"newChat":null)}),T.jsx(MC,{isPinned:u,onPin:v,onRenameStart:()=>z(!0),onDelete:w,onExport:E,onClone:R,onHoverChange:$=>P($?"menu":null)})]})]})]})});async function _9(){const e=await fetch(xl().authMe,{headers:Lf()});if(!e.ok)throw new Error(`HTTP ${e.status}`);const t=await e.json();return{tier:t.tier??"unknown",hasCredits:!!t.hasCredits}}function j9({onClose:e,onResume:t}){const{c:n}=Tt(),{fs:r,fw:i}=_t(),{data:s,isLoading:l,error:u,refetch:c}=cC({queryKey:["subscription-check"],queryFn:_9});return T.jsx("div",{onMouseDown:e,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:n("shadow","modal"),display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},children:T.jsxs("div",{onMouseDown:h=>h.stopPropagation(),style:{position:"relative",backgroundColor:n("bg","primary"),borderRadius:"12px",padding:"24px",boxShadow:`0 8px 32px ${n("shadow","modal")}`,minWidth:"280px",maxWidth:"360px"},children:[T.jsx("button",{onMouseDown:e,style:{position:"absolute",top:"12px",right:"12px",background:"none",border:"none",cursor:"pointer",padding:"4px",color:n("text","tertiary"),display:"flex",alignItems:"center",justifyContent:"center"},children:T.jsx(bl,{size:18})}),T.jsx("div",{style:{fontSize:r("md"),fontWeight:i("semibold"),color:n("text","primary"),marginBottom:"16px",textAlign:"center"},children:"Subscription"}),s?T.jsxs("div",{style:{textAlign:"center"},children:[T.jsx("div",{style:{fontSize:r("base"),color:n("text","secondary"),marginBottom:"4px"},children:"Current tier"}),T.jsx("div",{style:{fontSize:r("md"),fontWeight:i("semibold"),color:n("text","primary"),marginBottom:"16px",textTransform:"capitalize"},children:s.tier}),s.hasCredits?T.jsx("div",{style:{fontSize:r("base"),color:n("success","text"),marginBottom:"16px"},children:"Credits available"}):T.jsx("div",{style:{fontSize:r("base"),color:n("text","tertiary"),marginBottom:"16px"},children:"No credits remaining"})]}):u?T.jsx("div",{style:{fontSize:r("base"),color:n("error","text"),textAlign:"center",marginBottom:"16px"},children:u.message}):null,T.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"12px",marginTop:"8px"},children:[T.jsxs("button",{onMouseDown:()=>c(),disabled:l,style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 20px",fontSize:r("base"),fontWeight:i("medium"),border:`1px solid ${n("border","primary")}`,borderRadius:"6px",backgroundColor:n("bg","primary"),cursor:l?"not-allowed":"pointer",color:n("text","secondary"),opacity:l?.6:1},children:[T.jsx(UP,{size:14}),l?"Checking...":"Refresh"]}),(s==null?void 0:s.hasCredits)&&T.jsx("button",{onMouseDown:t,style:{padding:"10px 20px",fontSize:r("base"),fontWeight:i("medium"),border:"none",borderRadius:"6px",backgroundColor:n("primary","main"),color:n("buttonText","onPrimary"),cursor:"pointer"},children:"Resume conversation"})]})]})})}function z9({suspendData:e,onResume:t}){const{c:n}=Tt(),{fs:r,fw:i}=_t(),{isAuthenticated:s,signIn:l}=Xk(),[u,c]=H.useState(!1);return T.jsxs(T.Fragment,{children:[T.jsx("div",{style:{maxWidth:"85%",alignSelf:"flex-start",padding:"8px 0"},children:T.jsxs("div",{style:{padding:"12px 14px",backgroundColor:n("bg","selected"),borderRadius:"6px",border:`1px solid ${n("border","active")}`},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px",fontSize:r("base"),color:n("primary","text")},children:[T.jsx(bC,{size:16}),T.jsx("span",{style:{fontWeight:i("medium")},children:"Usage limit reached"})]}),T.jsx("div",{style:{fontSize:r("base"),color:n("text","primary"),marginBottom:"12px"},children:e.message}),T.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[!s&&T.jsx("button",{onMouseDown:l,style:{padding:"6px 16px",backgroundColor:n("bg","tertiary"),color:n("text","primary"),border:`1px solid ${n("border","primary")}`,borderRadius:"6px",fontSize:r("base"),fontWeight:i("medium"),cursor:"pointer"},children:"Log in"}),T.jsx("button",{onMouseDown:()=>{window.open(pI.upgrade,"_blank")},style:{padding:"6px 16px",backgroundColor:n("primary","main"),color:n("buttonText","onPrimary"),border:"none",borderRadius:"6px",fontSize:r("base"),fontWeight:i("medium"),cursor:"pointer"},children:"Upgrade"})]}),s&&T.jsx("div",{onMouseDown:()=>c(!0),style:{marginTop:"10px",fontSize:r("sm"),color:n("text","tertiary"),cursor:"pointer",textDecoration:"underline"},children:"Check my subscription"})]})}),u&&T.jsx(j9,{onClose:()=>c(!1),onResume:()=>{c(!1),t()}})]})}function H9({onDone:e}){const{c:t}=Tt(),{fs:n,fw:r}=_t();return T.jsx("div",{style:{maxWidth:"85%",alignSelf:"flex-start",padding:"8px 0"},children:T.jsxs("div",{style:{padding:"12px 14px",backgroundColor:t("bg","selected"),borderRadius:"6px",border:`1px solid ${t("border","active")}`},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px",fontSize:n("base"),color:t("primary","text")},children:[T.jsx(EC,{size:16}),T.jsx("span",{style:{fontWeight:r("medium")},children:"Enable user scripts"})]}),T.jsx("div",{style:{fontSize:n("base"),color:t("text","primary"),marginBottom:"12px"},children:'Open settings, Enable the "User Scripts" toggle, then return here and click "Done" to continue.'}),T.jsxs("div",{style:{display:"flex",gap:"8px"},children:[T.jsx("button",{onMouseDown:()=>{lI(`chrome://extensions/?id=${chrome.runtime.id}`,{sidePanelPage:"enableUserscripts"})},style:{padding:"6px 16px",backgroundColor:t("primary","main"),color:t("buttonText","onPrimary"),border:"none",borderRadius:"6px",fontSize:n("base"),fontWeight:r("medium"),cursor:"pointer"},children:"Go to settings"}),T.jsx("button",{onMouseDown:e,style:{padding:"6px 16px",backgroundColor:t("bg","tertiary"),color:t("text","primary"),border:`1px solid ${t("border","primary")}`,borderRadius:"6px",fontSize:n("base"),fontWeight:r("medium"),cursor:"pointer"},children:"Done"})]})]})})}function U9({suspendData:e,onDone:t}){var l;const{c:n}=Tt(),{fs:r,fw:i}=_t(),s=((l=e.toolStates[0])==null?void 0:l.tool)??"unknown";return T.jsx("div",{style:{maxWidth:"85%",alignSelf:"flex-start",padding:"8px 0"},children:T.jsxs("div",{style:{padding:"12px 14px",backgroundColor:n("bg","selected"),borderRadius:"6px",border:`1px solid ${n("border","active")}`},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"10px",fontSize:r("base"),color:n("primary","text")},children:[T.jsx(KP,{size:16}),T.jsx("span",{style:{fontWeight:i("medium")},children:"Permission required"})]}),T.jsx("div",{style:{fontSize:r("base"),color:n("text","primary"),marginBottom:"12px"},children:`The AI wants to use: ${s}`}),T.jsx("button",{onMouseDown:t,style:{padding:"6px 16px",backgroundColor:n("primary","main"),color:n("buttonText","onPrimary"),border:"none",borderRadius:"6px",fontSize:r("base"),fontWeight:i("medium"),cursor:"pointer"},children:"Approve"})]})})}function W9(e){window.chatMessages=e}function K9(e){const t=window;e.deleteAllConversations&&(t.deleteAllConversations=e.deleteAllConversations),e.deleteAllScripts&&(t.deleteAllScripts=e.deleteAllScripts),e.createSyntheticConversations&&(t.createSyntheticConversations=e.createSyntheticConversations),e.createContextOverflowConversation&&(t.createContextOverflowConversation=e.createContextOverflowConversation),e.createSyntheticScripts&&(t.createSyntheticScripts=e.createSyntheticScripts),e.conversations!==void 0&&(t.conversations=e.conversations),e.currentConversationId!==void 0&&(t.currentConversationId=e.currentConversationId),e.scripts!==void 0&&(t.scripts=e.scripts)}function Q9(e){const t={tabId:e,lastScriptId:null,setLastScriptId:()=>{}},n=window;n.tools={analyzePage:r=>AI(t,r,`dev-${Date.now()}`),fetchPage:(r,i)=>tE(t,r,i||"markdown",`dev-${Date.now()}`),writeNew:(r,i,s)=>nE(t,r,i,s||"new-script",void 0,void 0,`dev-${Date.now()}`),listScripts:r=>ME(t,{limit:r??10})}}function $9({suspendData:e,onResume:t}){switch(e.type){case"credits_exhausted":return T.jsx(z9,{suspendData:e,onResume:t});case"userscripts_required":return T.jsx(H9,{onDone:t});case"permissions_required":return T.jsx(U9,{suspendData:e,onDone:t})}}function G9(e,t){var i;const n=e||[],r={value:t,label:((i=n.find(s=>s.value===t))==null?void 0:i.label)||Of.label};return{modelOptions:n,currentModel:r,hasMultipleModels:n.length>1}}function V9({activeTab:e,convos:t,onRename:n,onDelete:r,onExport:i,onClone:s,onTogglePin:l,onSetModel:u,onSetToolPermissions:c,onNewChat:h,settings:g,currentTabId:m,quillmonkeyModels:v,onScriptsReload:x,onGoToScript:w,pendingXPaths:E,clearPendingXPaths:R,onRemoveXPath:S}){const{c:k}=Tt(),M=F8(t),{currentConversationMessages:P,persistMessage:W,getMessage:z,deleteMessageWhere:Q,findMessage:$,loadConversationMessages:se}=M,{currentConversationId:F,currentConversation:Y,updateConversationAgentState:re,updateConversationMessageQueue:J,popFromMessageQueue:V,updateConversationPendingImage:B,addDomainFromTab:Re,persistAgentResult:Te,persistTitle:me,suspendConversation:ae,resumeConversation:N}=t,de=H.useRef(null),ve=H.useRef(null),[G,_e]=H.useState(!1),[Be,Oe]=H.useState(null),Ue=H.useCallback((st,dt)=>{st.stopPropagation(),Oe(dt)},[]),oe=H.useRef(F);H.useEffect(()=>{oe.current=F},[F]);const Se=H.useRef(null),Ee=(Y==null?void 0:Y.pendingImage)??null,Fe=e==="chat",Ye=(Y==null?void 0:Y.model)||g.defaultModel,tt=(Y==null?void 0:Y.toolUsePermissions)||g.toolUsePermissions,{modelOptions:Ne,currentModel:Pt,hasMultipleModels:Ht}=H.useMemo(()=>G9(v,Ye),[v,Ye]),Yt=Y==null?void 0:Y.agentState,En=(Yt==null?void 0:Yt.isRunning)||!1,oi=(Yt==null?void 0:Yt.isStreaming)||!1,Nt=(Yt==null?void 0:Yt.isThinking)||!1,Dn=H.useRef([]),xo=H.useRef([]),Ni=H.useCallback((st,dt)=>{Dn.current.push({tool:dt.tool,toolCallId:st,args:dt.args})},[]),Fo=H.useCallback((st,dt,Vt)=>{xo.current.push({tool:dt,toolCallId:st,args:Vt})},[]),{agentRegistry:wr,runAgent:Me,resolveScreenshot:je,retryAfterUserScriptsApproved:St,requestStop:kt}=L8({tabId:m,scriptRules:g.scriptRules,toolUsePermissions:tt,maxIterations:5e3,onUserScriptsRequest:Ni,onPermissionRequest:Fo}),gt=H.useCallback(()=>{const st=oe.current;return st?wr.getNextEventIndex(st):0},[wr]);_8({currentTabId:m,currentConversationId:t.currentConversationId,persistMessage:W,getNextEventIndex:gt});const{handleScroll:Cn,handleWheel:vn,handleMouseDown:On,handleMouseUp:Sr,isNearBottomRef:Ln,scrollingEnabled:it}=C_(de);H.useEffect(()=>{W9(P)},[P]),H.useEffect(()=>{var st,dt,Vt,en;E.length>0&&((dt=(st=ve.current)==null?void 0:st.getValue())!=null&&dt.trim()||(Vt=ve.current)==null||Vt.setValue("target this element"),(en=ve.current)==null||en.focus())},[E]);const At=H.useCallback(st=>{if(!F)return;const dt={id:`error_${F}_${Date.now()}`,type:"aiMessage",text:`Error: ${st}`,timestamp:new Date().toISOString(),tabId:m,isError:!0,eventIndex:gt()};W(F,dt)},[F,m,W,gt]),Bn=async(st,dt,Vt,en,pt)=>{let yt;if(dt){const[Kt="",Cr=""]=dt.dataUrl.split(","),ir=Kt.match(/data:([^;]+)/),qn=(ir==null?void 0:ir[1])??"image/png",xn=atob(Cr),Kn=new Uint8Array(xn.length);for(let ro=0;ro<xn.length;ro++)Kn[ro]=xn.charCodeAt(ro);const ls=new Blob([Kn],{type:qn});yt=URL.createObjectURL(ls)}const Wt=gt(),nn=dt?{id:`user_${en}_${Date.now()}`,type:"userImageMessage",text:st||void 0,timestamp:new Date().toISOString(),tabId:m,image:{fileName:dt.fileName,blobUrl:yt},eventIndex:Wt,...Vt.length>0&&{xpaths:Vt}}:{id:`user_${en}_${Date.now()}`,type:"userMessage",text:st,timestamp:new Date().toISOString(),tabId:m,eventIndex:Wt,...Vt.length>0&&{xpaths:Vt}};if(await pt(nn),dt){const Kt=await C8(dt.dataUrl,st,P,pt,gt,Y==null?void 0:Y.traceId);if("error"in Kt)return{ok:!1,error:`Failed to process image: ${Kt.error}`}}return{ok:!0}},ht=async(st,dt,Vt)=>{var yt,Wt;let en=!1,pt=!1;try{const nn=await Me(Pt.value,{conversationId:st,saveMessage:dt,getMessage:async Kt=>z(st,Kt),findMessage:async Kt=>$(st,Kt),deleteMessageWhere:async Kt=>Q(st,Kt),updateAgentState:Vt},()=>se(st),async Kt=>{await u(Kt)},Kt=>me(st,Kt),(Y==null?void 0:Y.firstInCtxMsgIdx)??0);if(pt=!!nn.stoppedByUser,await x(),await Te(st,nn),!nn.success&&nn.errorCode==="USAGE_LIMIT")return en=!0,await ae(st,{type:"credits_exhausted",tier:"unknown",message:nn.error||"Usage limit reached. Budget will refresh daily.",suspendedAt:new Date().toISOString()}),{suspended:en,stoppedByUser:pt};if(!nn.success&&((yt=nn.error)!=null&&yt.includes("USERSCRIPTS_REQUIRED"))){en=!0;const Kt=[...Dn.current];return Dn.current=[],await ae(st,{type:"userscripts_required",toolStates:Kt,suspendedAt:new Date().toISOString()}),{suspended:en,stoppedByUser:pt}}if(!nn.success&&((Wt=nn.error)!=null&&Wt.includes("PERMISSION_REQUIRED"))){en=!0;const Kt=[...xo.current];return xo.current=[],await ae(st,{type:"permissions_required",toolStates:Kt,suspendedAt:new Date().toISOString()}),{suspended:en,stoppedByUser:pt}}if(!nn.success&&nn.error){const Kt=Y!=null&&Y.traceId?`${nn.error}
Trace: ${Y.traceId}`:nn.error;await dt({id:`ai_${st}_error_${Date.now()}`,type:"aiMessage",text:Kt,timestamp:new Date().toISOString(),tabId:m,isError:!0,eventIndex:wr.getNextEventIndex(st)})}}catch(nn){const Kt=nn.message,Cr=Y!=null&&Y.traceId?`${Kt}

Trace: ${Y.traceId}`:Kt;await dt({id:`error_${st}_${Date.now()}`,type:"aiMessage",text:Cr,timestamp:new Date().toISOString(),tabId:m,isError:!0,eventIndex:wr.getNextEventIndex(st)})}return{suspended:en,stoppedByUser:pt}},Je=async(st,dt,Vt)=>{var ir,qn;const en=(Vt==null?void 0:Vt.continuation)??!1,pt=dt!==void 0?dt:Ee;if(!en&&!st&&!pt)return;if(!en&&dt===void 0&&F&&(Y!=null&&Y.suspendData||En&&g.enqueueMode)){J(F,xn=>[...xn,{text:st,image:Ee,queuedAt:new Date().toISOString()}]),(ir=ve.current)==null||ir.clear(),B(F,null);return}const yt=F;if(!yt)return;const Wt=await se(yt);wr.syncEventCounter(yt,Wt.length),En||re(yt,{isRunning:!0}),Ln.current=!0,m&&await Re(yt,m),(qn=ve.current)==null||qn.clear(),dt===void 0&&B(yt,null);const nn=async xn=>{await W(yt,xn)},Kt=xn=>{re(yt,xn)};if(!en){const xn=await Bn(st,pt,E,yt,nn);if(R(),!xn.ok){At(xn.error),En||Kt(void 0);return}}if(En)return;const{suspended:Cr}=await ht(yt,nn,Kt);Kt(void 0),Cr||V(yt,xn=>{xn&&Je(xn.text,xn.image)})};Se.current=Je;const Wn=H.useCallback(()=>{F&&kt(F)},[F,kt]),An=H.useCallback(async st=>{var dt,Vt,en;_e(!0);try{const yt=await new R9().transcribe({audio:st,traceId:Y==null?void 0:Y.traceId});if(yt.error)At(`Transcription failed: ${yt.error}`);else if(yt.transcription){const Wt=((dt=ve.current)==null?void 0:dt.getValue())||"";(Vt=ve.current)==null||Vt.setValue(Wt?`${Wt} ${yt.transcription}`:yt.transcription),(en=ve.current)==null||en.focus()}}catch(pt){At(`Transcription failed: ${pt.message}`)}finally{_e(!1)}},[At,Y]),pn=H.useCallback(async st=>{if(!F)return;await Q(F,Vt=>Vt.type==="toolUse"&&Vt.toolEvent.toolCallId===st);const dt={id:`screenshot_${st}`,type:"toolUse",timestamp:new Date().toISOString(),eventIndex:gt(),toolEvent:{tool:"grabScreenshot",toolCallId:st,status:"executing",args:{},kind:"ai_tool"}};await W(F,dt),je(st,!0)},[F,Q,W,je,gt]),Gr=H.useCallback(async st=>{F&&(await Q(F,dt=>dt.type==="toolUse"&&dt.toolEvent.toolCallId===st),je(st,!1))},[F,Q,je]),fr=H.useCallback(async()=>{if(!F||!(Y!=null&&Y.suspendData))return;const st=Y.suspendData,dt=await se(F);wr.syncEventCounter(F,dt.length);const Vt=pt=>{const yt={conversationId:F,saveMessage:Wt=>W(F,Wt),getMessage:Wt=>z(F,Wt),findMessage:Wt=>$(F,Wt),deleteMessageWhere:Wt=>Q(F,Wt),updateAgentState:Wt=>re(F,Wt)};return St(pt.tool,pt.args,yt,pt.toolCallId)},en=async(pt,yt)=>{const Wt=await $(F,nn=>nn.type==="toolUse"&&nn.toolEvent.toolCallId===pt.toolCallId);Wt&&Wt.type==="toolUse"&&await W(F,{...Wt,toolEvent:{...Wt.toolEvent,status:yt.success?"finished":"failed",result:yt.success?{success:!0}:yt}})};if(st.type==="userscripts_required"){await N(F);for(const pt of st.toolStates){const yt=await Vt(pt);if(yt.permissionIssue==="USERSCRIPTS_REQUIRED"){const Wt=[...Dn.current];Dn.current=[],await ae(F,{type:"userscripts_required",toolStates:Wt,suspendedAt:new Date().toISOString()});return}await en(pt,yt)}await Se.current("",null,{continuation:!0})}else if(st.type==="permissions_required"){const[pt,...yt]=st.toolStates;if(!pt)return;await N(F);const Wt=await Vt(pt);if(await en(pt,Wt),yt.length>0){await ae(F,{type:"permissions_required",toolStates:yt,suspendedAt:new Date().toISOString()});return}await Se.current("",null,{continuation:!0})}else await N(F),await Se.current("",null,{continuation:!0})},[F,Y==null?void 0:Y.suspendData,N,St,z,$,W,Q,re,ae,se,wr]),vi=En,Jn=T.jsx(M9,{ref:ve,messages:P,conversationId:F,onSubmit:Je,onImageAttach:st=>F&&B(F,st),pendingImage:Ee,onRemoveImage:()=>F&&B(F,null),pendingXPaths:E,onRemoveXPath:S,onError:At,showPlaceholder:P.length===0,showMicButton:T9(),onAudioReady:An,isTranscribing:G},"chat-prompt");return T.jsxs("div",{style:{flex:1,overflow:"hidden",display:Fe?"flex":"none",flexDirection:"column",backgroundColor:k("bg","secondary")},id:"chatPanel",children:[T.jsx(N9,{currentModel:Pt,modelOptions:Ne,hasMultipleModels:Ht,onSetModel:u,toolUsePermissions:tt,onSetToolPermissions:c,isPinned:(Y==null?void 0:Y.isPinned)||!1,currentTitle:(Y==null?void 0:Y.title)||"",onNewChat:h,isAgentRunning:En,onStop:Wn,onTogglePin:l,onRename:n,onDelete:r,onExport:i,onClone:s},F),T.jsxs("div",{className:"chat-messages",ref:de,style:{flex:1,overflowY:"auto",padding:"16px",display:"flex",flexDirection:"column",scrollbarGutter:"stable"},onScroll:Cn,onWheel:vn,onMouseDown:()=>{On(),Oe(null)},onMouseUp:Sr,children:[P.map((st,dt)=>T.jsx(lM,{message:st,onGoToScript:w,onGoToConversation:t.selectConversationById,onScreenshotApprove:pn,onScreenshotDeny:Gr,isSelected:Be===st.id,onSelect:Ue,isLastMessage:dt===P.length-1},st.id)),vi&&!oi&&!Nt&&T.jsx("div",{style:Fs(k,"left",!1),children:T.jsx(Pf,{})}),(Y==null?void 0:Y.suspendData)&&T.jsx($9,{suspendData:Y.suspendData,onResume:fr}),((Y==null?void 0:Y.messageQueue)??[]).map((st,dt)=>T.jsx(lM,{message:{id:`queued-${dt}`,type:st.image?"userImageMessage":"userMessage",text:st.text||void 0,timestamp:st.queuedAt,...st.image&&{image:{fileName:st.image.fileName}}},isQueued:!0},`queued-${dt}`)),!it&&T.jsx("div",{style:{marginTop:"24px"},children:Jn})]}),it&&T.jsx("div",{style:{padding:"16px"},children:Jn})]})}const Y9={log:"oklch(87.0% 0 0)",warn:"oklch(74.0% 0.151 92.8)",error:"oklch(73.8% 0.138 32.5)"};function J9(e){return e.map(t=>typeof t=="string"?t:JSON.stringify(t)).join(" ")}function q9({output:e,onClear:t}){var i;const{fs:n}=_t(),r=new Date(e.timestamp).toLocaleTimeString();return T.jsxs("div",{style:{maxHeight:"160px",overflowY:"auto",backgroundColor:"oklch(23.5% 0 0)",borderTop:"1px solid oklch(32.1% 0 0)",padding:"8px 12px",fontFamily:"monospace",fontSize:n("sm")},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[T.jsxs("span",{style:{color:"oklch(62.7% 0 0)",fontSize:"10px"},children:["Console",e.error?`  Error${e.error.line?` (line ${e.error.line})`:""}`:""]}),T.jsx("button",{onMouseDown:t,style:{background:"none",border:"none",color:"oklch(62.7% 0 0)",cursor:"pointer",fontSize:"10px",padding:"2px 4px"},title:"Clear console",children:"Clear"})]}),(i=e.logs)==null?void 0:i.map((s,l)=>T.jsxs("div",{style:{color:Y9[s.level]||"oklch(87.0% 0 0)",whiteSpace:"pre-wrap"},children:[T.jsx("span",{style:{color:"oklch(62.7% 0 0)",marginRight:"8px"},children:r}),J9(s.args)]},l)),e.error&&T.jsxs("div",{style:{color:"oklch(73.8% 0.138 32.5)",whiteSpace:"pre-wrap"},children:[T.jsx("span",{style:{color:"oklch(62.7% 0 0)",marginRight:"8px"},children:r}),e.error.errorText]})]})}var ud={},Ax={exports:{}},uM;function cd(){return uM||(uM=1,function(e,t){(function(n,r){e.exports=r()})(qt,function(){var n=navigator.userAgent,r=navigator.platform,i=/gecko\/\d/i.test(n),s=/MSIE \d/.test(n),l=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),u=/Edge\/(\d+)/.exec(n),c=s||l||u,h=c&&(s?document.documentMode||6:+(u||l)[1]),g=!u&&/WebKit\//.test(n),m=g&&/Qt\/\d+\.\d+/.test(n),v=!u&&/Chrome\/(\d+)/.exec(n),x=v&&+v[1],w=/Opera\//.test(n),E=/Apple Computer/.test(navigator.vendor),R=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),S=/PhantomJS/.test(n),k=E&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),M=/Android/.test(n),P=k||M||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),W=k||/Mac/.test(r),z=/\bCrOS\b/.test(n),Q=/win/i.test(r),$=w&&n.match(/Version\/(\d*\.\d*)/);$&&($=Number($[1])),$&&$>=15&&(w=!1,g=!0);var se=W&&(m||w&&($==null||$<12.11)),F=i||c&&h>=9;function Y(o){return new RegExp("(^|\\s)"+o+"(?:$|\\s)\\s*")}var re=function(o,a){var d=o.className,f=Y(a).exec(d);if(f){var p=d.slice(f.index+f[0].length);o.className=d.slice(0,f.index)+(p?f[1]+p:"")}};function J(o){for(var a=o.childNodes.length;a>0;--a)o.removeChild(o.firstChild);return o}function V(o,a){return J(o).appendChild(a)}function B(o,a,d,f){var p=document.createElement(o);if(d&&(p.className=d),f&&(p.style.cssText=f),typeof a=="string")p.appendChild(document.createTextNode(a));else if(a)for(var A=0;A<a.length;++A)p.appendChild(a[A]);return p}function Re(o,a,d,f){var p=B(o,a,d,f);return p.setAttribute("role","presentation"),p}var Te;document.createRange?Te=function(o,a,d,f){var p=document.createRange();return p.setEnd(f||o,d),p.setStart(o,a),p}:Te=function(o,a,d){var f=document.body.createTextRange();try{f.moveToElementText(o.parentNode)}catch{return f}return f.collapse(!0),f.moveEnd("character",d),f.moveStart("character",a),f};function me(o,a){if(a.nodeType==3&&(a=a.parentNode),o.contains)return o.contains(a);do if(a.nodeType==11&&(a=a.host),a==o)return!0;while(a=a.parentNode)}function ae(o){var a=o.ownerDocument||o,d;try{d=o.activeElement}catch{d=a.body||null}for(;d&&d.shadowRoot&&d.shadowRoot.activeElement;)d=d.shadowRoot.activeElement;return d}function N(o,a){var d=o.className;Y(a).test(d)||(o.className+=(d?" ":"")+a)}function de(o,a){for(var d=o.split(" "),f=0;f<d.length;f++)d[f]&&!Y(d[f]).test(a)&&(a+=" "+d[f]);return a}var ve=function(o){o.select()};k?ve=function(o){o.selectionStart=0,o.selectionEnd=o.value.length}:c&&(ve=function(o){try{o.select()}catch{}});function G(o){return o.display.wrapper.ownerDocument}function _e(o){return Be(o.display.wrapper)}function Be(o){return o.getRootNode?o.getRootNode():o.ownerDocument}function Oe(o){return G(o).defaultView}function Ue(o){var a=Array.prototype.slice.call(arguments,1);return function(){return o.apply(null,a)}}function oe(o,a,d){a||(a={});for(var f in o)o.hasOwnProperty(f)&&(d!==!1||!a.hasOwnProperty(f))&&(a[f]=o[f]);return a}function Se(o,a,d,f,p){a==null&&(a=o.search(/[^\s\u00a0]/),a==-1&&(a=o.length));for(var A=f||0,C=p||0;;){var D=o.indexOf("	",A);if(D<0||D>=a)return C+(a-A);C+=D-A,C+=d-C%d,A=D+1}}var Ee=function(){this.id=null,this.f=null,this.time=0,this.handler=Ue(this.onTimeout,this)};Ee.prototype.onTimeout=function(o){o.id=0,o.time<=+new Date?o.f():setTimeout(o.handler,o.time-+new Date)},Ee.prototype.set=function(o,a){this.f=a;var d=+new Date+o;(!this.id||d<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,o),this.time=d)};function Fe(o,a){for(var d=0;d<o.length;++d)if(o[d]==a)return d;return-1}var Ye=50,tt={toString:function(){return"CodeMirror.Pass"}},Ne={scroll:!1},Pt={origin:"*mouse"},Ht={origin:"+move"};function Yt(o,a,d){for(var f=0,p=0;;){var A=o.indexOf("	",f);A==-1&&(A=o.length);var C=A-f;if(A==o.length||p+C>=a)return f+Math.min(C,a-p);if(p+=A-f,p+=d-p%d,f=A+1,p>=a)return f}}var En=[""];function oi(o){for(;En.length<=o;)En.push(Nt(En)+" ");return En[o]}function Nt(o){return o[o.length-1]}function Dn(o,a){for(var d=[],f=0;f<o.length;f++)d[f]=a(o[f],f);return d}function xo(o,a,d){for(var f=0,p=d(a);f<o.length&&d(o[f])<=p;)f++;o.splice(f,0,a)}function Ni(){}function Fo(o,a){var d;return Object.create?d=Object.create(o):(Ni.prototype=o,d=new Ni),a&&oe(a,d),d}var wr=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Me(o){return/\w/.test(o)||o>""&&(o.toUpperCase()!=o.toLowerCase()||wr.test(o))}function je(o,a){return a?a.source.indexOf("\\w")>-1&&Me(o)?!0:a.test(o):Me(o)}function St(o){for(var a in o)if(o.hasOwnProperty(a)&&o[a])return!1;return!0}var kt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function gt(o){return o.charCodeAt(0)>=768&&kt.test(o)}function Cn(o,a,d){for(;(d<0?a>0:a<o.length)&&gt(o.charAt(a));)a+=d;return a}function vn(o,a,d){for(var f=a>d?-1:1;;){if(a==d)return a;var p=(a+d)/2,A=f<0?Math.ceil(p):Math.floor(p);if(A==a)return o(A)?a:d;o(A)?d=A:a=A+f}}function On(o,a,d,f){if(!o)return f(a,d,"ltr",0);for(var p=!1,A=0;A<o.length;++A){var C=o[A];(C.from<d&&C.to>a||a==d&&C.to==a)&&(f(Math.max(C.from,a),Math.min(C.to,d),C.level==1?"rtl":"ltr",A),p=!0)}p||f(a,d,"ltr")}var Sr=null;function Ln(o,a,d){var f;Sr=null;for(var p=0;p<o.length;++p){var A=o[p];if(A.from<a&&A.to>a)return p;A.to==a&&(A.from!=A.to&&d=="before"?f=p:Sr=p),A.from==a&&(A.from!=A.to&&d!="before"?f=p:Sr=p)}return f??Sr}var it=function(){var o="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",a="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function d(j){return j<=247?o.charAt(j):1424<=j&&j<=1524?"R":1536<=j&&j<=1785?a.charAt(j-1536):1774<=j&&j<=2220?"r":8192<=j&&j<=8203?"w":j==8204?"b":"L"}var f=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,p=/[stwN]/,A=/[LRr]/,C=/[Lb1n]/,D=/[1n]/;function L(j,q,ee){this.level=j,this.from=q,this.to=ee}return function(j,q){var ee=q=="ltr"?"L":"R";if(j.length==0||q=="ltr"&&!f.test(j))return!1;for(var ge=j.length,fe=[],Ie=0;Ie<ge;++Ie)fe.push(d(j.charCodeAt(Ie)));for(var Pe=0,We=ee;Pe<ge;++Pe){var Xe=fe[Pe];Xe=="m"?fe[Pe]=We:We=Xe}for(var ot=0,et=ee;ot<ge;++ot){var lt=fe[ot];lt=="1"&&et=="r"?fe[ot]="n":A.test(lt)&&(et=lt,lt=="r"&&(fe[ot]="R"))}for(var xt=1,mt=fe[0];xt<ge-1;++xt){var jt=fe[xt];jt=="+"&&mt=="1"&&fe[xt+1]=="1"?fe[xt]="1":jt==","&&mt==fe[xt+1]&&(mt=="1"||mt=="n")&&(fe[xt]=mt),mt=jt}for(var wn=0;wn<ge;++wn){var Mr=fe[wn];if(Mr==",")fe[wn]="N";else if(Mr=="%"){var _n=void 0;for(_n=wn+1;_n<ge&&fe[_n]=="%";++_n);for(var Ki=wn&&fe[wn-1]=="!"||_n<ge&&fe[_n]=="1"?"1":"N",Ci=wn;Ci<_n;++Ci)fe[Ci]=Ki;wn=_n-1}}for(var or=0,ki=ee;or<ge;++or){var Hr=fe[or];ki=="L"&&Hr=="1"?fe[or]="L":A.test(Hr)&&(ki=Hr)}for(var gr=0;gr<ge;++gr)if(p.test(fe[gr])){var sr=void 0;for(sr=gr+1;sr<ge&&p.test(fe[sr]);++sr);for(var $n=(gr?fe[gr-1]:ee)=="L",Ii=(sr<ge?fe[sr]:ee)=="L",_c=$n==Ii?$n?"L":"R":ee,el=gr;el<sr;++el)fe[el]=_c;gr=sr-1}for(var Yr=[],ys,Rr=0;Rr<ge;)if(C.test(fe[Rr])){var cb=Rr;for(++Rr;Rr<ge&&C.test(fe[Rr]);++Rr);Yr.push(new L(0,cb,Rr))}else{var Xs=Rr,ru=Yr.length,iu=q=="rtl"?1:0;for(++Rr;Rr<ge&&fe[Rr]!="L";++Rr);for(var ui=Xs;ui<Rr;)if(D.test(fe[ui])){Xs<ui&&(Yr.splice(ru,0,new L(1,Xs,ui)),ru+=iu);var jc=ui;for(++ui;ui<Rr&&D.test(fe[ui]);++ui);Yr.splice(ru,0,new L(2,jc,ui)),ru+=iu,Xs=ui}else++ui;Xs<Rr&&Yr.splice(ru,0,new L(1,Xs,Rr))}return q=="ltr"&&(Yr[0].level==1&&(ys=j.match(/^\s+/))&&(Yr[0].from=ys[0].length,Yr.unshift(new L(0,0,ys[0].length))),Nt(Yr).level==1&&(ys=j.match(/\s+$/))&&(Nt(Yr).to-=ys[0].length,Yr.push(new L(0,ge-ys[0].length,ge)))),q=="rtl"?Yr.reverse():Yr}}();function At(o,a){var d=o.order;return d==null&&(d=o.order=it(o.text,a)),d}var Bn=[],ht=function(o,a,d){if(o.addEventListener)o.addEventListener(a,d,!1);else if(o.attachEvent)o.attachEvent("on"+a,d);else{var f=o._handlers||(o._handlers={});f[a]=(f[a]||Bn).concat(d)}};function Je(o,a){return o._handlers&&o._handlers[a]||Bn}function Wn(o,a,d){if(o.removeEventListener)o.removeEventListener(a,d,!1);else if(o.detachEvent)o.detachEvent("on"+a,d);else{var f=o._handlers,p=f&&f[a];if(p){var A=Fe(p,d);A>-1&&(f[a]=p.slice(0,A).concat(p.slice(A+1)))}}}function An(o,a){var d=Je(o,a);if(d.length)for(var f=Array.prototype.slice.call(arguments,2),p=0;p<d.length;++p)d[p].apply(null,f)}function pn(o,a,d){return typeof a=="string"&&(a={type:a,preventDefault:function(){this.defaultPrevented=!0}}),An(o,d||a.type,o,a),dt(a)||a.codemirrorIgnore}function Gr(o){var a=o._handlers&&o._handlers.cursorActivity;if(a)for(var d=o.curOp.cursorActivityHandlers||(o.curOp.cursorActivityHandlers=[]),f=0;f<a.length;++f)Fe(d,a[f])==-1&&d.push(a[f])}function fr(o,a){return Je(o,a).length>0}function vi(o){o.prototype.on=function(a,d){ht(this,a,d)},o.prototype.off=function(a,d){Wn(this,a,d)}}function Jn(o){o.preventDefault?o.preventDefault():o.returnValue=!1}function st(o){o.stopPropagation?o.stopPropagation():o.cancelBubble=!0}function dt(o){return o.defaultPrevented!=null?o.defaultPrevented:o.returnValue==!1}function Vt(o){Jn(o),st(o)}function en(o){return o.target||o.srcElement}function pt(o){var a=o.which;return a==null&&(o.button&1?a=1:o.button&2?a=3:o.button&4&&(a=2)),W&&o.ctrlKey&&a==1&&(a=3),a}var yt=function(){if(c&&h<9)return!1;var o=B("div");return"draggable"in o||"dragDrop"in o}(),Wt;function nn(o){if(Wt==null){var a=B("span","");V(o,B("span",[a,document.createTextNode("x")])),o.firstChild.offsetHeight!=0&&(Wt=a.offsetWidth<=1&&a.offsetHeight>2&&!(c&&h<8))}var d=Wt?B("span",""):B("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return d.setAttribute("cm-text",""),d}var Kt;function Cr(o){if(Kt!=null)return Kt;var a=V(o,document.createTextNode("AA")),d=Te(a,0,1).getBoundingClientRect(),f=Te(a,1,2).getBoundingClientRect();return J(o),!d||d.left==d.right?!1:Kt=f.right-d.right<3}var ir=`

b`.split(/\n/).length!=3?function(o){for(var a=0,d=[],f=o.length;a<=f;){var p=o.indexOf(`
`,a);p==-1&&(p=o.length);var A=o.slice(a,o.charAt(p-1)=="\r"?p-1:p),C=A.indexOf("\r");C!=-1?(d.push(A.slice(0,C)),a+=C+1):(d.push(A),a=p+1)}return d}:function(o){return o.split(/\r\n?|\n/)},qn=window.getSelection?function(o){try{return o.selectionStart!=o.selectionEnd}catch{return!1}}:function(o){var a;try{a=o.ownerDocument.selection.createRange()}catch{}return!a||a.parentElement()!=o?!1:a.compareEndPoints("StartToEnd",a)!=0},xn=function(){var o=B("div");return"oncopy"in o?!0:(o.setAttribute("oncopy","return;"),typeof o.oncopy=="function")}(),Kn=null;function ls(o){if(Kn!=null)return Kn;var a=V(o,B("span","x")),d=a.getBoundingClientRect(),f=Te(a,0,1).getBoundingClientRect();return Kn=Math.abs(d.left-f.left)>1}var ro={},dr={};function _i(o,a){arguments.length>2&&(a.dependencies=Array.prototype.slice.call(arguments,2)),ro[o]=a}function Ai(o,a){dr[o]=a}function Us(o){if(typeof o=="string"&&dr.hasOwnProperty(o))o=dr[o];else if(o&&typeof o.name=="string"&&dr.hasOwnProperty(o.name)){var a=dr[o.name];typeof a=="string"&&(a={name:a}),o=Fo(a,o),o.name=a.name}else{if(typeof o=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(o))return Us("application/xml");if(typeof o=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(o))return Us("application/json")}return typeof o=="string"?{name:o}:o||{name:"null"}}function us(o,a){a=Us(a);var d=ro[a.name];if(!d)return us(o,"text/plain");var f=d(o,a);if(cn.hasOwnProperty(a.name)){var p=cn[a.name];for(var A in p)p.hasOwnProperty(A)&&(f.hasOwnProperty(A)&&(f["_"+A]=f[A]),f[A]=p[A])}if(f.name=a.name,a.helperType&&(f.helperType=a.helperType),a.modeProps)for(var C in a.modeProps)f[C]=a.modeProps[C];return f}var cn={};function ji(o,a){var d=cn.hasOwnProperty(o)?cn[o]:cn[o]={};oe(a,d)}function hr(o,a){if(a===!0)return a;if(o.copyState)return o.copyState(a);var d={};for(var f in a){var p=a[f];p instanceof Array&&(p=p.concat([])),d[f]=p}return d}function _a(o,a){for(var d;o.innerMode&&(d=o.innerMode(a),!(!d||d.mode==o));)a=d.state,o=d.mode;return d||{mode:o,state:a}}function io(o,a,d){return o.startState?o.startState(a,d):!0}var bn=function(o,a,d){this.pos=this.start=0,this.string=o,this.tabSize=a||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=d};bn.prototype.eol=function(){return this.pos>=this.string.length},bn.prototype.sol=function(){return this.pos==this.lineStart},bn.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},bn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},bn.prototype.eat=function(o){var a=this.string.charAt(this.pos),d;if(typeof o=="string"?d=a==o:d=a&&(o.test?o.test(a):o(a)),d)return++this.pos,a},bn.prototype.eatWhile=function(o){for(var a=this.pos;this.eat(o););return this.pos>a},bn.prototype.eatSpace=function(){for(var o=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>o},bn.prototype.skipToEnd=function(){this.pos=this.string.length},bn.prototype.skipTo=function(o){var a=this.string.indexOf(o,this.pos);if(a>-1)return this.pos=a,!0},bn.prototype.backUp=function(o){this.pos-=o},bn.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Se(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Se(this.string,this.lineStart,this.tabSize):0)},bn.prototype.indentation=function(){return Se(this.string,null,this.tabSize)-(this.lineStart?Se(this.string,this.lineStart,this.tabSize):0)},bn.prototype.match=function(o,a,d){if(typeof o=="string"){var f=function(C){return d?C.toLowerCase():C},p=this.string.substr(this.pos,o.length);if(f(p)==f(o))return a!==!1&&(this.pos+=o.length),!0}else{var A=this.string.slice(this.pos).match(o);return A&&A.index>0?null:(A&&a!==!1&&(this.pos+=A[0].length),A)}},bn.prototype.current=function(){return this.string.slice(this.start,this.pos)},bn.prototype.hideFirstChars=function(o,a){this.lineStart+=o;try{return a()}finally{this.lineStart-=o}},bn.prototype.lookAhead=function(o){var a=this.lineOracle;return a&&a.lookAhead(o)},bn.prototype.baseToken=function(){var o=this.lineOracle;return o&&o.baseToken(this.pos)};function ct(o,a){if(a-=o.first,a<0||a>=o.size)throw new Error("There is no line "+(a+o.first)+" in the document.");for(var d=o;!d.lines;)for(var f=0;;++f){var p=d.children[f],A=p.chunkSize();if(a<A){d=p;break}a-=A}return d.lines[a]}function oo(o,a,d){var f=[],p=a.line;return o.iter(a.line,d.line+1,function(A){var C=A.text;p==d.line&&(C=C.slice(0,d.ch)),p==a.line&&(C=C.slice(a.ch)),f.push(C),++p}),f}function so(o,a,d){var f=[];return o.iter(a,d,function(p){f.push(p.text)}),f}function si(o,a){var d=a-o.height;if(d)for(var f=o;f;f=f.parent)f.height+=d}function U(o){if(o.parent==null)return null;for(var a=o.parent,d=Fe(a.lines,o),f=a.parent;f;a=f,f=f.parent)for(var p=0;f.children[p]!=a;++p)d+=f.children[p].chunkSize();return d+a.first}function X(o,a){var d=o.first;e:do{for(var f=0;f<o.children.length;++f){var p=o.children[f],A=p.height;if(a<A){o=p;continue e}a-=A,d+=p.chunkSize()}return d}while(!o.lines);for(var C=0;C<o.lines.length;++C){var D=o.lines[C],L=D.height;if(a<L)break;a-=L}return d+C}function be(o,a){return a>=o.first&&a<o.first+o.size}function ze(o,a){return String(o.lineNumberFormatter(a+o.firstLineNumber))}function Ce(o,a,d){if(d===void 0&&(d=null),!(this instanceof Ce))return new Ce(o,a,d);this.line=o,this.ch=a,this.sticky=d}function Ze(o,a){return o.line-a.line||o.ch-a.ch}function Qt(o,a){return o.sticky==a.sticky&&Ze(o,a)==0}function Zn(o){return Ce(o.line,o.ch)}function _r(o,a){return Ze(o,a)<0?a:o}function Ws(o,a){return Ze(o,a)<0?o:a}function gn(o,a){return Math.max(o.first,Math.min(a,o.first+o.size-1))}function It(o,a){if(a.line<o.first)return Ce(o.first,0);var d=o.first+o.size-1;return a.line>d?Ce(d,ct(o,d).text.length):Ul(a,ct(o,a.line).text.length)}function Ul(o,a){var d=o.ch;return d==null||d>a?Ce(o.line,a):d<0?Ce(o.line,0):o}function Ks(o,a){for(var d=[],f=0;f<a.length;f++)d[f]=It(o,a[f]);return d}var ja=function(o,a){this.state=o,this.lookAhead=a},zi=function(o,a,d,f){this.state=a,this.doc=o,this.line=d,this.maxLookAhead=f||0,this.baseTokens=null,this.baseTokenPos=1};zi.prototype.lookAhead=function(o){var a=this.doc.getLine(this.line+o);return a!=null&&o>this.maxLookAhead&&(this.maxLookAhead=o),a},zi.prototype.baseToken=function(o){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=o;)this.baseTokenPos+=2;var a=this.baseTokens[this.baseTokenPos+1];return{type:a&&a.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-o}},zi.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},zi.fromSaved=function(o,a,d){return a instanceof ja?new zi(o,hr(o.mode,a.state),d,a.lookAhead):new zi(o,hr(o.mode,a),d)},zi.prototype.save=function(o){var a=o!==!1?hr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ja(a,this.maxLookAhead):a};function Wl(o,a,d,f){var p=[o.state.modeGen],A={};ai(o,a.text,o.doc.mode,d,function(j,q){return p.push(j,q)},A,f);for(var C=d.state,D=function(j){d.baseTokens=p;var q=o.state.overlays[j],ee=1,ge=0;d.state=!0,ai(o,a.text,q.mode,d,function(fe,Ie){for(var Pe=ee;ge<fe;){var We=p[ee];We>fe&&p.splice(ee,1,fe,p[ee+1],We),ee+=2,ge=Math.min(fe,We)}if(Ie)if(q.opaque)p.splice(Pe,ee-Pe,fe,"overlay "+Ie),ee=Pe+2;else for(;Pe<ee;Pe+=2){var Xe=p[Pe+1];p[Pe+1]=(Xe?Xe+" ":"")+"overlay "+Ie}},A),d.state=C,d.baseTokens=null,d.baseTokenPos=1},L=0;L<o.state.overlays.length;++L)D(L);return{styles:p,classes:A.bgClass||A.textClass?A:null}}function xd(o,a,d){if(!a.styles||a.styles[0]!=o.state.modeGen){var f=cs(o,U(a)),p=a.text.length>o.options.maxHighlightLength&&hr(o.doc.mode,f.state),A=Wl(o,a,f);p&&(f.state=p),a.stateAfter=f.save(!p),a.styles=A.styles,A.classes?a.styleClasses=A.classes:a.styleClasses&&(a.styleClasses=null),d===o.doc.highlightFrontier&&(o.doc.modeFrontier=Math.max(o.doc.modeFrontier,++o.doc.highlightFrontier))}return a.styles}function cs(o,a,d){var f=o.doc,p=o.display;if(!f.mode.startState)return new zi(f,!0,a);var A=za(o,a,d),C=A>f.first&&ct(f,A-1).stateAfter,D=C?zi.fromSaved(f,C,A):new zi(f,io(f.mode),A);return f.iter(A,a,function(L){dc(o,L.text,D);var j=D.line;L.stateAfter=j==a-1||j%5==0||j>=p.viewFrom&&j<p.viewTo?D.save():null,D.nextLine()}),d&&(f.modeFrontier=D.line),D}function dc(o,a,d,f){var p=o.doc.mode,A=new bn(a,o.options.tabSize,d);for(A.start=A.pos=f||0,a==""&&Jg(p,d.state);!A.eol();)Jt(p,A,d.state),A.start=A.pos}function Jg(o,a){if(o.blankLine)return o.blankLine(a);if(o.innerMode){var d=_a(o,a);if(d.mode.blankLine)return d.mode.blankLine(d.state)}}function Jt(o,a,d,f){for(var p=0;p<10;p++){f&&(f[0]=_a(o,d).mode);var A=o.token(a,d);if(a.pos>a.start)return A}throw new Error("Mode "+o.name+" failed to advance stream.")}var bd=function(o,a,d){this.start=o.start,this.end=o.pos,this.string=o.current(),this.type=a||null,this.state=d};function qg(o,a,d,f){var p=o.doc,A=p.mode,C;a=It(p,a);var D=ct(p,a.line),L=cs(o,a.line,d),j=new bn(D.text,o.options.tabSize,L),q;for(f&&(q=[]);(f||j.pos<a.ch)&&!j.eol();)j.start=j.pos,C=Jt(A,j,L.state),f&&q.push(new bd(j,C,hr(p.mode,L.state)));return f?q:new bd(j,C,L.state)}function Zg(o,a){if(o)for(;;){var d=o.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!d)break;o=o.slice(0,d.index)+o.slice(d.index+d[0].length);var f=d[1]?"bgClass":"textClass";a[f]==null?a[f]=d[2]:new RegExp("(?:^|\\s)"+d[2]+"(?:$|\\s)").test(a[f])||(a[f]+=" "+d[2])}return o}function ai(o,a,d,f,p,A,C){var D=d.flattenSpans;D==null&&(D=o.options.flattenSpans);var L=0,j=null,q=new bn(a,o.options.tabSize,f),ee,ge=o.options.addModeClass&&[null];for(a==""&&Zg(Jg(d,f.state),A);!q.eol();){if(q.pos>o.options.maxHighlightLength?(D=!1,C&&dc(o,a,f,q.pos),q.pos=a.length,ee=null):ee=Zg(Jt(d,q,f.state,ge),A),ge){var fe=ge[0].name;fe&&(ee="m-"+(ee?fe+" "+ee:fe))}if(!D||j!=ee){for(;L<q.start;)L=Math.min(q.start,L+5e3),p(L,j);j=ee}q.start=q.pos}for(;L<q.pos;){var Ie=Math.min(q.pos,L+5e3);p(Ie,j),L=Ie}}function za(o,a,d){for(var f,p,A=o.doc,C=d?-1:a-(o.doc.mode.innerMode?1e3:100),D=a;D>C;--D){if(D<=A.first)return A.first;var L=ct(A,D-1),j=L.stateAfter;if(j&&(!d||D+(j instanceof ja?j.lookAhead:0)<=A.modeFrontier))return D;var q=Se(L.text,null,o.options.tabSize);(p==null||f>q)&&(p=D-1,f=q)}return p}function hc(o,a){if(o.modeFrontier=Math.min(o.modeFrontier,a),!(o.highlightFrontier<a-10)){for(var d=o.first,f=a-1;f>d;f--){var p=ct(o,f).stateAfter;if(p&&(!(p instanceof ja)||f+p.lookAhead<a)){d=f+1;break}}o.highlightFrontier=Math.min(o.highlightFrontier,d)}}var Bo=!1,bo=!1;function Xg(){Bo=!0}function pr(){bo=!0}function xi(o,a,d){this.marker=o,this.from=a,this.to=d}function No(o,a){if(o)for(var d=0;d<o.length;++d){var f=o[d];if(f.marker==a)return f}}function Kl(o,a){for(var d,f=0;f<o.length;++f)o[f]!=a&&(d||(d=[])).push(o[f]);return d}function wd(o,a,d){var f=d&&window.WeakSet&&(d.markedSpans||(d.markedSpans=new WeakSet));f&&o.markedSpans&&f.has(o.markedSpans)?o.markedSpans.push(a):(o.markedSpans=o.markedSpans?o.markedSpans.concat([a]):[a],f&&f.add(o.markedSpans)),a.marker.attachLine(o)}function fs(o,a,d){var f;if(o)for(var p=0;p<o.length;++p){var A=o[p],C=A.marker,D=A.from==null||(C.inclusiveLeft?A.from<=a:A.from<a);if(D||A.from==a&&C.type=="bookmark"&&(!d||!A.marker.insertLeft)){var L=A.to==null||(C.inclusiveRight?A.to>=a:A.to>a);(f||(f=[])).push(new xi(C,A.from,L?null:A.to))}}return f}function Ox(o,a,d){var f;if(o)for(var p=0;p<o.length;++p){var A=o[p],C=A.marker,D=A.to==null||(C.inclusiveRight?A.to>=a:A.to>a);if(D||A.from==a&&C.type=="bookmark"&&(!d||A.marker.insertLeft)){var L=A.from==null||(C.inclusiveLeft?A.from<=a:A.from<a);(f||(f=[])).push(new xi(C,L?null:A.from-a,A.to==null?null:A.to-a))}}return f}function Hi(o,a){if(a.full)return null;var d=be(o,a.from.line)&&ct(o,a.from.line).markedSpans,f=be(o,a.to.line)&&ct(o,a.to.line).markedSpans;if(!d&&!f)return null;var p=a.from.ch,A=a.to.ch,C=Ze(a.from,a.to)==0,D=fs(d,p,C),L=Ox(f,A,C),j=a.text.length==1,q=Nt(a.text).length+(j?p:0);if(D)for(var ee=0;ee<D.length;++ee){var ge=D[ee];if(ge.to==null){var fe=No(L,ge.marker);fe?j&&(ge.to=fe.to==null?null:fe.to+q):ge.to=p}}if(L)for(var Ie=0;Ie<L.length;++Ie){var Pe=L[Ie];if(Pe.to!=null&&(Pe.to+=q),Pe.from==null){var We=No(D,Pe.marker);We||(Pe.from=q,j&&(D||(D=[])).push(Pe))}else Pe.from+=q,j&&(D||(D=[])).push(Pe)}D&&(D=pc(D)),L&&L!=D&&(L=pc(L));var Xe=[D];if(!j){var ot=a.text.length-2,et;if(ot>0&&D)for(var lt=0;lt<D.length;++lt)D[lt].to==null&&(et||(et=[])).push(new xi(D[lt].marker,null,null));for(var xt=0;xt<ot;++xt)Xe.push(et);Xe.push(L)}return Xe}function pc(o){for(var a=0;a<o.length;++a){var d=o[a];d.from!=null&&d.from==d.to&&d.marker.clearWhenEmpty!==!1&&o.splice(a--,1)}return o.length?o:null}function em(o,a,d){var f=null;if(o.iter(a.line,d.line+1,function(fe){if(fe.markedSpans)for(var Ie=0;Ie<fe.markedSpans.length;++Ie){var Pe=fe.markedSpans[Ie].marker;Pe.readOnly&&(!f||Fe(f,Pe)==-1)&&(f||(f=[])).push(Pe)}}),!f)return null;for(var p=[{from:a,to:d}],A=0;A<f.length;++A)for(var C=f[A],D=C.find(0),L=0;L<p.length;++L){var j=p[L];if(!(Ze(j.to,D.from)<0||Ze(j.from,D.to)>0)){var q=[L,1],ee=Ze(j.from,D.from),ge=Ze(j.to,D.to);(ee<0||!C.inclusiveLeft&&!ee)&&q.push({from:j.from,to:D.from}),(ge>0||!C.inclusiveRight&&!ge)&&q.push({from:D.to,to:j.to}),p.splice.apply(p,q),L+=q.length-3}}return p}function gc(o){var a=o.markedSpans;if(a){for(var d=0;d<a.length;++d)a[d].marker.detachLine(o);o.markedSpans=null}}function Ha(o,a){if(a){for(var d=0;d<a.length;++d)a[d].marker.attachLine(o);o.markedSpans=a}}function Ua(o){return o.inclusiveLeft?-1:0}function Ql(o){return o.inclusiveRight?1:0}function Sd(o,a){var d=o.lines.length-a.lines.length;if(d!=0)return d;var f=o.find(),p=a.find(),A=Ze(f.from,p.from)||Ua(o)-Ua(a);if(A)return-A;var C=Ze(f.to,p.to)||Ql(o)-Ql(a);return C||a.id-o.id}function Wa(o,a){var d=bo&&o.markedSpans,f;if(d)for(var p=void 0,A=0;A<d.length;++A)p=d[A],p.marker.collapsed&&(a?p.from:p.to)==null&&(!f||Sd(f,p.marker)<0)&&(f=p.marker);return f}function tm(o){return Wa(o,!0)}function mc(o){return Wa(o,!1)}function yc(o,a){var d=bo&&o.markedSpans,f;if(d)for(var p=0;p<d.length;++p){var A=d[p];A.marker.collapsed&&(A.from==null||A.from<a)&&(A.to==null||A.to>a)&&(!f||Sd(f,A.marker)<0)&&(f=A.marker)}return f}function $l(o,a,d,f,p){var A=ct(o,a),C=bo&&A.markedSpans;if(C)for(var D=0;D<C.length;++D){var L=C[D];if(L.marker.collapsed){var j=L.marker.find(0),q=Ze(j.from,d)||Ua(L.marker)-Ua(p),ee=Ze(j.to,f)||Ql(L.marker)-Ql(p);if(!(q>=0&&ee<=0||q<=0&&ee>=0)&&(q<=0&&(L.marker.inclusiveRight&&p.inclusiveLeft?Ze(j.to,d)>=0:Ze(j.to,d)>0)||q>=0&&(L.marker.inclusiveRight&&p.inclusiveLeft?Ze(j.from,f)<=0:Ze(j.from,f)<0)))return!0}}}function bi(o){for(var a;a=tm(o);)o=a.find(-1,!0).line;return o}function Lx(o){for(var a;a=mc(o);)o=a.find(1,!0).line;return o}function Px(o){for(var a,d;a=mc(o);)o=a.find(1,!0).line,(d||(d=[])).push(o);return d}function Cd(o,a){var d=ct(o,a),f=bi(d);return d==f?a:U(f)}function vc(o,a){if(a>o.lastLine())return a;var d=ct(o,a),f;if(!wo(o,d))return a;for(;f=mc(d);)d=f.find(1,!0).line;return U(d)+1}function wo(o,a){var d=bo&&a.markedSpans;if(d){for(var f=void 0,p=0;p<d.length;++p)if(f=d[p],!!f.marker.collapsed){if(f.from==null)return!0;if(!f.marker.widgetNode&&f.from==0&&f.marker.inclusiveLeft&&Ac(o,a,f))return!0}}}function Ac(o,a,d){if(d.to==null){var f=d.marker.find(1,!0);return Ac(o,f.line,No(f.line.markedSpans,d.marker))}if(d.marker.inclusiveRight&&d.to==a.text.length)return!0;for(var p=void 0,A=0;A<a.markedSpans.length;++A)if(p=a.markedSpans[A],p.marker.collapsed&&!p.marker.widgetNode&&p.from==d.to&&(p.to==null||p.to!=d.from)&&(p.marker.inclusiveLeft||d.marker.inclusiveRight)&&Ac(o,a,p))return!0}function Ui(o){o=bi(o);for(var a=0,d=o.parent,f=0;f<d.lines.length;++f){var p=d.lines[f];if(p==o)break;a+=p.height}for(var A=d.parent;A;d=A,A=d.parent)for(var C=0;C<A.children.length;++C){var D=A.children[C];if(D==d)break;a+=D.height}return a}function Qs(o){if(o.height==0)return 0;for(var a=o.text.length,d,f=o;d=tm(f);){var p=d.find(0,!0);f=p.from.line,a+=p.from.ch-p.to.ch}for(f=o;d=mc(f);){var A=d.find(0,!0);a-=f.text.length-A.from.ch,f=A.to.line,a+=f.text.length-A.to.ch}return a}function Ka(o){var a=o.display,d=o.doc;a.maxLine=ct(d,d.first),a.maxLineLength=Qs(a.maxLine),a.maxLineChanged=!0,d.iter(function(f){var p=Qs(f);p>a.maxLineLength&&(a.maxLineLength=p,a.maxLine=f)})}var $s=function(o,a,d){this.text=o,Ha(this,a),this.height=d?d(this):1};$s.prototype.lineNo=function(){return U(this)},vi($s);function Fx(o,a,d,f){o.text=a,o.stateAfter&&(o.stateAfter=null),o.styles&&(o.styles=null),o.order!=null&&(o.order=null),gc(o),Ha(o,d);var p=f?f(o):1;p!=o.height&&si(o,p)}function Qa(o){o.parent=null,gc(o)}var kd={},Id={};function xc(o,a){if(!o||/^\s*$/.test(o))return null;var d=a.addModeClass?Id:kd;return d[o]||(d[o]=o.replace(/\S+/g,"cm-$&"))}function bc(o,a){var d=Re("span",null,null,g?"padding-right: .1px":null),f={pre:Re("pre",[d],"CodeMirror-line"),content:d,col:0,pos:0,cm:o,trailingSpace:!1,splitSpaces:o.getOption("lineWrapping")};a.measure={};for(var p=0;p<=(a.rest?a.rest.length:0);p++){var A=p?a.rest[p-1]:a.line,C=void 0;f.pos=0,f.addToken=Gl,Cr(o.display.measure)&&(C=At(A,o.doc.direction))&&(f.addToken=nm(f.addToken,C)),f.map=[];var D=a!=o.display.externalMeasured&&U(A);rm(A,f,xd(o,A,D)),A.styleClasses&&(A.styleClasses.bgClass&&(f.bgClass=de(A.styleClasses.bgClass,f.bgClass||"")),A.styleClasses.textClass&&(f.textClass=de(A.styleClasses.textClass,f.textClass||""))),f.map.length==0&&f.map.push(0,0,f.content.appendChild(nn(o.display.measure))),p==0?(a.measure.map=f.map,a.measure.cache={}):((a.measure.maps||(a.measure.maps=[])).push(f.map),(a.measure.caches||(a.measure.caches=[])).push({}))}if(g){var L=f.content.lastChild;(/\bcm-tab\b/.test(L.className)||L.querySelector&&L.querySelector(".cm-tab"))&&(f.content.className="cm-tab-wrap-hack")}return An(o,"renderLine",o,a.line,f.pre),f.pre.className&&(f.textClass=de(f.pre.className,f.textClass||"")),f}function jr(o){var a=B("span","","cm-invalidchar");return a.title="\\u"+o.charCodeAt(0).toString(16),a.setAttribute("aria-label",a.title),a}function Gl(o,a,d,f,p,A,C){if(a){var D=o.splitSpaces?Vl(a,o.trailingSpace):a,L=o.cm.state.specialChars,j=!1,q;if(!L.test(a))o.col+=a.length,q=document.createTextNode(D),o.map.push(o.pos,o.pos+a.length,q),c&&h<9&&(j=!0),o.pos+=a.length;else{q=document.createDocumentFragment();for(var ee=0;;){L.lastIndex=ee;var ge=L.exec(a),fe=ge?ge.index-ee:a.length-ee;if(fe){var Ie=document.createTextNode(D.slice(ee,ee+fe));c&&h<9?q.appendChild(B("span",[Ie])):q.appendChild(Ie),o.map.push(o.pos,o.pos+fe,Ie),o.col+=fe,o.pos+=fe}if(!ge)break;ee+=fe+1;var Pe=void 0;if(ge[0]=="	"){var We=o.cm.options.tabSize,Xe=We-o.col%We;Pe=q.appendChild(B("span",oi(Xe),"cm-tab")),Pe.setAttribute("role","presentation"),Pe.setAttribute("cm-text","	"),o.col+=Xe}else ge[0]=="\r"||ge[0]==`
`?(Pe=q.appendChild(B("span",ge[0]=="\r"?"":"","cm-invalidchar")),Pe.setAttribute("cm-text",ge[0]),o.col+=1):(Pe=o.cm.options.specialCharPlaceholder(ge[0]),Pe.setAttribute("cm-text",ge[0]),c&&h<9?q.appendChild(B("span",[Pe])):q.appendChild(Pe),o.col+=1);o.map.push(o.pos,o.pos+1,Pe),o.pos++}}if(o.trailingSpace=D.charCodeAt(a.length-1)==32,d||f||p||j||A||C){var ot=d||"";f&&(ot+=f),p&&(ot+=p);var et=B("span",[q],ot,A);if(C)for(var lt in C)C.hasOwnProperty(lt)&&lt!="style"&&lt!="class"&&et.setAttribute(lt,C[lt]);return o.content.appendChild(et)}o.content.appendChild(q)}}function Vl(o,a){if(o.length>1&&!/  /.test(o))return o;for(var d=a,f="",p=0;p<o.length;p++){var A=o.charAt(p);A==" "&&d&&(p==o.length-1||o.charCodeAt(p+1)==32)&&(A=""),f+=A,d=A==" "}return f}function nm(o,a){return function(d,f,p,A,C,D,L){p=p?p+" cm-force-border":"cm-force-border";for(var j=d.pos,q=j+f.length;;){for(var ee=void 0,ge=0;ge<a.length&&(ee=a[ge],!(ee.to>j&&ee.from<=j));ge++);if(ee.to>=q)return o(d,f,p,A,C,D,L);o(d,f.slice(0,ee.to-j),p,A,null,D,L),A=null,f=f.slice(ee.to-j),j=ee.to}}}function Yl(o,a,d,f){var p=!f&&d.widgetNode;p&&o.map.push(o.pos,o.pos+a,p),!f&&o.cm.display.input.needsContentAttribute&&(p||(p=o.content.appendChild(document.createElement("span"))),p.setAttribute("cm-marker",d.id)),p&&(o.cm.display.input.setUneditable(p),o.content.appendChild(p)),o.pos+=a,o.trailingSpace=!1}function rm(o,a,d){var f=o.markedSpans,p=o.text,A=0;if(!f){for(var C=1;C<d.length;C+=2)a.addToken(a,p.slice(A,A=d[C]),xc(d[C+1],a.cm.options));return}for(var D=p.length,L=0,j=1,q="",ee,ge,fe=0,Ie,Pe,We,Xe,ot;;){if(fe==L){Ie=Pe=We=ge="",ot=null,Xe=null,fe=1/0;for(var et=[],lt=void 0,xt=0;xt<f.length;++xt){var mt=f[xt],jt=mt.marker;if(jt.type=="bookmark"&&mt.from==L&&jt.widgetNode)et.push(jt);else if(mt.from<=L&&(mt.to==null||mt.to>L||jt.collapsed&&mt.to==L&&mt.from==L)){if(mt.to!=null&&mt.to!=L&&fe>mt.to&&(fe=mt.to,Pe=""),jt.className&&(Ie+=" "+jt.className),jt.css&&(ge=(ge?ge+";":"")+jt.css),jt.startStyle&&mt.from==L&&(We+=" "+jt.startStyle),jt.endStyle&&mt.to==fe&&(lt||(lt=[])).push(jt.endStyle,mt.to),jt.title&&((ot||(ot={})).title=jt.title),jt.attributes)for(var wn in jt.attributes)(ot||(ot={}))[wn]=jt.attributes[wn];jt.collapsed&&(!Xe||Sd(Xe.marker,jt)<0)&&(Xe=mt)}else mt.from>L&&fe>mt.from&&(fe=mt.from)}if(lt)for(var Mr=0;Mr<lt.length;Mr+=2)lt[Mr+1]==fe&&(Pe+=" "+lt[Mr]);if(!Xe||Xe.from==L)for(var _n=0;_n<et.length;++_n)Yl(a,0,et[_n]);if(Xe&&(Xe.from||0)==L){if(Yl(a,(Xe.to==null?D+1:Xe.to)-L,Xe.marker,Xe.from==null),Xe.to==null)return;Xe.to==L&&(Xe=!1)}}if(L>=D)break;for(var Ki=Math.min(D,fe);;){if(q){var Ci=L+q.length;if(!Xe){var or=Ci>Ki?q.slice(0,Ki-L):q;a.addToken(a,or,ee?ee+Ie:Ie,We,L+or.length==fe?Pe:"",ge,ot)}if(Ci>=Ki){q=q.slice(Ki-L),L=Ki;break}L=Ci,We=""}q=p.slice(A,A=d[j++]),ee=xc(d[j++],a.cm.options)}}}function Ed(o,a,d){this.line=a,this.rest=Px(a),this.size=this.rest?U(Nt(this.rest))-d+1:1,this.node=this.text=null,this.hidden=wo(o,a)}function Gs(o,a,d){for(var f=[],p,A=a;A<d;A=p){var C=new Ed(o.doc,ct(o.doc,A),A);p=A+C.size,f.push(C)}return f}var ds=null;function Vs(o){ds?ds.ops.push(o):o.ownsGroup=ds={ops:[o],delayedCallbacks:[]}}function Dd(o){var a=o.delayedCallbacks,d=0;do{for(;d<a.length;d++)a[d].call(null);for(var f=0;f<o.ops.length;f++){var p=o.ops[f];if(p.cursorActivityHandlers)for(;p.cursorActivityCalled<p.cursorActivityHandlers.length;)p.cursorActivityHandlers[p.cursorActivityCalled++].call(null,p.cm)}}while(d<a.length)}function Md(o,a){var d=o.ownsGroup;if(d)try{Dd(d)}finally{ds=null,a(d)}}var hs=null;function Qn(o,a){var d=Je(o,a);if(d.length){var f=Array.prototype.slice.call(arguments,2),p;ds?p=ds.delayedCallbacks:hs?p=hs:(p=hs=[],setTimeout(im,0));for(var A=function(D){p.push(function(){return d[D].apply(null,f)})},C=0;C<d.length;++C)A(C)}}function im(){var o=hs;hs=null;for(var a=0;a<o.length;++a)o[a]()}function om(o,a,d,f){for(var p=0;p<a.changes.length;p++){var A=a.changes[p];A=="text"?Rd(o,a):A=="gutter"?am(o,a,d,f):A=="class"?Jl(o,a):A=="widget"&&lm(o,a,f)}a.changes=null}function Ys(o){return o.node==o.text&&(o.node=B("div",null,null,"position: relative"),o.text.parentNode&&o.text.parentNode.replaceChild(o.node,o.text),o.node.appendChild(o.text),c&&h<8&&(o.node.style.zIndex=2)),o.node}function wc(o,a){var d=a.bgClass?a.bgClass+" "+(a.line.bgClass||""):a.line.bgClass;if(d&&(d+=" CodeMirror-linebackground"),a.background)d?a.background.className=d:(a.background.parentNode.removeChild(a.background),a.background=null);else if(d){var f=Ys(a);a.background=f.insertBefore(B("div",null,d),f.firstChild),o.display.input.setUneditable(a.background)}}function sm(o,a){var d=o.display.externalMeasured;return d&&d.line==a.line?(o.display.externalMeasured=null,a.measure=d.measure,d.built):bc(o,a)}function Rd(o,a){var d=a.text.className,f=sm(o,a);a.text==a.node&&(a.node=f.pre),a.text.parentNode.replaceChild(f.pre,a.text),a.text=f.pre,f.bgClass!=a.bgClass||f.textClass!=a.textClass?(a.bgClass=f.bgClass,a.textClass=f.textClass,Jl(o,a)):d&&(a.text.className=d)}function Jl(o,a){wc(o,a),a.line.wrapClass?Ys(a).className=a.line.wrapClass:a.node!=a.text&&(a.node.className="");var d=a.textClass?a.textClass+" "+(a.line.textClass||""):a.line.textClass;a.text.className=d||""}function am(o,a,d,f){if(a.gutter&&(a.node.removeChild(a.gutter),a.gutter=null),a.gutterBackground&&(a.node.removeChild(a.gutterBackground),a.gutterBackground=null),a.line.gutterClass){var p=Ys(a);a.gutterBackground=B("div",null,"CodeMirror-gutter-background "+a.line.gutterClass,"left: "+(o.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px; width: "+f.gutterTotalWidth+"px"),o.display.input.setUneditable(a.gutterBackground),p.insertBefore(a.gutterBackground,a.text)}var A=a.line.gutterMarkers;if(o.options.lineNumbers||A){var C=Ys(a),D=a.gutter=B("div",null,"CodeMirror-gutter-wrapper","left: "+(o.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px");if(D.setAttribute("aria-hidden","true"),o.display.input.setUneditable(D),C.insertBefore(D,a.text),a.line.gutterClass&&(D.className+=" "+a.line.gutterClass),o.options.lineNumbers&&(!A||!A["CodeMirror-linenumbers"])&&(a.lineNumber=D.appendChild(B("div",ze(o.options,d),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+f.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+o.display.lineNumInnerWidth+"px"))),A)for(var L=0;L<o.display.gutterSpecs.length;++L){var j=o.display.gutterSpecs[L].className,q=A.hasOwnProperty(j)&&A[j];q&&D.appendChild(B("div",[q],"CodeMirror-gutter-elt","left: "+f.gutterLeft[j]+"px; width: "+f.gutterWidth[j]+"px"))}}}function lm(o,a,d){a.alignable&&(a.alignable=null);for(var f=Y("CodeMirror-linewidget"),p=a.node.firstChild,A=void 0;p;p=A)A=p.nextSibling,f.test(p.className)&&a.node.removeChild(p);Td(o,a,d)}function Bx(o,a,d,f){var p=sm(o,a);return a.text=a.node=p.pre,p.bgClass&&(a.bgClass=p.bgClass),p.textClass&&(a.textClass=p.textClass),Jl(o,a),am(o,a,d,f),Td(o,a,f),a.node}function Td(o,a,d){if(Od(o,a.line,a,d,!0),a.rest)for(var f=0;f<a.rest.length;f++)Od(o,a.rest[f],a,d,!1)}function Od(o,a,d,f,p){if(a.widgets)for(var A=Ys(d),C=0,D=a.widgets;C<D.length;++C){var L=D[C],j=B("div",[L.node],"CodeMirror-linewidget"+(L.className?" "+L.className:""));L.handleMouseEvents||j.setAttribute("cm-ignore-events","true"),Nx(L,j,d,f),o.display.input.setUneditable(j),p&&L.above?A.insertBefore(j,d.gutter||d.text):A.appendChild(j),Qn(L,"redraw")}}function Nx(o,a,d,f){if(o.noHScroll){(d.alignable||(d.alignable=[])).push(a);var p=f.wrapperWidth;a.style.left=f.fixedPos+"px",o.coverGutter||(p-=f.gutterTotalWidth,a.style.paddingLeft=f.gutterTotalWidth+"px"),a.style.width=p+"px"}o.coverGutter&&(a.style.zIndex=5,a.style.position="relative",o.noHScroll||(a.style.marginLeft=-f.gutterTotalWidth+"px"))}function $a(o){if(o.height!=null)return o.height;var a=o.doc.cm;if(!a)return 0;if(!me(document.body,o.node)){var d="position: relative;";o.coverGutter&&(d+="margin-left: -"+a.display.gutters.offsetWidth+"px;"),o.noHScroll&&(d+="width: "+a.display.wrapper.clientWidth+"px;"),V(a.display.measure,B("div",[o.node],null,d))}return o.height=o.node.parentNode.offsetHeight}function ao(o,a){for(var d=en(a);d!=o.wrapper;d=d.parentNode)if(!d||d.nodeType==1&&d.getAttribute("cm-ignore-events")=="true"||d.parentNode==o.sizer&&d!=o.mover)return!0}function ql(o){return o.lineSpace.offsetTop}function Sc(o){return o.mover.offsetHeight-o.lineSpace.offsetHeight}function um(o){if(o.cachedPaddingH)return o.cachedPaddingH;var a=V(o.measure,B("pre","x","CodeMirror-line-like")),d=window.getComputedStyle?window.getComputedStyle(a):a.currentStyle,f={left:parseInt(d.paddingLeft),right:parseInt(d.paddingRight)};return!isNaN(f.left)&&!isNaN(f.right)&&(o.cachedPaddingH=f),f}function So(o){return Ye-o.display.nativeBarWidth}function Js(o){return o.display.scroller.clientWidth-So(o)-o.display.barWidth}function Ga(o){return o.display.scroller.clientHeight-So(o)-o.display.barHeight}function _o(o,a,d){var f=o.options.lineWrapping,p=f&&Js(o);if(!a.measure.heights||f&&a.measure.width!=p){var A=a.measure.heights=[];if(f){a.measure.width=p;for(var C=a.text.firstChild.getClientRects(),D=0;D<C.length-1;D++){var L=C[D],j=C[D+1];Math.abs(L.bottom-j.bottom)>2&&A.push((L.bottom+j.top)/2-d.top)}}A.push(d.bottom-d.top)}}function Nn(o,a,d){if(o.line==a)return{map:o.measure.map,cache:o.measure.cache};if(o.rest){for(var f=0;f<o.rest.length;f++)if(o.rest[f]==a)return{map:o.measure.maps[f],cache:o.measure.caches[f]};for(var p=0;p<o.rest.length;p++)if(U(o.rest[p])>d)return{map:o.measure.maps[p],cache:o.measure.caches[p],before:!0}}}function Cc(o,a){a=bi(a);var d=U(a),f=o.display.externalMeasured=new Ed(o.doc,a,d);f.lineN=d;var p=f.built=bc(o,f);return f.text=p.pre,V(o.display.lineMeasure,p.pre),f}function wi(o,a,d,f){return lo(o,ps(o,a),d,f)}function Ld(o,a){if(a>=o.display.viewFrom&&a<o.display.viewTo)return o.display.view[at(o,a)];var d=o.display.externalMeasured;if(d&&a>=d.lineN&&a<d.lineN+d.size)return d}function ps(o,a){var d=U(a),f=Ld(o,d);f&&!f.text?f=null:f&&f.changes&&(om(o,f,d,nt(o)),o.curOp.forceUpdate=!0),f||(f=Cc(o,a));var p=Nn(f,a,d);return{line:a,view:f,rect:null,map:p.map,cache:p.cache,before:p.before,hasHeights:!1}}function lo(o,a,d,f,p){a.before&&(d=-1);var A=d+(f||""),C;return a.cache.hasOwnProperty(A)?C=a.cache[A]:(a.rect||(a.rect=a.view.text.getBoundingClientRect()),a.hasHeights||(_o(o,a.view,a.rect),a.hasHeights=!0),C=ms(o,a,d,f),C.bogus||(a.cache[A]=C)),{left:C.left,right:C.right,top:p?C.rtop:C.top,bottom:p?C.rbottom:C.bottom}}var gs={left:0,right:0,top:0,bottom:0};function kc(o,a,d){for(var f,p,A,C,D,L,j=0;j<o.length;j+=3)if(D=o[j],L=o[j+1],a<D?(p=0,A=1,C="left"):a<L?(p=a-D,A=p+1):(j==o.length-3||a==L&&o[j+3]>a)&&(A=L-D,p=A-1,a>=L&&(C="right")),p!=null){if(f=o[j+2],D==L&&d==(f.insertLeft?"left":"right")&&(C=d),d=="left"&&p==0)for(;j&&o[j-2]==o[j-3]&&o[j-1].insertLeft;)f=o[(j-=3)+2],C="left";if(d=="right"&&p==L-D)for(;j<o.length-3&&o[j+3]==o[j+4]&&!o[j+5].insertLeft;)f=o[(j+=3)+2],C="right";break}return{node:f,start:p,end:A,collapse:C,coverStart:D,coverEnd:L}}function Va(o,a){var d=gs;if(a=="left")for(var f=0;f<o.length&&(d=o[f]).left==d.right;f++);else for(var p=o.length-1;p>=0&&(d=o[p]).left==d.right;p--);return d}function ms(o,a,d,f){var p=kc(a.map,d,f),A=p.node,C=p.start,D=p.end,L=p.collapse,j;if(A.nodeType==3){for(var q=0;q<4;q++){for(;C&&gt(a.line.text.charAt(p.coverStart+C));)--C;for(;p.coverStart+D<p.coverEnd&&gt(a.line.text.charAt(p.coverStart+D));)++D;if(c&&h<9&&C==0&&D==p.coverEnd-p.coverStart?j=A.parentNode.getBoundingClientRect():j=Va(Te(A,C,D).getClientRects(),f),j.left||j.right||C==0)break;D=C,C=C-1,L="right"}c&&h<11&&(j=cm(o.display.measure,j))}else{C>0&&(L=f="right");var ee;o.options.lineWrapping&&(ee=A.getClientRects()).length>1?j=ee[f=="right"?ee.length-1:0]:j=A.getBoundingClientRect()}if(c&&h<9&&!C&&(!j||!j.left&&!j.right)){var ge=A.parentNode.getClientRects()[0];ge?j={left:ge.left,right:ge.left+Qe(o.display),top:ge.top,bottom:ge.bottom}:j=gs}for(var fe=j.top-a.rect.top,Ie=j.bottom-a.rect.top,Pe=(fe+Ie)/2,We=a.view.measure.heights,Xe=0;Xe<We.length-1&&!(Pe<We[Xe]);Xe++);var ot=Xe?We[Xe-1]:0,et=We[Xe],lt={left:(L=="right"?j.right:j.left)-a.rect.left,right:(L=="left"?j.left:j.right)-a.rect.left,top:ot,bottom:et};return!j.left&&!j.right&&(lt.bogus=!0),o.options.singleCursorHeightPerLine||(lt.rtop=fe,lt.rbottom=Ie),lt}function cm(o,a){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!ls(o))return a;var d=screen.logicalXDPI/screen.deviceXDPI,f=screen.logicalYDPI/screen.deviceYDPI;return{left:a.left*d,right:a.right*d,top:a.top*f,bottom:a.bottom*f}}function y(o){if(o.measure&&(o.measure.cache={},o.measure.heights=null,o.rest))for(var a=0;a<o.rest.length;a++)o.measure.caches[a]={}}function b(o){o.display.externalMeasure=null,J(o.display.lineMeasure);for(var a=0;a<o.display.view.length;a++)y(o.display.view[a])}function I(o){b(o),o.display.cachedCharWidth=o.display.cachedTextHeight=o.display.cachedPaddingH=null,o.options.lineWrapping||(o.display.maxLineChanged=!0),o.display.lineNumChars=null}function O(o){return v&&M?-(o.body.getBoundingClientRect().left-parseInt(getComputedStyle(o.body).marginLeft)):o.defaultView.pageXOffset||(o.documentElement||o.body).scrollLeft}function _(o){return v&&M?-(o.body.getBoundingClientRect().top-parseInt(getComputedStyle(o.body).marginTop)):o.defaultView.pageYOffset||(o.documentElement||o.body).scrollTop}function K(o){var a=bi(o),d=a.widgets,f=0;if(d)for(var p=0;p<d.length;++p)d[p].above&&(f+=$a(d[p]));return f}function Z(o,a,d,f,p){if(!p){var A=K(a);d.top+=A,d.bottom+=A}if(f=="line")return d;f||(f="local");var C=Ui(a);if(f=="local"?C+=ql(o.display):C-=o.display.viewOffset,f=="page"||f=="window"){var D=o.display.lineSpace.getBoundingClientRect();C+=D.top+(f=="window"?0:_(G(o)));var L=D.left+(f=="window"?0:O(G(o)));d.left+=L,d.right+=L}return d.top+=C,d.bottom+=C,d}function te(o,a,d){if(d=="div")return a;var f=a.left,p=a.top;if(d=="page")f-=O(G(o)),p-=_(G(o));else if(d=="local"||!d){var A=o.display.sizer.getBoundingClientRect();f+=A.left,p+=A.top}var C=o.display.lineSpace.getBoundingClientRect();return{left:f-C.left,top:p-C.top}}function le(o,a,d,f,p){return f||(f=ct(o.doc,a.line)),Z(o,f,wi(o,f,a.ch,p),d)}function ue(o,a,d,f,p,A){f=f||ct(o.doc,a.line),p||(p=ps(o,f));function C(Ie,Pe){var We=lo(o,p,Ie,Pe?"right":"left",A);return Pe?We.left=We.right:We.right=We.left,Z(o,f,We,d)}var D=At(f,o.doc.direction),L=a.ch,j=a.sticky;if(L>=f.text.length?(L=f.text.length,j="before"):L<=0&&(L=0,j="after"),!D)return C(j=="before"?L-1:L,j=="before");function q(Ie,Pe,We){var Xe=D[Pe],ot=Xe.level==1;return C(We?Ie-1:Ie,ot!=We)}var ee=Ln(D,L,j),ge=Sr,fe=q(L,ee,j=="before");return ge!=null&&(fe.other=q(L,ge,j!="before")),fe}function ye(o,a){var d=0;a=It(o.doc,a),o.options.lineWrapping||(d=Qe(o.display)*a.ch);var f=ct(o.doc,a.line),p=Ui(f)+ql(o.display);return{left:d,right:d,top:p,bottom:p+f.height}}function ne(o,a,d,f,p){var A=Ce(o,a,d);return A.xRel=p,f&&(A.outside=f),A}function Ae(o,a,d){var f=o.doc;if(d+=o.display.viewOffset,d<0)return ne(f.first,0,null,-1,-1);var p=X(f,d),A=f.first+f.size-1;if(p>A)return ne(f.first+f.size-1,ct(f,A).text.length,null,1,1);a<0&&(a=0);for(var C=ct(f,p);;){var D=xe(o,C,p,a,d),L=yc(C,D.ch+(D.xRel>0||D.outside>0?1:0));if(!L)return D;var j=L.find(1);if(j.line==p)return j;C=ct(f,p=j.line)}}function ce(o,a,d,f){f-=K(a);var p=a.text.length,A=vn(function(C){return lo(o,d,C-1).bottom<=f},p,0);return p=vn(function(C){return lo(o,d,C).top>f},A,p),{begin:A,end:p}}function pe(o,a,d,f){d||(d=ps(o,a));var p=Z(o,a,lo(o,d,f),"line").top;return ce(o,a,d,p)}function he(o,a,d,f){return o.bottom<=d?!1:o.top>d?!0:(f?o.left:o.right)>a}function xe(o,a,d,f,p){p-=Ui(a);var A=ps(o,a),C=K(a),D=0,L=a.text.length,j=!0,q=At(a,o.doc.direction);if(q){var ee=(o.options.lineWrapping?ke:we)(o,a,d,A,q,f,p);j=ee.level!=1,D=j?ee.from:ee.to-1,L=j?ee.to:ee.from-1}var ge=null,fe=null,Ie=vn(function(xt){var mt=lo(o,A,xt);return mt.top+=C,mt.bottom+=C,he(mt,f,p,!1)?(mt.top<=p&&mt.left<=f&&(ge=xt,fe=mt),!0):!1},D,L),Pe,We,Xe=!1;if(fe){var ot=f-fe.left<fe.right-f,et=ot==j;Ie=ge+(et?0:1),We=et?"after":"before",Pe=ot?fe.left:fe.right}else{!j&&(Ie==L||Ie==D)&&Ie++,We=Ie==0?"after":Ie==a.text.length?"before":lo(o,A,Ie-(j?1:0)).bottom+C<=p==j?"after":"before";var lt=ue(o,Ce(d,Ie,We),"line",a,A);Pe=lt.left,Xe=p<lt.top?-1:p>=lt.bottom?1:0}return Ie=Cn(a.text,Ie,1),ne(d,Ie,We,Xe,f-Pe)}function we(o,a,d,f,p,A,C){var D=vn(function(ee){var ge=p[ee],fe=ge.level!=1;return he(ue(o,Ce(d,fe?ge.to:ge.from,fe?"before":"after"),"line",a,f),A,C,!0)},0,p.length-1),L=p[D];if(D>0){var j=L.level!=1,q=ue(o,Ce(d,j?L.from:L.to,j?"after":"before"),"line",a,f);he(q,A,C,!0)&&q.top>C&&(L=p[D-1])}return L}function ke(o,a,d,f,p,A,C){var D=ce(o,a,f,C),L=D.begin,j=D.end;/\s/.test(a.text.charAt(j-1))&&j--;for(var q=null,ee=null,ge=0;ge<p.length;ge++){var fe=p[ge];if(!(fe.from>=j||fe.to<=L)){var Ie=fe.level!=1,Pe=lo(o,f,Ie?Math.min(j,fe.to)-1:Math.max(L,fe.from)).right,We=Pe<A?A-Pe+1e9:Pe-A;(!q||ee>We)&&(q=fe,ee=We)}}return q||(q=p[p.length-1]),q.from<L&&(q={from:L,to:q.to,level:q.level}),q.to>j&&(q={from:q.from,to:j,level:q.level}),q}var De;function Le(o){if(o.cachedTextHeight!=null)return o.cachedTextHeight;if(De==null){De=B("pre",null,"CodeMirror-line-like");for(var a=0;a<49;++a)De.appendChild(document.createTextNode("x")),De.appendChild(B("br"));De.appendChild(document.createTextNode("x"))}V(o.measure,De);var d=De.offsetHeight/50;return d>3&&(o.cachedTextHeight=d),J(o.measure),d||1}function Qe(o){if(o.cachedCharWidth!=null)return o.cachedCharWidth;var a=B("span","xxxxxxxxxx"),d=B("pre",[a],"CodeMirror-line-like");V(o.measure,d);var f=a.getBoundingClientRect(),p=(f.right-f.left)/10;return p>2&&(o.cachedCharWidth=p),p||10}function nt(o){for(var a=o.display,d={},f={},p=a.gutters.clientLeft,A=a.gutters.firstChild,C=0;A;A=A.nextSibling,++C){var D=o.display.gutterSpecs[C].className;d[D]=A.offsetLeft+A.clientLeft+p,f[D]=A.clientWidth}return{fixedPos:Ke(a),gutterTotalWidth:a.gutters.offsetWidth,gutterLeft:d,gutterWidth:f,wrapperWidth:a.wrapper.clientWidth}}function Ke(o){return o.scroller.getBoundingClientRect().left-o.sizer.getBoundingClientRect().left}function qe(o){var a=Le(o.display),d=o.options.lineWrapping,f=d&&Math.max(5,o.display.scroller.clientWidth/Qe(o.display)-3);return function(p){if(wo(o.doc,p))return 0;var A=0;if(p.widgets)for(var C=0;C<p.widgets.length;C++)p.widgets[C].height&&(A+=p.widgets[C].height);return d?A+(Math.ceil(p.text.length/f)||1)*a:A+a}}function rt(o){var a=o.doc,d=qe(o);a.iter(function(f){var p=d(f);p!=f.height&&si(f,p)})}function Ve(o,a,d,f){var p=o.display;if(!d&&en(a).getAttribute("cm-not-content")=="true")return null;var A,C,D=p.lineSpace.getBoundingClientRect();try{A=a.clientX-D.left,C=a.clientY-D.top}catch{return null}var L=Ae(o,A,C),j;if(f&&L.xRel>0&&(j=ct(o.doc,L.line).text).length==L.ch){var q=Se(j,j.length,o.options.tabSize)-j.length;L=Ce(L.line,Math.max(0,Math.round((A-um(o.display).left)/Qe(o.display))-q))}return L}function at(o,a){if(a>=o.display.viewTo||(a-=o.display.viewFrom,a<0))return null;for(var d=o.display.view,f=0;f<d.length;f++)if(a-=d[f].size,a<0)return f}function vt(o,a,d,f){a==null&&(a=o.doc.first),d==null&&(d=o.doc.first+o.doc.size),f||(f=0);var p=o.display;if(f&&d<p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>a)&&(p.updateLineNumbers=a),o.curOp.viewChanged=!0,a>=p.viewTo)bo&&Cd(o.doc,a)<p.viewTo&&Ft(o);else if(d<=p.viewFrom)bo&&vc(o.doc,d+f)>p.viewFrom?Ft(o):(p.viewFrom+=f,p.viewTo+=f);else if(a<=p.viewFrom&&d>=p.viewTo)Ft(o);else if(a<=p.viewFrom){var A=zr(o,d,d+f,1);A?(p.view=p.view.slice(A.index),p.viewFrom=A.lineN,p.viewTo+=f):Ft(o)}else if(d>=p.viewTo){var C=zr(o,a,a,-1);C?(p.view=p.view.slice(0,C.index),p.viewTo=C.lineN):Ft(o)}else{var D=zr(o,a,a,-1),L=zr(o,d,d+f,1);D&&L?(p.view=p.view.slice(0,D.index).concat(Gs(o,D.lineN,L.lineN)).concat(p.view.slice(L.index)),p.viewTo+=f):Ft(o)}var j=p.externalMeasured;j&&(d<j.lineN?j.lineN+=f:a<j.lineN+j.size&&(p.externalMeasured=null))}function Ot(o,a,d){o.curOp.viewChanged=!0;var f=o.display,p=o.display.externalMeasured;if(p&&a>=p.lineN&&a<p.lineN+p.size&&(f.externalMeasured=null),!(a<f.viewFrom||a>=f.viewTo)){var A=f.view[at(o,a)];if(A.node!=null){var C=A.changes||(A.changes=[]);Fe(C,d)==-1&&C.push(d)}}}function Ft(o){o.display.viewFrom=o.display.viewTo=o.doc.first,o.display.view=[],o.display.viewOffset=0}function zr(o,a,d,f){var p=at(o,a),A,C=o.display.view;if(!bo||d==o.doc.first+o.doc.size)return{index:p,lineN:d};for(var D=o.display.viewFrom,L=0;L<p;L++)D+=C[L].size;if(D!=a){if(f>0){if(p==C.length-1)return null;A=D+C[p].size-a,p++}else A=D-a;a+=A,d+=A}for(;Cd(o.doc,d)!=d;){if(p==(f<0?0:C.length-1))return null;d+=f*C[p-(f<0?1:0)].size,p+=f}return{index:p,lineN:d}}function Bt(o,a,d){var f=o.display,p=f.view;p.length==0||a>=f.viewTo||d<=f.viewFrom?(f.view=Gs(o,a,d),f.viewFrom=a):(f.viewFrom>a?f.view=Gs(o,a,f.viewFrom).concat(f.view):f.viewFrom<a&&(f.view=f.view.slice(at(o,a))),f.viewFrom=a,f.viewTo<d?f.view=f.view.concat(Gs(o,f.viewTo,d)):f.viewTo>d&&(f.view=f.view.slice(0,at(o,d)))),f.viewTo=d}function kr(o){for(var a=o.display.view,d=0,f=0;f<a.length;f++){var p=a[f];!p.hidden&&(!p.node||p.changes)&&++d}return d}function Xn(o){o.display.input.showSelection(o.display.input.prepareSelection())}function Zl(o,a){a===void 0&&(a=!0);var d=o.doc,f={},p=f.cursors=document.createDocumentFragment(),A=f.selection=document.createDocumentFragment(),C=o.options.$customCursor;C&&(a=!0);for(var D=0;D<d.sel.ranges.length;D++)if(!(!a&&D==d.sel.primIndex)){var L=d.sel.ranges[D];if(!(L.from().line>=o.display.viewTo||L.to().line<o.display.viewFrom)){var j=L.empty();if(C){var q=C(o,L);q&&Ir(o,q,p)}else(j||o.options.showCursorWhenSelecting)&&Ir(o,L.head,p);j||Pd(o,L,A)}}return f}function Ir(o,a,d){var f=ue(o,a,"div",null,null,!o.options.singleCursorHeightPerLine),p=d.appendChild(B("div","","CodeMirror-cursor"));if(p.style.left=f.left+"px",p.style.top=f.top+"px",p.style.height=Math.max(0,f.bottom-f.top)*o.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(o.getWrapperElement().className)){var A=le(o,a,"div",null,null),C=A.right-A.left;p.style.width=(C>0?C:o.defaultCharWidth())+"px"}if(f.other){var D=d.appendChild(B("div","","CodeMirror-cursor CodeMirror-secondarycursor"));D.style.display="",D.style.left=f.other.left+"px",D.style.top=f.other.top+"px",D.style.height=(f.other.bottom-f.other.top)*.85+"px"}}function Co(o,a){return o.top-a.top||o.left-a.left}function Pd(o,a,d){var f=o.display,p=o.doc,A=document.createDocumentFragment(),C=um(o.display),D=C.left,L=Math.max(f.sizerWidth,Js(o)-f.sizer.offsetLeft)-C.right,j=p.direction=="ltr";function q(et,lt,xt,mt){lt<0&&(lt=0),lt=Math.round(lt),mt=Math.round(mt),A.appendChild(B("div",null,"CodeMirror-selected","position: absolute; left: "+et+`px;
                             top: `+lt+"px; width: "+(xt??L-et)+`px;
                             height: `+(mt-lt)+"px"))}function ee(et,lt,xt){var mt=ct(p,et),jt=mt.text.length,wn,Mr;function _n(or,ki){return le(o,Ce(et,or),"div",mt,ki)}function Ki(or,ki,Hr){var gr=pe(o,mt,null,or),sr=ki=="ltr"==(Hr=="after")?"left":"right",$n=Hr=="after"?gr.begin:gr.end-(/\s/.test(mt.text.charAt(gr.end-1))?2:1);return _n($n,sr)[sr]}var Ci=At(mt,p.direction);return On(Ci,lt||0,xt??jt,function(or,ki,Hr,gr){var sr=Hr=="ltr",$n=_n(or,sr?"left":"right"),Ii=_n(ki-1,sr?"right":"left"),_c=lt==null&&or==0,el=xt==null&&ki==jt,Yr=gr==0,ys=!Ci||gr==Ci.length-1;if(Ii.top-$n.top<=3){var Rr=(j?_c:el)&&Yr,cb=(j?el:_c)&&ys,Xs=Rr?D:(sr?$n:Ii).left,ru=cb?L:(sr?Ii:$n).right;q(Xs,$n.top,ru-Xs,$n.bottom)}else{var iu,ui,jc,fb;sr?(iu=j&&_c&&Yr?D:$n.left,ui=j?L:Ki(or,Hr,"before"),jc=j?D:Ki(ki,Hr,"after"),fb=j&&el&&ys?L:Ii.right):(iu=j?Ki(or,Hr,"before"):D,ui=!j&&_c&&Yr?L:$n.right,jc=!j&&el&&ys?D:Ii.left,fb=j?Ki(ki,Hr,"after"):L),q(iu,$n.top,ui-iu,$n.bottom),$n.bottom<Ii.top&&q(D,$n.bottom,null,Ii.top),q(jc,Ii.top,fb-jc,Ii.bottom)}(!wn||Co($n,wn)<0)&&(wn=$n),Co(Ii,wn)<0&&(wn=Ii),(!Mr||Co($n,Mr)<0)&&(Mr=$n),Co(Ii,Mr)<0&&(Mr=Ii)}),{start:wn,end:Mr}}var ge=a.from(),fe=a.to();if(ge.line==fe.line)ee(ge.line,ge.ch,fe.ch);else{var Ie=ct(p,ge.line),Pe=ct(p,fe.line),We=bi(Ie)==bi(Pe),Xe=ee(ge.line,ge.ch,We?Ie.text.length+1:null).end,ot=ee(fe.line,We?0:null,fe.ch).start;We&&(Xe.top<ot.top-2?(q(Xe.right,Xe.top,null,Xe.bottom),q(D,ot.top,ot.left,ot.bottom)):q(Xe.right,Xe.top,ot.left-Xe.right,Xe.bottom)),Xe.bottom<ot.top&&q(D,Xe.bottom,null,ot.top)}d.appendChild(A)}function _x(o){if(o.state.focused){var a=o.display;clearInterval(a.blinker);var d=!0;a.cursorDiv.style.visibility="",o.options.cursorBlinkRate>0?a.blinker=setInterval(function(){o.hasFocus()||Ic(o),a.cursorDiv.style.visibility=(d=!d)?"":"hidden"},o.options.cursorBlinkRate):o.options.cursorBlinkRate<0&&(a.cursorDiv.style.visibility="hidden")}}function WM(o){o.hasFocus()||(o.display.input.focus(),o.state.focused||zx(o))}function jx(o){o.state.delayingBlurEvent=!0,setTimeout(function(){o.state.delayingBlurEvent&&(o.state.delayingBlurEvent=!1,o.state.focused&&Ic(o))},100)}function zx(o,a){o.state.delayingBlurEvent&&!o.state.draggingText&&(o.state.delayingBlurEvent=!1),o.options.readOnly!="nocursor"&&(o.state.focused||(An(o,"focus",o,a),o.state.focused=!0,N(o.display.wrapper,"CodeMirror-focused"),!o.curOp&&o.display.selForContextMenu!=o.doc.sel&&(o.display.input.reset(),g&&setTimeout(function(){return o.display.input.reset(!0)},20)),o.display.input.receivedFocus()),_x(o))}function Ic(o,a){o.state.delayingBlurEvent||(o.state.focused&&(An(o,"blur",o,a),o.state.focused=!1,re(o.display.wrapper,"CodeMirror-focused")),clearInterval(o.display.blinker),setTimeout(function(){o.state.focused||(o.display.shift=!1)},150))}function fm(o){for(var a=o.display,d=a.lineDiv.offsetTop,f=Math.max(0,a.scroller.getBoundingClientRect().top),p=a.lineDiv.getBoundingClientRect().top,A=0,C=0;C<a.view.length;C++){var D=a.view[C],L=o.options.lineWrapping,j=void 0,q=0;if(!D.hidden){if(p+=D.line.height,c&&h<8){var ee=D.node.offsetTop+D.node.offsetHeight;j=ee-d,d=ee}else{var ge=D.node.getBoundingClientRect();j=ge.bottom-ge.top,!L&&D.text.firstChild&&(q=D.text.firstChild.getBoundingClientRect().right-ge.left-1)}var fe=D.line.height-j;if((fe>.005||fe<-.005)&&(p<f&&(A-=fe),si(D.line,j),KM(D.line),D.rest))for(var Ie=0;Ie<D.rest.length;Ie++)KM(D.rest[Ie]);if(q>o.display.sizerWidth){var Pe=Math.ceil(q/Qe(o.display));Pe>o.display.maxLineLength&&(o.display.maxLineLength=Pe,o.display.maxLine=D.line,o.display.maxLineChanged=!0)}}}Math.abs(A)>2&&(a.scroller.scrollTop+=A)}function KM(o){if(o.widgets)for(var a=0;a<o.widgets.length;++a){var d=o.widgets[a],f=d.node.parentNode;f&&(d.height=f.offsetHeight)}}function dm(o,a,d){var f=d&&d.top!=null?Math.max(0,d.top):o.scroller.scrollTop;f=Math.floor(f-ql(o));var p=d&&d.bottom!=null?d.bottom:f+o.wrapper.clientHeight,A=X(a,f),C=X(a,p);if(d&&d.ensure){var D=d.ensure.from.line,L=d.ensure.to.line;D<A?(A=D,C=X(a,Ui(ct(a,D))+o.wrapper.clientHeight)):Math.min(L,a.lastLine())>=C&&(A=X(a,Ui(ct(a,L))-o.wrapper.clientHeight),C=L)}return{from:A,to:Math.max(C,A+1)}}function a$(o,a){if(!pn(o,"scrollCursorIntoView")){var d=o.display,f=d.sizer.getBoundingClientRect(),p=null,A=d.wrapper.ownerDocument;if(a.top+f.top<0?p=!0:a.bottom+f.top>(A.defaultView.innerHeight||A.documentElement.clientHeight)&&(p=!1),p!=null&&!S){var C=B("div","",null,`position: absolute;
                         top: `+(a.top-d.viewOffset-ql(o.display))+`px;
                         height: `+(a.bottom-a.top+So(o)+d.barHeight)+`px;
                         left: `+a.left+"px; width: "+Math.max(2,a.right-a.left)+"px;");o.display.lineSpace.appendChild(C),C.scrollIntoView(p),o.display.lineSpace.removeChild(C)}}}function l$(o,a,d,f){f==null&&(f=0);var p;!o.options.lineWrapping&&a==d&&(d=a.sticky=="before"?Ce(a.line,a.ch+1,"before"):a,a=a.ch?Ce(a.line,a.sticky=="before"?a.ch-1:a.ch,"after"):a);for(var A=0;A<5;A++){var C=!1,D=ue(o,a),L=!d||d==a?D:ue(o,d);p={left:Math.min(D.left,L.left),top:Math.min(D.top,L.top)-f,right:Math.max(D.left,L.left),bottom:Math.max(D.bottom,L.bottom)+f};var j=Hx(o,p),q=o.doc.scrollTop,ee=o.doc.scrollLeft;if(j.scrollTop!=null&&(Bd(o,j.scrollTop),Math.abs(o.doc.scrollTop-q)>1&&(C=!0)),j.scrollLeft!=null&&(Xl(o,j.scrollLeft),Math.abs(o.doc.scrollLeft-ee)>1&&(C=!0)),!C)break}return p}function u$(o,a){var d=Hx(o,a);d.scrollTop!=null&&Bd(o,d.scrollTop),d.scrollLeft!=null&&Xl(o,d.scrollLeft)}function Hx(o,a){var d=o.display,f=Le(o.display);a.top<0&&(a.top=0);var p=o.curOp&&o.curOp.scrollTop!=null?o.curOp.scrollTop:d.scroller.scrollTop,A=Ga(o),C={};a.bottom-a.top>A&&(a.bottom=a.top+A);var D=o.doc.height+Sc(d),L=a.top<f,j=a.bottom>D-f;if(a.top<p)C.scrollTop=L?0:a.top;else if(a.bottom>p+A){var q=Math.min(a.top,(j?D:a.bottom)-A);q!=p&&(C.scrollTop=q)}var ee=o.options.fixedGutter?0:d.gutters.offsetWidth,ge=o.curOp&&o.curOp.scrollLeft!=null?o.curOp.scrollLeft:d.scroller.scrollLeft-ee,fe=Js(o)-d.gutters.offsetWidth,Ie=a.right-a.left>fe;return Ie&&(a.right=a.left+fe),a.left<10?C.scrollLeft=0:a.left<ge?C.scrollLeft=Math.max(0,a.left+ee-(Ie?0:10)):a.right>fe+ge-3&&(C.scrollLeft=a.right+(Ie?0:10)-fe),C}function Ux(o,a){a!=null&&(hm(o),o.curOp.scrollTop=(o.curOp.scrollTop==null?o.doc.scrollTop:o.curOp.scrollTop)+a)}function Ec(o){hm(o);var a=o.getCursor();o.curOp.scrollToPos={from:a,to:a,margin:o.options.cursorScrollMargin}}function Fd(o,a,d){(a!=null||d!=null)&&hm(o),a!=null&&(o.curOp.scrollLeft=a),d!=null&&(o.curOp.scrollTop=d)}function c$(o,a){hm(o),o.curOp.scrollToPos=a}function hm(o){var a=o.curOp.scrollToPos;if(a){o.curOp.scrollToPos=null;var d=ye(o,a.from),f=ye(o,a.to);QM(o,d,f,a.margin)}}function QM(o,a,d,f){var p=Hx(o,{left:Math.min(a.left,d.left),top:Math.min(a.top,d.top)-f,right:Math.max(a.right,d.right),bottom:Math.max(a.bottom,d.bottom)+f});Fd(o,p.scrollLeft,p.scrollTop)}function Bd(o,a){Math.abs(o.doc.scrollTop-a)<2||(i||Kx(o,{top:a}),$M(o,a,!0),i&&Kx(o),jd(o,100))}function $M(o,a,d){a=Math.max(0,Math.min(o.display.scroller.scrollHeight-o.display.scroller.clientHeight,a)),!(o.display.scroller.scrollTop==a&&!d)&&(o.doc.scrollTop=a,o.display.scrollbars.setScrollTop(a),o.display.scroller.scrollTop!=a&&(o.display.scroller.scrollTop=a))}function Xl(o,a,d,f){a=Math.max(0,Math.min(a,o.display.scroller.scrollWidth-o.display.scroller.clientWidth)),!((d?a==o.doc.scrollLeft:Math.abs(o.doc.scrollLeft-a)<2)&&!f)&&(o.doc.scrollLeft=a,qM(o),o.display.scroller.scrollLeft!=a&&(o.display.scroller.scrollLeft=a),o.display.scrollbars.setScrollLeft(a))}function Nd(o){var a=o.display,d=a.gutters.offsetWidth,f=Math.round(o.doc.height+Sc(o.display));return{clientHeight:a.scroller.clientHeight,viewHeight:a.wrapper.clientHeight,scrollWidth:a.scroller.scrollWidth,clientWidth:a.scroller.clientWidth,viewWidth:a.wrapper.clientWidth,barLeft:o.options.fixedGutter?d:0,docHeight:f,scrollHeight:f+So(o)+a.barHeight,nativeBarWidth:a.nativeBarWidth,gutterWidth:d}}var eu=function(o,a,d){this.cm=d;var f=this.vert=B("div",[B("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),p=this.horiz=B("div",[B("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");f.tabIndex=p.tabIndex=-1,o(f),o(p),ht(f,"scroll",function(){f.clientHeight&&a(f.scrollTop,"vertical")}),ht(p,"scroll",function(){p.clientWidth&&a(p.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,c&&h<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};eu.prototype.update=function(o){var a=o.scrollWidth>o.clientWidth+1,d=o.scrollHeight>o.clientHeight+1,f=o.nativeBarWidth;if(d){this.vert.style.display="block",this.vert.style.bottom=a?f+"px":"0";var p=o.viewHeight-(a?f:0);this.vert.firstChild.style.height=Math.max(0,o.scrollHeight-o.clientHeight+p)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(a){this.horiz.style.display="block",this.horiz.style.right=d?f+"px":"0",this.horiz.style.left=o.barLeft+"px";var A=o.viewWidth-o.barLeft-(d?f:0);this.horiz.firstChild.style.width=Math.max(0,o.scrollWidth-o.clientWidth+A)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&o.clientHeight>0&&(f==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:d?f:0,bottom:a?f:0}},eu.prototype.setScrollLeft=function(o){this.horiz.scrollLeft!=o&&(this.horiz.scrollLeft=o),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},eu.prototype.setScrollTop=function(o){this.vert.scrollTop!=o&&(this.vert.scrollTop=o),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},eu.prototype.zeroWidthHack=function(){var o=W&&!R?"12px":"18px";this.horiz.style.height=this.vert.style.width=o,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Ee,this.disableVert=new Ee},eu.prototype.enableZeroWidthBar=function(o,a,d){o.style.visibility="";function f(){var p=o.getBoundingClientRect(),A=d=="vert"?document.elementFromPoint(p.right-1,(p.top+p.bottom)/2):document.elementFromPoint((p.right+p.left)/2,p.bottom-1);A!=o?o.style.visibility="hidden":a.set(1e3,f)}a.set(1e3,f)},eu.prototype.clear=function(){var o=this.horiz.parentNode;o.removeChild(this.horiz),o.removeChild(this.vert)};var _d=function(){};_d.prototype.update=function(){return{bottom:0,right:0}},_d.prototype.setScrollLeft=function(){},_d.prototype.setScrollTop=function(){},_d.prototype.clear=function(){};function Dc(o,a){a||(a=Nd(o));var d=o.display.barWidth,f=o.display.barHeight;GM(o,a);for(var p=0;p<4&&d!=o.display.barWidth||f!=o.display.barHeight;p++)d!=o.display.barWidth&&o.options.lineWrapping&&fm(o),GM(o,Nd(o)),d=o.display.barWidth,f=o.display.barHeight}function GM(o,a){var d=o.display,f=d.scrollbars.update(a);d.sizer.style.paddingRight=(d.barWidth=f.right)+"px",d.sizer.style.paddingBottom=(d.barHeight=f.bottom)+"px",d.heightForcer.style.borderBottom=f.bottom+"px solid transparent",f.right&&f.bottom?(d.scrollbarFiller.style.display="block",d.scrollbarFiller.style.height=f.bottom+"px",d.scrollbarFiller.style.width=f.right+"px"):d.scrollbarFiller.style.display="",f.bottom&&o.options.coverGutterNextToScrollbar&&o.options.fixedGutter?(d.gutterFiller.style.display="block",d.gutterFiller.style.height=f.bottom+"px",d.gutterFiller.style.width=a.gutterWidth+"px"):d.gutterFiller.style.display=""}var VM={native:eu,null:_d};function YM(o){o.display.scrollbars&&(o.display.scrollbars.clear(),o.display.scrollbars.addClass&&re(o.display.wrapper,o.display.scrollbars.addClass)),o.display.scrollbars=new VM[o.options.scrollbarStyle](function(a){o.display.wrapper.insertBefore(a,o.display.scrollbarFiller),ht(a,"mousedown",function(){o.state.focused&&setTimeout(function(){return o.display.input.focus()},0)}),a.setAttribute("cm-not-content","true")},function(a,d){d=="horizontal"?Xl(o,a):Bd(o,a)},o),o.display.scrollbars.addClass&&N(o.display.wrapper,o.display.scrollbars.addClass)}var f$=0;function tu(o){o.curOp={cm:o,viewChanged:!1,startHeight:o.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++f$,markArrays:null},Vs(o.curOp)}function nu(o){var a=o.curOp;a&&Md(a,function(d){for(var f=0;f<d.ops.length;f++)d.ops[f].cm.curOp=null;d$(d)})}function d$(o){for(var a=o.ops,d=0;d<a.length;d++)h$(a[d]);for(var f=0;f<a.length;f++)p$(a[f]);for(var p=0;p<a.length;p++)g$(a[p]);for(var A=0;A<a.length;A++)m$(a[A]);for(var C=0;C<a.length;C++)y$(a[C])}function h$(o){var a=o.cm,d=a.display;A$(a),o.updateMaxLine&&Ka(a),o.mustUpdate=o.viewChanged||o.forceUpdate||o.scrollTop!=null||o.scrollToPos&&(o.scrollToPos.from.line<d.viewFrom||o.scrollToPos.to.line>=d.viewTo)||d.maxLineChanged&&a.options.lineWrapping,o.update=o.mustUpdate&&new pm(a,o.mustUpdate&&{top:o.scrollTop,ensure:o.scrollToPos},o.forceUpdate)}function p$(o){o.updatedDisplay=o.mustUpdate&&Wx(o.cm,o.update)}function g$(o){var a=o.cm,d=a.display;o.updatedDisplay&&fm(a),o.barMeasure=Nd(a),d.maxLineChanged&&!a.options.lineWrapping&&(o.adjustWidthTo=wi(a,d.maxLine,d.maxLine.text.length).left+3,a.display.sizerWidth=o.adjustWidthTo,o.barMeasure.scrollWidth=Math.max(d.scroller.clientWidth,d.sizer.offsetLeft+o.adjustWidthTo+So(a)+a.display.barWidth),o.maxScrollLeft=Math.max(0,d.sizer.offsetLeft+o.adjustWidthTo-Js(a))),(o.updatedDisplay||o.selectionChanged)&&(o.preparedSelection=d.input.prepareSelection())}function m$(o){var a=o.cm;o.adjustWidthTo!=null&&(a.display.sizer.style.minWidth=o.adjustWidthTo+"px",o.maxScrollLeft<a.doc.scrollLeft&&Xl(a,Math.min(a.display.scroller.scrollLeft,o.maxScrollLeft),!0),a.display.maxLineChanged=!1);var d=o.focus&&o.focus==ae(_e(a));o.preparedSelection&&a.display.input.showSelection(o.preparedSelection,d),(o.updatedDisplay||o.startHeight!=a.doc.height)&&Dc(a,o.barMeasure),o.updatedDisplay&&$x(a,o.barMeasure),o.selectionChanged&&_x(a),a.state.focused&&o.updateInput&&a.display.input.reset(o.typing),d&&WM(o.cm)}function y$(o){var a=o.cm,d=a.display,f=a.doc;if(o.updatedDisplay&&JM(a,o.update),d.wheelStartX!=null&&(o.scrollTop!=null||o.scrollLeft!=null||o.scrollToPos)&&(d.wheelStartX=d.wheelStartY=null),o.scrollTop!=null&&$M(a,o.scrollTop,o.forceScroll),o.scrollLeft!=null&&Xl(a,o.scrollLeft,!0,!0),o.scrollToPos){var p=l$(a,It(f,o.scrollToPos.from),It(f,o.scrollToPos.to),o.scrollToPos.margin);a$(a,p)}var A=o.maybeHiddenMarkers,C=o.maybeUnhiddenMarkers;if(A)for(var D=0;D<A.length;++D)A[D].lines.length||An(A[D],"hide");if(C)for(var L=0;L<C.length;++L)C[L].lines.length&&An(C[L],"unhide");d.wrapper.offsetHeight&&(f.scrollTop=a.display.scroller.scrollTop),o.changeObjs&&An(a,"changes",a,o.changeObjs),o.update&&o.update.finish()}function Wi(o,a){if(o.curOp)return a();tu(o);try{return a()}finally{nu(o)}}function Er(o,a){return function(){if(o.curOp)return a.apply(o,arguments);tu(o);try{return a.apply(o,arguments)}finally{nu(o)}}}function li(o){return function(){if(this.curOp)return o.apply(this,arguments);tu(this);try{return o.apply(this,arguments)}finally{nu(this)}}}function Dr(o){return function(){var a=this.cm;if(!a||a.curOp)return o.apply(this,arguments);tu(a);try{return o.apply(this,arguments)}finally{nu(a)}}}function jd(o,a){o.doc.highlightFrontier<o.display.viewTo&&o.state.highlight.set(a,Ue(v$,o))}function v$(o){var a=o.doc;if(!(a.highlightFrontier>=o.display.viewTo)){var d=+new Date+o.options.workTime,f=cs(o,a.highlightFrontier),p=[];a.iter(f.line,Math.min(a.first+a.size,o.display.viewTo+500),function(A){if(f.line>=o.display.viewFrom){var C=A.styles,D=A.text.length>o.options.maxHighlightLength?hr(a.mode,f.state):null,L=Wl(o,A,f,!0);D&&(f.state=D),A.styles=L.styles;var j=A.styleClasses,q=L.classes;q?A.styleClasses=q:j&&(A.styleClasses=null);for(var ee=!C||C.length!=A.styles.length||j!=q&&(!j||!q||j.bgClass!=q.bgClass||j.textClass!=q.textClass),ge=0;!ee&&ge<C.length;++ge)ee=C[ge]!=A.styles[ge];ee&&p.push(f.line),A.stateAfter=f.save(),f.nextLine()}else A.text.length<=o.options.maxHighlightLength&&dc(o,A.text,f),A.stateAfter=f.line%5==0?f.save():null,f.nextLine();if(+new Date>d)return jd(o,o.options.workDelay),!0}),a.highlightFrontier=f.line,a.modeFrontier=Math.max(a.modeFrontier,f.line),p.length&&Wi(o,function(){for(var A=0;A<p.length;A++)Ot(o,p[A],"text")})}}var pm=function(o,a,d){var f=o.display;this.viewport=a,this.visible=dm(f,o.doc,a),this.editorIsHidden=!f.wrapper.offsetWidth,this.wrapperHeight=f.wrapper.clientHeight,this.wrapperWidth=f.wrapper.clientWidth,this.oldDisplayWidth=Js(o),this.force=d,this.dims=nt(o),this.events=[]};pm.prototype.signal=function(o,a){fr(o,a)&&this.events.push(arguments)},pm.prototype.finish=function(){for(var o=0;o<this.events.length;o++)An.apply(null,this.events[o])};function A$(o){var a=o.display;!a.scrollbarsClipped&&a.scroller.offsetWidth&&(a.nativeBarWidth=a.scroller.offsetWidth-a.scroller.clientWidth,a.heightForcer.style.height=So(o)+"px",a.sizer.style.marginBottom=-a.nativeBarWidth+"px",a.sizer.style.borderRightWidth=So(o)+"px",a.scrollbarsClipped=!0)}function x$(o){if(o.hasFocus())return null;var a=ae(_e(o));if(!a||!me(o.display.lineDiv,a))return null;var d={activeElt:a};if(window.getSelection){var f=Oe(o).getSelection();f.anchorNode&&f.extend&&me(o.display.lineDiv,f.anchorNode)&&(d.anchorNode=f.anchorNode,d.anchorOffset=f.anchorOffset,d.focusNode=f.focusNode,d.focusOffset=f.focusOffset)}return d}function b$(o){if(!(!o||!o.activeElt||o.activeElt==ae(Be(o.activeElt)))&&(o.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(o.activeElt.nodeName)&&o.anchorNode&&me(document.body,o.anchorNode)&&me(document.body,o.focusNode))){var a=o.activeElt.ownerDocument,d=a.defaultView.getSelection(),f=a.createRange();f.setEnd(o.anchorNode,o.anchorOffset),f.collapse(!1),d.removeAllRanges(),d.addRange(f),d.extend(o.focusNode,o.focusOffset)}}function Wx(o,a){var d=o.display,f=o.doc;if(a.editorIsHidden)return Ft(o),!1;if(!a.force&&a.visible.from>=d.viewFrom&&a.visible.to<=d.viewTo&&(d.updateLineNumbers==null||d.updateLineNumbers>=d.viewTo)&&d.renderedView==d.view&&kr(o)==0)return!1;ZM(o)&&(Ft(o),a.dims=nt(o));var p=f.first+f.size,A=Math.max(a.visible.from-o.options.viewportMargin,f.first),C=Math.min(p,a.visible.to+o.options.viewportMargin);d.viewFrom<A&&A-d.viewFrom<20&&(A=Math.max(f.first,d.viewFrom)),d.viewTo>C&&d.viewTo-C<20&&(C=Math.min(p,d.viewTo)),bo&&(A=Cd(o.doc,A),C=vc(o.doc,C));var D=A!=d.viewFrom||C!=d.viewTo||d.lastWrapHeight!=a.wrapperHeight||d.lastWrapWidth!=a.wrapperWidth;Bt(o,A,C),d.viewOffset=Ui(ct(o.doc,d.viewFrom)),o.display.mover.style.top=d.viewOffset+"px";var L=kr(o);if(!D&&L==0&&!a.force&&d.renderedView==d.view&&(d.updateLineNumbers==null||d.updateLineNumbers>=d.viewTo))return!1;var j=x$(o);return L>4&&(d.lineDiv.style.display="none"),w$(o,d.updateLineNumbers,a.dims),L>4&&(d.lineDiv.style.display=""),d.renderedView=d.view,b$(j),J(d.cursorDiv),J(d.selectionDiv),d.gutters.style.height=d.sizer.style.minHeight=0,D&&(d.lastWrapHeight=a.wrapperHeight,d.lastWrapWidth=a.wrapperWidth,jd(o,400)),d.updateLineNumbers=null,!0}function JM(o,a){for(var d=a.viewport,f=!0;;f=!1){if(!f||!o.options.lineWrapping||a.oldDisplayWidth==Js(o)){if(d&&d.top!=null&&(d={top:Math.min(o.doc.height+Sc(o.display)-Ga(o),d.top)}),a.visible=dm(o.display,o.doc,d),a.visible.from>=o.display.viewFrom&&a.visible.to<=o.display.viewTo)break}else f&&(a.visible=dm(o.display,o.doc,d));if(!Wx(o,a))break;fm(o);var p=Nd(o);Xn(o),Dc(o,p),$x(o,p),a.force=!1}a.signal(o,"update",o),(o.display.viewFrom!=o.display.reportedViewFrom||o.display.viewTo!=o.display.reportedViewTo)&&(a.signal(o,"viewportChange",o,o.display.viewFrom,o.display.viewTo),o.display.reportedViewFrom=o.display.viewFrom,o.display.reportedViewTo=o.display.viewTo)}function Kx(o,a){var d=new pm(o,a);if(Wx(o,d)){fm(o),JM(o,d);var f=Nd(o);Xn(o),Dc(o,f),$x(o,f),d.finish()}}function w$(o,a,d){var f=o.display,p=o.options.lineNumbers,A=f.lineDiv,C=A.firstChild;function D(Ie){var Pe=Ie.nextSibling;return g&&W&&o.display.currentWheelTarget==Ie?Ie.style.display="none":Ie.parentNode.removeChild(Ie),Pe}for(var L=f.view,j=f.viewFrom,q=0;q<L.length;q++){var ee=L[q];if(!ee.hidden)if(!ee.node||ee.node.parentNode!=A){var ge=Bx(o,ee,j,d);A.insertBefore(ge,C)}else{for(;C!=ee.node;)C=D(C);var fe=p&&a!=null&&a<=j&&ee.lineNumber;ee.changes&&(Fe(ee.changes,"gutter")>-1&&(fe=!1),om(o,ee,j,d)),fe&&(J(ee.lineNumber),ee.lineNumber.appendChild(document.createTextNode(ze(o.options,j)))),C=ee.node.nextSibling}j+=ee.size}for(;C;)C=D(C)}function Qx(o){var a=o.gutters.offsetWidth;o.sizer.style.marginLeft=a+"px",Qn(o,"gutterChanged",o)}function $x(o,a){o.display.sizer.style.minHeight=a.docHeight+"px",o.display.heightForcer.style.top=a.docHeight+"px",o.display.gutters.style.height=a.docHeight+o.display.barHeight+So(o)+"px"}function qM(o){var a=o.display,d=a.view;if(!(!a.alignWidgets&&(!a.gutters.firstChild||!o.options.fixedGutter))){for(var f=Ke(a)-a.scroller.scrollLeft+o.doc.scrollLeft,p=a.gutters.offsetWidth,A=f+"px",C=0;C<d.length;C++)if(!d[C].hidden){o.options.fixedGutter&&(d[C].gutter&&(d[C].gutter.style.left=A),d[C].gutterBackground&&(d[C].gutterBackground.style.left=A));var D=d[C].alignable;if(D)for(var L=0;L<D.length;L++)D[L].style.left=A}o.options.fixedGutter&&(a.gutters.style.left=f+p+"px")}}function ZM(o){if(!o.options.lineNumbers)return!1;var a=o.doc,d=ze(o.options,a.first+a.size-1),f=o.display;if(d.length!=f.lineNumChars){var p=f.measure.appendChild(B("div",[B("div",d)],"CodeMirror-linenumber CodeMirror-gutter-elt")),A=p.firstChild.offsetWidth,C=p.offsetWidth-A;return f.lineGutter.style.width="",f.lineNumInnerWidth=Math.max(A,f.lineGutter.offsetWidth-C)+1,f.lineNumWidth=f.lineNumInnerWidth+C,f.lineNumChars=f.lineNumInnerWidth?d.length:-1,f.lineGutter.style.width=f.lineNumWidth+"px",Qx(o.display),!0}return!1}function Gx(o,a){for(var d=[],f=!1,p=0;p<o.length;p++){var A=o[p],C=null;if(typeof A!="string"&&(C=A.style,A=A.className),A=="CodeMirror-linenumbers")if(a)f=!0;else continue;d.push({className:A,style:C})}return a&&!f&&d.push({className:"CodeMirror-linenumbers",style:null}),d}function XM(o){var a=o.gutters,d=o.gutterSpecs;J(a),o.lineGutter=null;for(var f=0;f<d.length;++f){var p=d[f],A=p.className,C=p.style,D=a.appendChild(B("div",null,"CodeMirror-gutter "+A));C&&(D.style.cssText=C),A=="CodeMirror-linenumbers"&&(o.lineGutter=D,D.style.width=(o.lineNumWidth||1)+"px")}a.style.display=d.length?"":"none",Qx(o)}function zd(o){XM(o.display),vt(o),qM(o)}function S$(o,a,d,f){var p=this;this.input=d,p.scrollbarFiller=B("div",null,"CodeMirror-scrollbar-filler"),p.scrollbarFiller.setAttribute("cm-not-content","true"),p.gutterFiller=B("div",null,"CodeMirror-gutter-filler"),p.gutterFiller.setAttribute("cm-not-content","true"),p.lineDiv=Re("div",null,"CodeMirror-code"),p.selectionDiv=B("div",null,null,"position: relative; z-index: 1"),p.cursorDiv=B("div",null,"CodeMirror-cursors"),p.measure=B("div",null,"CodeMirror-measure"),p.lineMeasure=B("div",null,"CodeMirror-measure"),p.lineSpace=Re("div",[p.measure,p.lineMeasure,p.selectionDiv,p.cursorDiv,p.lineDiv],null,"position: relative; outline: none");var A=Re("div",[p.lineSpace],"CodeMirror-lines");p.mover=B("div",[A],null,"position: relative"),p.sizer=B("div",[p.mover],"CodeMirror-sizer"),p.sizerWidth=null,p.heightForcer=B("div",null,null,"position: absolute; height: "+Ye+"px; width: 1px;"),p.gutters=B("div",null,"CodeMirror-gutters"),p.lineGutter=null,p.scroller=B("div",[p.sizer,p.heightForcer,p.gutters],"CodeMirror-scroll"),p.scroller.setAttribute("tabIndex","-1"),p.wrapper=B("div",[p.scrollbarFiller,p.gutterFiller,p.scroller],"CodeMirror"),v&&x===105&&(p.wrapper.style.clipPath="inset(0px)"),p.wrapper.setAttribute("translate","no"),c&&h<8&&(p.gutters.style.zIndex=-1,p.scroller.style.paddingRight=0),!g&&!(i&&P)&&(p.scroller.draggable=!0),o&&(o.appendChild?o.appendChild(p.wrapper):o(p.wrapper)),p.viewFrom=p.viewTo=a.first,p.reportedViewFrom=p.reportedViewTo=a.first,p.view=[],p.renderedView=null,p.externalMeasured=null,p.viewOffset=0,p.lastWrapHeight=p.lastWrapWidth=0,p.updateLineNumbers=null,p.nativeBarWidth=p.barHeight=p.barWidth=0,p.scrollbarsClipped=!1,p.lineNumWidth=p.lineNumInnerWidth=p.lineNumChars=null,p.alignWidgets=!1,p.cachedCharWidth=p.cachedTextHeight=p.cachedPaddingH=null,p.maxLine=null,p.maxLineLength=0,p.maxLineChanged=!1,p.wheelDX=p.wheelDY=p.wheelStartX=p.wheelStartY=null,p.shift=!1,p.selForContextMenu=null,p.activeTouch=null,p.gutterSpecs=Gx(f.gutters,f.lineNumbers),XM(p),d.init(p)}var gm=0,qs=null;c?qs=-.53:i?qs=15:v?qs=-.7:E&&(qs=-1/3);function eR(o){var a=o.wheelDeltaX,d=o.wheelDeltaY;return a==null&&o.detail&&o.axis==o.HORIZONTAL_AXIS&&(a=o.detail),d==null&&o.detail&&o.axis==o.VERTICAL_AXIS?d=o.detail:d==null&&(d=o.wheelDelta),{x:a,y:d}}function C$(o){var a=eR(o);return a.x*=qs,a.y*=qs,a}function tR(o,a){v&&x==102&&(o.display.chromeScrollHack==null?o.display.sizer.style.pointerEvents="none":clearTimeout(o.display.chromeScrollHack),o.display.chromeScrollHack=setTimeout(function(){o.display.chromeScrollHack=null,o.display.sizer.style.pointerEvents=""},100));var d=eR(a),f=d.x,p=d.y,A=qs;a.deltaMode===0&&(f=a.deltaX,p=a.deltaY,A=1);var C=o.display,D=C.scroller,L=D.scrollWidth>D.clientWidth,j=D.scrollHeight>D.clientHeight;if(f&&L||p&&j){if(p&&W&&g){e:for(var q=a.target,ee=C.view;q!=D;q=q.parentNode)for(var ge=0;ge<ee.length;ge++)if(ee[ge].node==q){o.display.currentWheelTarget=q;break e}}if(f&&!i&&!w&&A!=null){p&&j&&Bd(o,Math.max(0,D.scrollTop+p*A)),Xl(o,Math.max(0,D.scrollLeft+f*A)),(!p||p&&j)&&Jn(a),C.wheelStartX=null;return}if(p&&A!=null){var fe=p*A,Ie=o.doc.scrollTop,Pe=Ie+C.wrapper.clientHeight;fe<0?Ie=Math.max(0,Ie+fe-50):Pe=Math.min(o.doc.height,Pe+fe+50),Kx(o,{top:Ie,bottom:Pe})}gm<20&&a.deltaMode!==0&&(C.wheelStartX==null?(C.wheelStartX=D.scrollLeft,C.wheelStartY=D.scrollTop,C.wheelDX=f,C.wheelDY=p,setTimeout(function(){if(C.wheelStartX!=null){var We=D.scrollLeft-C.wheelStartX,Xe=D.scrollTop-C.wheelStartY,ot=Xe&&C.wheelDY&&Xe/C.wheelDY||We&&C.wheelDX&&We/C.wheelDX;C.wheelStartX=C.wheelStartY=null,ot&&(qs=(qs*gm+ot)/(gm+1),++gm)}},200)):(C.wheelDX+=f,C.wheelDY+=p))}}var uo=function(o,a){this.ranges=o,this.primIndex=a};uo.prototype.primary=function(){return this.ranges[this.primIndex]},uo.prototype.equals=function(o){if(o==this)return!0;if(o.primIndex!=this.primIndex||o.ranges.length!=this.ranges.length)return!1;for(var a=0;a<this.ranges.length;a++){var d=this.ranges[a],f=o.ranges[a];if(!Qt(d.anchor,f.anchor)||!Qt(d.head,f.head))return!1}return!0},uo.prototype.deepCopy=function(){for(var o=[],a=0;a<this.ranges.length;a++)o[a]=new on(Zn(this.ranges[a].anchor),Zn(this.ranges[a].head));return new uo(o,this.primIndex)},uo.prototype.somethingSelected=function(){for(var o=0;o<this.ranges.length;o++)if(!this.ranges[o].empty())return!0;return!1},uo.prototype.contains=function(o,a){a||(a=o);for(var d=0;d<this.ranges.length;d++){var f=this.ranges[d];if(Ze(a,f.from())>=0&&Ze(o,f.to())<=0)return d}return-1};var on=function(o,a){this.anchor=o,this.head=a};on.prototype.from=function(){return Ws(this.anchor,this.head)},on.prototype.to=function(){return _r(this.anchor,this.head)},on.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function jo(o,a,d){var f=o&&o.options.selectionsMayTouch,p=a[d];a.sort(function(ge,fe){return Ze(ge.from(),fe.from())}),d=Fe(a,p);for(var A=1;A<a.length;A++){var C=a[A],D=a[A-1],L=Ze(D.to(),C.from());if(f&&!C.empty()?L>0:L>=0){var j=Ws(D.from(),C.from()),q=_r(D.to(),C.to()),ee=D.empty()?C.from()==C.head:D.from()==D.head;A<=d&&--d,a.splice(--A,2,new on(ee?q:j,ee?j:q))}}return new uo(a,d)}function Ya(o,a){return new uo([new on(o,a||o)],0)}function Ja(o){return o.text?Ce(o.from.line+o.text.length-1,Nt(o.text).length+(o.text.length==1?o.from.ch:0)):o.to}function nR(o,a){if(Ze(o,a.from)<0)return o;if(Ze(o,a.to)<=0)return Ja(a);var d=o.line+a.text.length-(a.to.line-a.from.line)-1,f=o.ch;return o.line==a.to.line&&(f+=Ja(a).ch-a.to.ch),Ce(d,f)}function Vx(o,a){for(var d=[],f=0;f<o.sel.ranges.length;f++){var p=o.sel.ranges[f];d.push(new on(nR(p.anchor,a),nR(p.head,a)))}return jo(o.cm,d,o.sel.primIndex)}function rR(o,a,d){return o.line==a.line?Ce(d.line,o.ch-a.ch+d.ch):Ce(d.line+(o.line-a.line),o.ch)}function k$(o,a,d){for(var f=[],p=Ce(o.first,0),A=p,C=0;C<a.length;C++){var D=a[C],L=rR(D.from,p,A),j=rR(Ja(D),p,A);if(p=D.to,A=j,d=="around"){var q=o.sel.ranges[C],ee=Ze(q.head,q.anchor)<0;f[C]=new on(ee?j:L,ee?L:j)}else f[C]=new on(L,L)}return new uo(f,o.sel.primIndex)}function Yx(o){o.doc.mode=us(o.options,o.doc.modeOption),Hd(o)}function Hd(o){o.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null)}),o.doc.modeFrontier=o.doc.highlightFrontier=o.doc.first,jd(o,100),o.state.modeGen++,o.curOp&&vt(o)}function iR(o,a){return a.from.ch==0&&a.to.ch==0&&Nt(a.text)==""&&(!o.cm||o.cm.options.wholeLineUpdateBefore)}function Jx(o,a,d,f){function p(ot){return d?d[ot]:null}function A(ot,et,lt){Fx(ot,et,lt,f),Qn(ot,"change",ot,a)}function C(ot,et){for(var lt=[],xt=ot;xt<et;++xt)lt.push(new $s(j[xt],p(xt),f));return lt}var D=a.from,L=a.to,j=a.text,q=ct(o,D.line),ee=ct(o,L.line),ge=Nt(j),fe=p(j.length-1),Ie=L.line-D.line;if(a.full)o.insert(0,C(0,j.length)),o.remove(j.length,o.size-j.length);else if(iR(o,a)){var Pe=C(0,j.length-1);A(ee,ee.text,fe),Ie&&o.remove(D.line,Ie),Pe.length&&o.insert(D.line,Pe)}else if(q==ee)if(j.length==1)A(q,q.text.slice(0,D.ch)+ge+q.text.slice(L.ch),fe);else{var We=C(1,j.length-1);We.push(new $s(ge+q.text.slice(L.ch),fe,f)),A(q,q.text.slice(0,D.ch)+j[0],p(0)),o.insert(D.line+1,We)}else if(j.length==1)A(q,q.text.slice(0,D.ch)+j[0]+ee.text.slice(L.ch),p(0)),o.remove(D.line+1,Ie);else{A(q,q.text.slice(0,D.ch)+j[0],p(0)),A(ee,ge+ee.text.slice(L.ch),fe);var Xe=C(1,j.length-1);Ie>1&&o.remove(D.line+1,Ie-1),o.insert(D.line+1,Xe)}Qn(o,"change",o,a)}function qa(o,a,d){function f(p,A,C){if(p.linked)for(var D=0;D<p.linked.length;++D){var L=p.linked[D];if(L.doc!=A){var j=C&&L.sharedHist;d&&!j||(a(L.doc,j),f(L.doc,p,j))}}}f(o,null,!0)}function oR(o,a){if(a.cm)throw new Error("This document is already in use.");o.doc=a,a.cm=o,rt(o),Yx(o),sR(o),o.options.direction=a.direction,o.options.lineWrapping||Ka(o),o.options.mode=a.modeOption,vt(o)}function sR(o){(o.doc.direction=="rtl"?N:re)(o.display.lineDiv,"CodeMirror-rtl")}function I$(o){Wi(o,function(){sR(o),vt(o)})}function mm(o){this.done=[],this.undone=[],this.undoDepth=o?o.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=o?o.maxGeneration:1}function qx(o,a){var d={from:Zn(a.from),to:Ja(a),text:oo(o,a.from,a.to)};return uR(o,d,a.from.line,a.to.line+1),qa(o,function(f){return uR(f,d,a.from.line,a.to.line+1)},!0),d}function aR(o){for(;o.length;){var a=Nt(o);if(a.ranges)o.pop();else break}}function E$(o,a){if(a)return aR(o.done),Nt(o.done);if(o.done.length&&!Nt(o.done).ranges)return Nt(o.done);if(o.done.length>1&&!o.done[o.done.length-2].ranges)return o.done.pop(),Nt(o.done)}function lR(o,a,d,f){var p=o.history;p.undone.length=0;var A=+new Date,C,D;if((p.lastOp==f||p.lastOrigin==a.origin&&a.origin&&(a.origin.charAt(0)=="+"&&p.lastModTime>A-(o.cm?o.cm.options.historyEventDelay:500)||a.origin.charAt(0)=="*"))&&(C=E$(p,p.lastOp==f)))D=Nt(C.changes),Ze(a.from,a.to)==0&&Ze(a.from,D.to)==0?D.to=Ja(a):C.changes.push(qx(o,a));else{var L=Nt(p.done);for((!L||!L.ranges)&&ym(o.sel,p.done),C={changes:[qx(o,a)],generation:p.generation},p.done.push(C);p.done.length>p.undoDepth;)p.done.shift(),p.done[0].ranges||p.done.shift()}p.done.push(d),p.generation=++p.maxGeneration,p.lastModTime=p.lastSelTime=A,p.lastOp=p.lastSelOp=f,p.lastOrigin=p.lastSelOrigin=a.origin,D||An(o,"historyAdded")}function D$(o,a,d,f){var p=a.charAt(0);return p=="*"||p=="+"&&d.ranges.length==f.ranges.length&&d.somethingSelected()==f.somethingSelected()&&new Date-o.history.lastSelTime<=(o.cm?o.cm.options.historyEventDelay:500)}function M$(o,a,d,f){var p=o.history,A=f&&f.origin;d==p.lastSelOp||A&&p.lastSelOrigin==A&&(p.lastModTime==p.lastSelTime&&p.lastOrigin==A||D$(o,A,Nt(p.done),a))?p.done[p.done.length-1]=a:ym(a,p.done),p.lastSelTime=+new Date,p.lastSelOrigin=A,p.lastSelOp=d,f&&f.clearRedo!==!1&&aR(p.undone)}function ym(o,a){var d=Nt(a);d&&d.ranges&&d.equals(o)||a.push(o)}function uR(o,a,d,f){var p=a["spans_"+o.id],A=0;o.iter(Math.max(o.first,d),Math.min(o.first+o.size,f),function(C){C.markedSpans&&((p||(p=a["spans_"+o.id]={}))[A]=C.markedSpans),++A})}function R$(o){if(!o)return null;for(var a,d=0;d<o.length;++d)o[d].marker.explicitlyCleared?a||(a=o.slice(0,d)):a&&a.push(o[d]);return a?a.length?a:null:o}function T$(o,a){var d=a["spans_"+o.id];if(!d)return null;for(var f=[],p=0;p<a.text.length;++p)f.push(R$(d[p]));return f}function cR(o,a){var d=T$(o,a),f=Hi(o,a);if(!d)return f;if(!f)return d;for(var p=0;p<d.length;++p){var A=d[p],C=f[p];if(A&&C)e:for(var D=0;D<C.length;++D){for(var L=C[D],j=0;j<A.length;++j)if(A[j].marker==L.marker)continue e;A.push(L)}else C&&(d[p]=C)}return d}function Mc(o,a,d){for(var f=[],p=0;p<o.length;++p){var A=o[p];if(A.ranges){f.push(d?uo.prototype.deepCopy.call(A):A);continue}var C=A.changes,D=[];f.push({changes:D});for(var L=0;L<C.length;++L){var j=C[L],q=void 0;if(D.push({from:j.from,to:j.to,text:j.text}),a)for(var ee in j)(q=ee.match(/^spans_(\d+)$/))&&Fe(a,Number(q[1]))>-1&&(Nt(D)[ee]=j[ee],delete j[ee])}}return f}function Zx(o,a,d,f){if(f){var p=o.anchor;if(d){var A=Ze(a,p)<0;A!=Ze(d,p)<0?(p=a,a=d):A!=Ze(a,d)<0&&(a=d)}return new on(p,a)}else return new on(d||a,a)}function vm(o,a,d,f,p){p==null&&(p=o.cm&&(o.cm.display.shift||o.extend)),Vr(o,new uo([Zx(o.sel.primary(),a,d,p)],0),f)}function fR(o,a,d){for(var f=[],p=o.cm&&(o.cm.display.shift||o.extend),A=0;A<o.sel.ranges.length;A++)f[A]=Zx(o.sel.ranges[A],a[A],null,p);var C=jo(o.cm,f,o.sel.primIndex);Vr(o,C,d)}function Xx(o,a,d,f){var p=o.sel.ranges.slice(0);p[a]=d,Vr(o,jo(o.cm,p,o.sel.primIndex),f)}function dR(o,a,d,f){Vr(o,Ya(a,d),f)}function O$(o,a,d){var f={ranges:a.ranges,update:function(p){this.ranges=[];for(var A=0;A<p.length;A++)this.ranges[A]=new on(It(o,p[A].anchor),It(o,p[A].head))},origin:d&&d.origin};return An(o,"beforeSelectionChange",o,f),o.cm&&An(o.cm,"beforeSelectionChange",o.cm,f),f.ranges!=a.ranges?jo(o.cm,f.ranges,f.ranges.length-1):a}function hR(o,a,d){var f=o.history.done,p=Nt(f);p&&p.ranges?(f[f.length-1]=a,Am(o,a,d)):Vr(o,a,d)}function Vr(o,a,d){Am(o,a,d),M$(o,o.sel,o.cm?o.cm.curOp.id:NaN,d)}function Am(o,a,d){(fr(o,"beforeSelectionChange")||o.cm&&fr(o.cm,"beforeSelectionChange"))&&(a=O$(o,a,d));var f=d&&d.bias||(Ze(a.primary().head,o.sel.primary().head)<0?-1:1);pR(o,mR(o,a,f,!0)),!(d&&d.scroll===!1)&&o.cm&&o.cm.getOption("readOnly")!="nocursor"&&Ec(o.cm)}function pR(o,a){a.equals(o.sel)||(o.sel=a,o.cm&&(o.cm.curOp.updateInput=1,o.cm.curOp.selectionChanged=!0,Gr(o.cm)),Qn(o,"cursorActivity",o))}function gR(o){pR(o,mR(o,o.sel,null,!1))}function mR(o,a,d,f){for(var p,A=0;A<a.ranges.length;A++){var C=a.ranges[A],D=a.ranges.length==o.sel.ranges.length&&o.sel.ranges[A],L=xm(o,C.anchor,D&&D.anchor,d,f),j=C.head==C.anchor?L:xm(o,C.head,D&&D.head,d,f);(p||L!=C.anchor||j!=C.head)&&(p||(p=a.ranges.slice(0,A)),p[A]=new on(L,j))}return p?jo(o.cm,p,a.primIndex):a}function Rc(o,a,d,f,p){var A=ct(o,a.line);if(A.markedSpans)for(var C=0;C<A.markedSpans.length;++C){var D=A.markedSpans[C],L=D.marker,j="selectLeft"in L?!L.selectLeft:L.inclusiveLeft,q="selectRight"in L?!L.selectRight:L.inclusiveRight;if((D.from==null||(j?D.from<=a.ch:D.from<a.ch))&&(D.to==null||(q?D.to>=a.ch:D.to>a.ch))){if(p&&(An(L,"beforeCursorEnter"),L.explicitlyCleared))if(A.markedSpans){--C;continue}else break;if(!L.atomic)continue;if(d){var ee=L.find(f<0?1:-1),ge=void 0;if((f<0?q:j)&&(ee=yR(o,ee,-f,ee&&ee.line==a.line?A:null)),ee&&ee.line==a.line&&(ge=Ze(ee,d))&&(f<0?ge<0:ge>0))return Rc(o,ee,a,f,p)}var fe=L.find(f<0?-1:1);return(f<0?j:q)&&(fe=yR(o,fe,f,fe.line==a.line?A:null)),fe?Rc(o,fe,a,f,p):null}}return a}function xm(o,a,d,f,p){var A=f||1,C=Rc(o,a,d,A,p)||!p&&Rc(o,a,d,A,!0)||Rc(o,a,d,-A,p)||!p&&Rc(o,a,d,-A,!0);return C||(o.cantEdit=!0,Ce(o.first,0))}function yR(o,a,d,f){return d<0&&a.ch==0?a.line>o.first?It(o,Ce(a.line-1)):null:d>0&&a.ch==(f||ct(o,a.line)).text.length?a.line<o.first+o.size-1?Ce(a.line+1,0):null:new Ce(a.line,a.ch+d)}function vR(o){o.setSelection(Ce(o.firstLine(),0),Ce(o.lastLine()),Ne)}function AR(o,a,d){var f={canceled:!1,from:a.from,to:a.to,text:a.text,origin:a.origin,cancel:function(){return f.canceled=!0}};return d&&(f.update=function(p,A,C,D){p&&(f.from=It(o,p)),A&&(f.to=It(o,A)),C&&(f.text=C),D!==void 0&&(f.origin=D)}),An(o,"beforeChange",o,f),o.cm&&An(o.cm,"beforeChange",o.cm,f),f.canceled?(o.cm&&(o.cm.curOp.updateInput=2),null):{from:f.from,to:f.to,text:f.text,origin:f.origin}}function Tc(o,a,d){if(o.cm){if(!o.cm.curOp)return Er(o.cm,Tc)(o,a,d);if(o.cm.state.suppressEdits)return}if(!((fr(o,"beforeChange")||o.cm&&fr(o.cm,"beforeChange"))&&(a=AR(o,a,!0),!a))){var f=Bo&&!d&&em(o,a.from,a.to);if(f)for(var p=f.length-1;p>=0;--p)xR(o,{from:f[p].from,to:f[p].to,text:p?[""]:a.text,origin:a.origin});else xR(o,a)}}function xR(o,a){if(!(a.text.length==1&&a.text[0]==""&&Ze(a.from,a.to)==0)){var d=Vx(o,a);lR(o,a,d,o.cm?o.cm.curOp.id:NaN),Ud(o,a,d,Hi(o,a));var f=[];qa(o,function(p,A){!A&&Fe(f,p.history)==-1&&(CR(p.history,a),f.push(p.history)),Ud(p,a,null,Hi(p,a))})}}function bm(o,a,d){var f=o.cm&&o.cm.state.suppressEdits;if(!(f&&!d)){for(var p=o.history,A,C=o.sel,D=a=="undo"?p.done:p.undone,L=a=="undo"?p.undone:p.done,j=0;j<D.length&&(A=D[j],!(d?A.ranges&&!A.equals(o.sel):!A.ranges));j++);if(j!=D.length){for(p.lastOrigin=p.lastSelOrigin=null;;)if(A=D.pop(),A.ranges){if(ym(A,L),d&&!A.equals(o.sel)){Vr(o,A,{clearRedo:!1});return}C=A}else if(f){D.push(A);return}else break;var q=[];ym(C,L),L.push({changes:q,generation:p.generation}),p.generation=A.generation||++p.maxGeneration;for(var ee=fr(o,"beforeChange")||o.cm&&fr(o.cm,"beforeChange"),ge=function(Pe){var We=A.changes[Pe];if(We.origin=a,ee&&!AR(o,We,!1))return D.length=0,{};q.push(qx(o,We));var Xe=Pe?Vx(o,We):Nt(D);Ud(o,We,Xe,cR(o,We)),!Pe&&o.cm&&o.cm.scrollIntoView({from:We.from,to:Ja(We)});var ot=[];qa(o,function(et,lt){!lt&&Fe(ot,et.history)==-1&&(CR(et.history,We),ot.push(et.history)),Ud(et,We,null,cR(et,We))})},fe=A.changes.length-1;fe>=0;--fe){var Ie=ge(fe);if(Ie)return Ie.v}}}}function bR(o,a){if(a!=0&&(o.first+=a,o.sel=new uo(Dn(o.sel.ranges,function(p){return new on(Ce(p.anchor.line+a,p.anchor.ch),Ce(p.head.line+a,p.head.ch))}),o.sel.primIndex),o.cm)){vt(o.cm,o.first,o.first-a,a);for(var d=o.cm.display,f=d.viewFrom;f<d.viewTo;f++)Ot(o.cm,f,"gutter")}}function Ud(o,a,d,f){if(o.cm&&!o.cm.curOp)return Er(o.cm,Ud)(o,a,d,f);if(a.to.line<o.first){bR(o,a.text.length-1-(a.to.line-a.from.line));return}if(!(a.from.line>o.lastLine())){if(a.from.line<o.first){var p=a.text.length-1-(o.first-a.from.line);bR(o,p),a={from:Ce(o.first,0),to:Ce(a.to.line+p,a.to.ch),text:[Nt(a.text)],origin:a.origin}}var A=o.lastLine();a.to.line>A&&(a={from:a.from,to:Ce(A,ct(o,A).text.length),text:[a.text[0]],origin:a.origin}),a.removed=oo(o,a.from,a.to),d||(d=Vx(o,a)),o.cm?L$(o.cm,a,f):Jx(o,a,f),Am(o,d,Ne),o.cantEdit&&xm(o,Ce(o.firstLine(),0))&&(o.cantEdit=!1)}}function L$(o,a,d){var f=o.doc,p=o.display,A=a.from,C=a.to,D=!1,L=A.line;o.options.lineWrapping||(L=U(bi(ct(f,A.line))),f.iter(L,C.line+1,function(fe){if(fe==p.maxLine)return D=!0,!0})),f.sel.contains(a.from,a.to)>-1&&Gr(o),Jx(f,a,d,qe(o)),o.options.lineWrapping||(f.iter(L,A.line+a.text.length,function(fe){var Ie=Qs(fe);Ie>p.maxLineLength&&(p.maxLine=fe,p.maxLineLength=Ie,p.maxLineChanged=!0,D=!1)}),D&&(o.curOp.updateMaxLine=!0)),hc(f,A.line),jd(o,400);var j=a.text.length-(C.line-A.line)-1;a.full?vt(o):A.line==C.line&&a.text.length==1&&!iR(o.doc,a)?Ot(o,A.line,"text"):vt(o,A.line,C.line+1,j);var q=fr(o,"changes"),ee=fr(o,"change");if(ee||q){var ge={from:A,to:C,text:a.text,removed:a.removed,origin:a.origin};ee&&Qn(o,"change",o,ge),q&&(o.curOp.changeObjs||(o.curOp.changeObjs=[])).push(ge)}o.display.selForContextMenu=null}function Oc(o,a,d,f,p){var A;f||(f=d),Ze(f,d)<0&&(A=[f,d],d=A[0],f=A[1]),typeof a=="string"&&(a=o.splitLines(a)),Tc(o,{from:d,to:f,text:a,origin:p})}function wR(o,a,d,f){d<o.line?o.line+=f:a<o.line&&(o.line=a,o.ch=0)}function SR(o,a,d,f){for(var p=0;p<o.length;++p){var A=o[p],C=!0;if(A.ranges){A.copied||(A=o[p]=A.deepCopy(),A.copied=!0);for(var D=0;D<A.ranges.length;D++)wR(A.ranges[D].anchor,a,d,f),wR(A.ranges[D].head,a,d,f);continue}for(var L=0;L<A.changes.length;++L){var j=A.changes[L];if(d<j.from.line)j.from=Ce(j.from.line+f,j.from.ch),j.to=Ce(j.to.line+f,j.to.ch);else if(a<=j.to.line){C=!1;break}}C||(o.splice(0,p+1),p=0)}}function CR(o,a){var d=a.from.line,f=a.to.line,p=a.text.length-(f-d)-1;SR(o.done,d,f,p),SR(o.undone,d,f,p)}function Wd(o,a,d,f){var p=a,A=a;return typeof a=="number"?A=ct(o,gn(o,a)):p=U(a),p==null?null:(f(A,p)&&o.cm&&Ot(o.cm,p,d),A)}function Kd(o){this.lines=o,this.parent=null;for(var a=0,d=0;d<o.length;++d)o[d].parent=this,a+=o[d].height;this.height=a}Kd.prototype={chunkSize:function(){return this.lines.length},removeInner:function(o,a){for(var d=o,f=o+a;d<f;++d){var p=this.lines[d];this.height-=p.height,Qa(p),Qn(p,"delete")}this.lines.splice(o,a)},collapse:function(o){o.push.apply(o,this.lines)},insertInner:function(o,a,d){this.height+=d,this.lines=this.lines.slice(0,o).concat(a).concat(this.lines.slice(o));for(var f=0;f<a.length;++f)a[f].parent=this},iterN:function(o,a,d){for(var f=o+a;o<f;++o)if(d(this.lines[o]))return!0}};function Qd(o){this.children=o;for(var a=0,d=0,f=0;f<o.length;++f){var p=o[f];a+=p.chunkSize(),d+=p.height,p.parent=this}this.size=a,this.height=d,this.parent=null}Qd.prototype={chunkSize:function(){return this.size},removeInner:function(o,a){this.size-=a;for(var d=0;d<this.children.length;++d){var f=this.children[d],p=f.chunkSize();if(o<p){var A=Math.min(a,p-o),C=f.height;if(f.removeInner(o,A),this.height-=C-f.height,p==A&&(this.children.splice(d--,1),f.parent=null),(a-=A)==0)break;o=0}else o-=p}if(this.size-a<25&&(this.children.length>1||!(this.children[0]instanceof Kd))){var D=[];this.collapse(D),this.children=[new Kd(D)],this.children[0].parent=this}},collapse:function(o){for(var a=0;a<this.children.length;++a)this.children[a].collapse(o)},insertInner:function(o,a,d){this.size+=a.length,this.height+=d;for(var f=0;f<this.children.length;++f){var p=this.children[f],A=p.chunkSize();if(o<=A){if(p.insertInner(o,a,d),p.lines&&p.lines.length>50){for(var C=p.lines.length%25+25,D=C;D<p.lines.length;){var L=new Kd(p.lines.slice(D,D+=25));p.height-=L.height,this.children.splice(++f,0,L),L.parent=this}p.lines=p.lines.slice(0,C),this.maybeSpill()}break}o-=A}},maybeSpill:function(){if(!(this.children.length<=10)){var o=this;do{var a=o.children.splice(o.children.length-5,5),d=new Qd(a);if(o.parent){o.size-=d.size,o.height-=d.height;var p=Fe(o.parent.children,o);o.parent.children.splice(p+1,0,d)}else{var f=new Qd(o.children);f.parent=o,o.children=[f,d],o=f}d.parent=o.parent}while(o.children.length>10);o.parent.maybeSpill()}},iterN:function(o,a,d){for(var f=0;f<this.children.length;++f){var p=this.children[f],A=p.chunkSize();if(o<A){var C=Math.min(a,A-o);if(p.iterN(o,C,d))return!0;if((a-=C)==0)break;o=0}else o-=A}}};var $d=function(o,a,d){if(d)for(var f in d)d.hasOwnProperty(f)&&(this[f]=d[f]);this.doc=o,this.node=a};$d.prototype.clear=function(){var o=this.doc.cm,a=this.line.widgets,d=this.line,f=U(d);if(!(f==null||!a)){for(var p=0;p<a.length;++p)a[p]==this&&a.splice(p--,1);a.length||(d.widgets=null);var A=$a(this);si(d,Math.max(0,d.height-A)),o&&(Wi(o,function(){kR(o,d,-A),Ot(o,f,"widget")}),Qn(o,"lineWidgetCleared",o,this,f))}},$d.prototype.changed=function(){var o=this,a=this.height,d=this.doc.cm,f=this.line;this.height=null;var p=$a(this)-a;p&&(wo(this.doc,f)||si(f,f.height+p),d&&Wi(d,function(){d.curOp.forceUpdate=!0,kR(d,f,p),Qn(d,"lineWidgetChanged",d,o,U(f))}))},vi($d);function kR(o,a,d){Ui(a)<(o.curOp&&o.curOp.scrollTop||o.doc.scrollTop)&&Ux(o,d)}function P$(o,a,d,f){var p=new $d(o,d,f),A=o.cm;return A&&p.noHScroll&&(A.display.alignWidgets=!0),Wd(o,a,"widget",function(C){var D=C.widgets||(C.widgets=[]);if(p.insertAt==null?D.push(p):D.splice(Math.min(D.length,Math.max(0,p.insertAt)),0,p),p.line=C,A&&!wo(o,C)){var L=Ui(C)<o.scrollTop;si(C,C.height+$a(p)),L&&Ux(A,p.height),A.curOp.forceUpdate=!0}return!0}),A&&Qn(A,"lineWidgetAdded",A,p,typeof a=="number"?a:U(a)),p}var IR=0,Za=function(o,a){this.lines=[],this.type=a,this.doc=o,this.id=++IR};Za.prototype.clear=function(){if(!this.explicitlyCleared){var o=this.doc.cm,a=o&&!o.curOp;if(a&&tu(o),fr(this,"clear")){var d=this.find();d&&Qn(this,"clear",d.from,d.to)}for(var f=null,p=null,A=0;A<this.lines.length;++A){var C=this.lines[A],D=No(C.markedSpans,this);o&&!this.collapsed?Ot(o,U(C),"text"):o&&(D.to!=null&&(p=U(C)),D.from!=null&&(f=U(C))),C.markedSpans=Kl(C.markedSpans,D),D.from==null&&this.collapsed&&!wo(this.doc,C)&&o&&si(C,Le(o.display))}if(o&&this.collapsed&&!o.options.lineWrapping)for(var L=0;L<this.lines.length;++L){var j=bi(this.lines[L]),q=Qs(j);q>o.display.maxLineLength&&(o.display.maxLine=j,o.display.maxLineLength=q,o.display.maxLineChanged=!0)}f!=null&&o&&this.collapsed&&vt(o,f,p+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,o&&gR(o.doc)),o&&Qn(o,"markerCleared",o,this,f,p),a&&nu(o),this.parent&&this.parent.clear()}},Za.prototype.find=function(o,a){o==null&&this.type=="bookmark"&&(o=1);for(var d,f,p=0;p<this.lines.length;++p){var A=this.lines[p],C=No(A.markedSpans,this);if(C.from!=null&&(d=Ce(a?A:U(A),C.from),o==-1))return d;if(C.to!=null&&(f=Ce(a?A:U(A),C.to),o==1))return f}return d&&{from:d,to:f}},Za.prototype.changed=function(){var o=this,a=this.find(-1,!0),d=this,f=this.doc.cm;!a||!f||Wi(f,function(){var p=a.line,A=U(a.line),C=Ld(f,A);if(C&&(y(C),f.curOp.selectionChanged=f.curOp.forceUpdate=!0),f.curOp.updateMaxLine=!0,!wo(d.doc,p)&&d.height!=null){var D=d.height;d.height=null;var L=$a(d)-D;L&&si(p,p.height+L)}Qn(f,"markerChanged",f,o)})},Za.prototype.attachLine=function(o){if(!this.lines.length&&this.doc.cm){var a=this.doc.cm.curOp;(!a.maybeHiddenMarkers||Fe(a.maybeHiddenMarkers,this)==-1)&&(a.maybeUnhiddenMarkers||(a.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(o)},Za.prototype.detachLine=function(o){if(this.lines.splice(Fe(this.lines,o),1),!this.lines.length&&this.doc.cm){var a=this.doc.cm.curOp;(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this)}},vi(Za);function Lc(o,a,d,f,p){if(f&&f.shared)return F$(o,a,d,f,p);if(o.cm&&!o.cm.curOp)return Er(o.cm,Lc)(o,a,d,f,p);var A=new Za(o,p),C=Ze(a,d);if(f&&oe(f,A,!1),C>0||C==0&&A.clearWhenEmpty!==!1)return A;if(A.replacedWith&&(A.collapsed=!0,A.widgetNode=Re("span",[A.replacedWith],"CodeMirror-widget"),f.handleMouseEvents||A.widgetNode.setAttribute("cm-ignore-events","true"),f.insertLeft&&(A.widgetNode.insertLeft=!0)),A.collapsed){if($l(o,a.line,a,d,A)||a.line!=d.line&&$l(o,d.line,a,d,A))throw new Error("Inserting collapsed marker partially overlapping an existing one");pr()}A.addToHistory&&lR(o,{from:a,to:d,origin:"markText"},o.sel,NaN);var D=a.line,L=o.cm,j;if(o.iter(D,d.line+1,function(ee){L&&A.collapsed&&!L.options.lineWrapping&&bi(ee)==L.display.maxLine&&(j=!0),A.collapsed&&D!=a.line&&si(ee,0),wd(ee,new xi(A,D==a.line?a.ch:null,D==d.line?d.ch:null),o.cm&&o.cm.curOp),++D}),A.collapsed&&o.iter(a.line,d.line+1,function(ee){wo(o,ee)&&si(ee,0)}),A.clearOnEnter&&ht(A,"beforeCursorEnter",function(){return A.clear()}),A.readOnly&&(Xg(),(o.history.done.length||o.history.undone.length)&&o.clearHistory()),A.collapsed&&(A.id=++IR,A.atomic=!0),L){if(j&&(L.curOp.updateMaxLine=!0),A.collapsed)vt(L,a.line,d.line+1);else if(A.className||A.startStyle||A.endStyle||A.css||A.attributes||A.title)for(var q=a.line;q<=d.line;q++)Ot(L,q,"text");A.atomic&&gR(L.doc),Qn(L,"markerAdded",L,A)}return A}var Gd=function(o,a){this.markers=o,this.primary=a;for(var d=0;d<o.length;++d)o[d].parent=this};Gd.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var o=0;o<this.markers.length;++o)this.markers[o].clear();Qn(this,"clear")}},Gd.prototype.find=function(o,a){return this.primary.find(o,a)},vi(Gd);function F$(o,a,d,f,p){f=oe(f),f.shared=!1;var A=[Lc(o,a,d,f,p)],C=A[0],D=f.widgetNode;return qa(o,function(L){D&&(f.widgetNode=D.cloneNode(!0)),A.push(Lc(L,It(L,a),It(L,d),f,p));for(var j=0;j<L.linked.length;++j)if(L.linked[j].isParent)return;C=Nt(A)}),new Gd(A,C)}function ER(o){return o.findMarks(Ce(o.first,0),o.clipPos(Ce(o.lastLine())),function(a){return a.parent})}function B$(o,a){for(var d=0;d<a.length;d++){var f=a[d],p=f.find(),A=o.clipPos(p.from),C=o.clipPos(p.to);if(Ze(A,C)){var D=Lc(o,A,C,f.primary,f.primary.type);f.markers.push(D),D.parent=f}}}function N$(o){for(var a=function(f){var p=o[f],A=[p.primary.doc];qa(p.primary.doc,function(L){return A.push(L)});for(var C=0;C<p.markers.length;C++){var D=p.markers[C];Fe(A,D.doc)==-1&&(D.parent=null,p.markers.splice(C--,1))}},d=0;d<o.length;d++)a(d)}var _$=0,Si=function(o,a,d,f,p){if(!(this instanceof Si))return new Si(o,a,d,f,p);d==null&&(d=0),Qd.call(this,[new Kd([new $s("",null)])]),this.first=d,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=d;var A=Ce(d,0);this.sel=Ya(A),this.history=new mm(null),this.id=++_$,this.modeOption=a,this.lineSep=f,this.direction=p=="rtl"?"rtl":"ltr",this.extend=!1,typeof o=="string"&&(o=this.splitLines(o)),Jx(this,{from:A,to:A,text:o}),Vr(this,Ya(A),Ne)};Si.prototype=Fo(Qd.prototype,{constructor:Si,iter:function(o,a,d){d?this.iterN(o-this.first,a-o,d):this.iterN(this.first,this.first+this.size,o)},insert:function(o,a){for(var d=0,f=0;f<a.length;++f)d+=a[f].height;this.insertInner(o-this.first,a,d)},remove:function(o,a){this.removeInner(o-this.first,a)},getValue:function(o){var a=so(this,this.first,this.first+this.size);return o===!1?a:a.join(o||this.lineSeparator())},setValue:Dr(function(o){var a=Ce(this.first,0),d=this.first+this.size-1;Tc(this,{from:a,to:Ce(d,ct(this,d).text.length),text:this.splitLines(o),origin:"setValue",full:!0},!0),this.cm&&Fd(this.cm,0,0),Vr(this,Ya(a),Ne)}),replaceRange:function(o,a,d,f){a=It(this,a),d=d?It(this,d):a,Oc(this,o,a,d,f)},getRange:function(o,a,d){var f=oo(this,It(this,o),It(this,a));return d===!1?f:d===""?f.join(""):f.join(d||this.lineSeparator())},getLine:function(o){var a=this.getLineHandle(o);return a&&a.text},getLineHandle:function(o){if(be(this,o))return ct(this,o)},getLineNumber:function(o){return U(o)},getLineHandleVisualStart:function(o){return typeof o=="number"&&(o=ct(this,o)),bi(o)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(o){return It(this,o)},getCursor:function(o){var a=this.sel.primary(),d;return o==null||o=="head"?d=a.head:o=="anchor"?d=a.anchor:o=="end"||o=="to"||o===!1?d=a.to():d=a.from(),d},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Dr(function(o,a,d){dR(this,It(this,typeof o=="number"?Ce(o,a||0):o),null,d)}),setSelection:Dr(function(o,a,d){dR(this,It(this,o),It(this,a||o),d)}),extendSelection:Dr(function(o,a,d){vm(this,It(this,o),a&&It(this,a),d)}),extendSelections:Dr(function(o,a){fR(this,Ks(this,o),a)}),extendSelectionsBy:Dr(function(o,a){var d=Dn(this.sel.ranges,o);fR(this,Ks(this,d),a)}),setSelections:Dr(function(o,a,d){if(o.length){for(var f=[],p=0;p<o.length;p++)f[p]=new on(It(this,o[p].anchor),It(this,o[p].head||o[p].anchor));a==null&&(a=Math.min(o.length-1,this.sel.primIndex)),Vr(this,jo(this.cm,f,a),d)}}),addSelection:Dr(function(o,a,d){var f=this.sel.ranges.slice(0);f.push(new on(It(this,o),It(this,a||o))),Vr(this,jo(this.cm,f,f.length-1),d)}),getSelection:function(o){for(var a=this.sel.ranges,d,f=0;f<a.length;f++){var p=oo(this,a[f].from(),a[f].to());d=d?d.concat(p):p}return o===!1?d:d.join(o||this.lineSeparator())},getSelections:function(o){for(var a=[],d=this.sel.ranges,f=0;f<d.length;f++){var p=oo(this,d[f].from(),d[f].to());o!==!1&&(p=p.join(o||this.lineSeparator())),a[f]=p}return a},replaceSelection:function(o,a,d){for(var f=[],p=0;p<this.sel.ranges.length;p++)f[p]=o;this.replaceSelections(f,a,d||"+input")},replaceSelections:Dr(function(o,a,d){for(var f=[],p=this.sel,A=0;A<p.ranges.length;A++){var C=p.ranges[A];f[A]={from:C.from(),to:C.to(),text:this.splitLines(o[A]),origin:d}}for(var D=a&&a!="end"&&k$(this,f,a),L=f.length-1;L>=0;L--)Tc(this,f[L]);D?hR(this,D):this.cm&&Ec(this.cm)}),undo:Dr(function(){bm(this,"undo")}),redo:Dr(function(){bm(this,"redo")}),undoSelection:Dr(function(){bm(this,"undo",!0)}),redoSelection:Dr(function(){bm(this,"redo",!0)}),setExtending:function(o){this.extend=o},getExtending:function(){return this.extend},historySize:function(){for(var o=this.history,a=0,d=0,f=0;f<o.done.length;f++)o.done[f].ranges||++a;for(var p=0;p<o.undone.length;p++)o.undone[p].ranges||++d;return{undo:a,redo:d}},clearHistory:function(){var o=this;this.history=new mm(this.history),qa(this,function(a){return a.history=o.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(o){return o&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(o){return this.history.generation==(o||this.cleanGeneration)},getHistory:function(){return{done:Mc(this.history.done),undone:Mc(this.history.undone)}},setHistory:function(o){var a=this.history=new mm(this.history);a.done=Mc(o.done.slice(0),null,!0),a.undone=Mc(o.undone.slice(0),null,!0)},setGutterMarker:Dr(function(o,a,d){return Wd(this,o,"gutter",function(f){var p=f.gutterMarkers||(f.gutterMarkers={});return p[a]=d,!d&&St(p)&&(f.gutterMarkers=null),!0})}),clearGutter:Dr(function(o){var a=this;this.iter(function(d){d.gutterMarkers&&d.gutterMarkers[o]&&Wd(a,d,"gutter",function(){return d.gutterMarkers[o]=null,St(d.gutterMarkers)&&(d.gutterMarkers=null),!0})})}),lineInfo:function(o){var a;if(typeof o=="number"){if(!be(this,o)||(a=o,o=ct(this,o),!o))return null}else if(a=U(o),a==null)return null;return{line:a,handle:o,text:o.text,gutterMarkers:o.gutterMarkers,textClass:o.textClass,bgClass:o.bgClass,wrapClass:o.wrapClass,widgets:o.widgets}},addLineClass:Dr(function(o,a,d){return Wd(this,o,a=="gutter"?"gutter":"class",function(f){var p=a=="text"?"textClass":a=="background"?"bgClass":a=="gutter"?"gutterClass":"wrapClass";if(!f[p])f[p]=d;else{if(Y(d).test(f[p]))return!1;f[p]+=" "+d}return!0})}),removeLineClass:Dr(function(o,a,d){return Wd(this,o,a=="gutter"?"gutter":"class",function(f){var p=a=="text"?"textClass":a=="background"?"bgClass":a=="gutter"?"gutterClass":"wrapClass",A=f[p];if(A)if(d==null)f[p]=null;else{var C=A.match(Y(d));if(!C)return!1;var D=C.index+C[0].length;f[p]=A.slice(0,C.index)+(!C.index||D==A.length?"":" ")+A.slice(D)||null}else return!1;return!0})}),addLineWidget:Dr(function(o,a,d){return P$(this,o,a,d)}),removeLineWidget:function(o){o.clear()},markText:function(o,a,d){return Lc(this,It(this,o),It(this,a),d,d&&d.type||"range")},setBookmark:function(o,a){var d={replacedWith:a&&(a.nodeType==null?a.widget:a),insertLeft:a&&a.insertLeft,clearWhenEmpty:!1,shared:a&&a.shared,handleMouseEvents:a&&a.handleMouseEvents};return o=It(this,o),Lc(this,o,o,d,"bookmark")},findMarksAt:function(o){o=It(this,o);var a=[],d=ct(this,o.line).markedSpans;if(d)for(var f=0;f<d.length;++f){var p=d[f];(p.from==null||p.from<=o.ch)&&(p.to==null||p.to>=o.ch)&&a.push(p.marker.parent||p.marker)}return a},findMarks:function(o,a,d){o=It(this,o),a=It(this,a);var f=[],p=o.line;return this.iter(o.line,a.line+1,function(A){var C=A.markedSpans;if(C)for(var D=0;D<C.length;D++){var L=C[D];!(L.to!=null&&p==o.line&&o.ch>=L.to||L.from==null&&p!=o.line||L.from!=null&&p==a.line&&L.from>=a.ch)&&(!d||d(L.marker))&&f.push(L.marker.parent||L.marker)}++p}),f},getAllMarks:function(){var o=[];return this.iter(function(a){var d=a.markedSpans;if(d)for(var f=0;f<d.length;++f)d[f].from!=null&&o.push(d[f].marker)}),o},posFromIndex:function(o){var a,d=this.first,f=this.lineSeparator().length;return this.iter(function(p){var A=p.text.length+f;if(A>o)return a=o,!0;o-=A,++d}),It(this,Ce(d,a))},indexFromPos:function(o){o=It(this,o);var a=o.ch;if(o.line<this.first||o.ch<0)return 0;var d=this.lineSeparator().length;return this.iter(this.first,o.line,function(f){a+=f.text.length+d}),a},copy:function(o){var a=new Si(so(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return a.scrollTop=this.scrollTop,a.scrollLeft=this.scrollLeft,a.sel=this.sel,a.extend=!1,o&&(a.history.undoDepth=this.history.undoDepth,a.setHistory(this.getHistory())),a},linkedDoc:function(o){o||(o={});var a=this.first,d=this.first+this.size;o.from!=null&&o.from>a&&(a=o.from),o.to!=null&&o.to<d&&(d=o.to);var f=new Si(so(this,a,d),o.mode||this.modeOption,a,this.lineSep,this.direction);return o.sharedHist&&(f.history=this.history),(this.linked||(this.linked=[])).push({doc:f,sharedHist:o.sharedHist}),f.linked=[{doc:this,isParent:!0,sharedHist:o.sharedHist}],B$(f,ER(this)),f},unlinkDoc:function(o){if(o instanceof Pn&&(o=o.doc),this.linked)for(var a=0;a<this.linked.length;++a){var d=this.linked[a];if(d.doc==o){this.linked.splice(a,1),o.unlinkDoc(this),N$(ER(this));break}}if(o.history==this.history){var f=[o.id];qa(o,function(p){return f.push(p.id)},!0),o.history=new mm(null),o.history.done=Mc(this.history.done,f),o.history.undone=Mc(this.history.undone,f)}},iterLinkedDocs:function(o){qa(this,o)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(o){return this.lineSep?o.split(this.lineSep):ir(o)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Dr(function(o){o!="rtl"&&(o="ltr"),o!=this.direction&&(this.direction=o,this.iter(function(a){return a.order=null}),this.cm&&I$(this.cm))})}),Si.prototype.eachLine=Si.prototype.iter;var DR=0;function j$(o){var a=this;if(MR(a),!(pn(a,o)||ao(a.display,o))){Jn(o),c&&(DR=+new Date);var d=Ve(a,o,!0),f=o.dataTransfer.files;if(!(!d||a.isReadOnly()))if(f&&f.length&&window.FileReader&&window.File)for(var p=f.length,A=Array(p),C=0,D=function(){++C==p&&Er(a,function(){d=It(a.doc,d);var fe={from:d,to:d,text:a.doc.splitLines(A.filter(function(Ie){return Ie!=null}).join(a.doc.lineSeparator())),origin:"paste"};Tc(a.doc,fe),hR(a.doc,Ya(It(a.doc,d),It(a.doc,Ja(fe))))})()},L=function(fe,Ie){if(a.options.allowDropFileTypes&&Fe(a.options.allowDropFileTypes,fe.type)==-1){D();return}var Pe=new FileReader;Pe.onerror=function(){return D()},Pe.onload=function(){var We=Pe.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(We)){D();return}A[Ie]=We,D()},Pe.readAsText(fe)},j=0;j<f.length;j++)L(f[j],j);else{if(a.state.draggingText&&a.doc.sel.contains(d)>-1){a.state.draggingText(o),setTimeout(function(){return a.display.input.focus()},20);return}try{var q=o.dataTransfer.getData("Text");if(q){var ee;if(a.state.draggingText&&!a.state.draggingText.copy&&(ee=a.listSelections()),Am(a.doc,Ya(d,d)),ee)for(var ge=0;ge<ee.length;++ge)Oc(a.doc,"",ee[ge].anchor,ee[ge].head,"drag");a.replaceSelection(q,"around","paste"),a.display.input.focus()}}catch{}}}}function z$(o,a){if(c&&(!o.state.draggingText||+new Date-DR<100)){Vt(a);return}if(!(pn(o,a)||ao(o.display,a))&&(a.dataTransfer.setData("Text",o.getSelection()),a.dataTransfer.effectAllowed="copyMove",a.dataTransfer.setDragImage&&!E)){var d=B("img",null,null,"position: fixed; left: 0; top: 0;");d.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",w&&(d.width=d.height=1,o.display.wrapper.appendChild(d),d._top=d.offsetTop),a.dataTransfer.setDragImage(d,0,0),w&&d.parentNode.removeChild(d)}}function H$(o,a){var d=Ve(o,a);if(d){var f=document.createDocumentFragment();Ir(o,d,f),o.display.dragCursor||(o.display.dragCursor=B("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),o.display.lineSpace.insertBefore(o.display.dragCursor,o.display.cursorDiv)),V(o.display.dragCursor,f)}}function MR(o){o.display.dragCursor&&(o.display.lineSpace.removeChild(o.display.dragCursor),o.display.dragCursor=null)}function RR(o){if(document.getElementsByClassName){for(var a=document.getElementsByClassName("CodeMirror"),d=[],f=0;f<a.length;f++){var p=a[f].CodeMirror;p&&d.push(p)}d.length&&d[0].operation(function(){for(var A=0;A<d.length;A++)o(d[A])})}}var TR=!1;function U$(){TR||(W$(),TR=!0)}function W$(){var o;ht(window,"resize",function(){o==null&&(o=setTimeout(function(){o=null,RR(K$)},100))}),ht(window,"blur",function(){return RR(Ic)})}function K$(o){var a=o.display;a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.scrollbarsClipped=!1,o.setSize()}for(var Xa={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Vd=0;Vd<10;Vd++)Xa[Vd+48]=Xa[Vd+96]=String(Vd);for(var wm=65;wm<=90;wm++)Xa[wm]=String.fromCharCode(wm);for(var Yd=1;Yd<=12;Yd++)Xa[Yd+111]=Xa[Yd+63235]="F"+Yd;var Zs={};Zs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Zs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Zs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Zs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Zs.default=W?Zs.macDefault:Zs.pcDefault;function Q$(o){var a=o.split(/-(?!$)/);o=a[a.length-1];for(var d,f,p,A,C=0;C<a.length-1;C++){var D=a[C];if(/^(cmd|meta|m)$/i.test(D))A=!0;else if(/^a(lt)?$/i.test(D))d=!0;else if(/^(c|ctrl|control)$/i.test(D))f=!0;else if(/^s(hift)?$/i.test(D))p=!0;else throw new Error("Unrecognized modifier name: "+D)}return d&&(o="Alt-"+o),f&&(o="Ctrl-"+o),A&&(o="Cmd-"+o),p&&(o="Shift-"+o),o}function $$(o){var a={};for(var d in o)if(o.hasOwnProperty(d)){var f=o[d];if(/^(name|fallthrough|(de|at)tach)$/.test(d))continue;if(f=="..."){delete o[d];continue}for(var p=Dn(d.split(" "),Q$),A=0;A<p.length;A++){var C=void 0,D=void 0;A==p.length-1?(D=p.join(" "),C=f):(D=p.slice(0,A+1).join(" "),C="...");var L=a[D];if(!L)a[D]=C;else if(L!=C)throw new Error("Inconsistent bindings for "+D)}delete o[d]}for(var j in a)o[j]=a[j];return o}function Pc(o,a,d,f){a=Sm(a);var p=a.call?a.call(o,f):a[o];if(p===!1)return"nothing";if(p==="...")return"multi";if(p!=null&&d(p))return"handled";if(a.fallthrough){if(Object.prototype.toString.call(a.fallthrough)!="[object Array]")return Pc(o,a.fallthrough,d,f);for(var A=0;A<a.fallthrough.length;A++){var C=Pc(o,a.fallthrough[A],d,f);if(C)return C}}}function OR(o){var a=typeof o=="string"?o:Xa[o.keyCode];return a=="Ctrl"||a=="Alt"||a=="Shift"||a=="Mod"}function LR(o,a,d){var f=o;return a.altKey&&f!="Alt"&&(o="Alt-"+o),(se?a.metaKey:a.ctrlKey)&&f!="Ctrl"&&(o="Ctrl-"+o),(se?a.ctrlKey:a.metaKey)&&f!="Mod"&&(o="Cmd-"+o),!d&&a.shiftKey&&f!="Shift"&&(o="Shift-"+o),o}function PR(o,a){if(w&&o.keyCode==34&&o.char)return!1;var d=Xa[o.keyCode];return d==null||o.altGraphKey?!1:(o.keyCode==3&&o.code&&(d=o.code),LR(d,o,a))}function Sm(o){return typeof o=="string"?Zs[o]:o}function Fc(o,a){for(var d=o.doc.sel.ranges,f=[],p=0;p<d.length;p++){for(var A=a(d[p]);f.length&&Ze(A.from,Nt(f).to)<=0;){var C=f.pop();if(Ze(C.from,A.from)<0){A.from=C.from;break}}f.push(A)}Wi(o,function(){for(var D=f.length-1;D>=0;D--)Oc(o.doc,"",f[D].from,f[D].to,"+delete");Ec(o)})}function eb(o,a,d){var f=Cn(o.text,a+d,d);return f<0||f>o.text.length?null:f}function tb(o,a,d){var f=eb(o,a.ch,d);return f==null?null:new Ce(a.line,f,d<0?"after":"before")}function nb(o,a,d,f,p){if(o){a.doc.direction=="rtl"&&(p=-p);var A=At(d,a.doc.direction);if(A){var C=p<0?Nt(A):A[0],D=p<0==(C.level==1),L=D?"after":"before",j;if(C.level>0||a.doc.direction=="rtl"){var q=ps(a,d);j=p<0?d.text.length-1:0;var ee=lo(a,q,j).top;j=vn(function(ge){return lo(a,q,ge).top==ee},p<0==(C.level==1)?C.from:C.to-1,j),L=="before"&&(j=eb(d,j,1))}else j=p<0?C.to:C.from;return new Ce(f,j,L)}}return new Ce(f,p<0?d.text.length:0,p<0?"before":"after")}function G$(o,a,d,f){var p=At(a,o.doc.direction);if(!p)return tb(a,d,f);d.ch>=a.text.length?(d.ch=a.text.length,d.sticky="before"):d.ch<=0&&(d.ch=0,d.sticky="after");var A=Ln(p,d.ch,d.sticky),C=p[A];if(o.doc.direction=="ltr"&&C.level%2==0&&(f>0?C.to>d.ch:C.from<d.ch))return tb(a,d,f);var D=function(Xe,ot){return eb(a,Xe instanceof Ce?Xe.ch:Xe,ot)},L,j=function(Xe){return o.options.lineWrapping?(L=L||ps(o,a),pe(o,a,L,Xe)):{begin:0,end:a.text.length}},q=j(d.sticky=="before"?D(d,-1):d.ch);if(o.doc.direction=="rtl"||C.level==1){var ee=C.level==1==f<0,ge=D(d,ee?1:-1);if(ge!=null&&(ee?ge<=C.to&&ge<=q.end:ge>=C.from&&ge>=q.begin)){var fe=ee?"before":"after";return new Ce(d.line,ge,fe)}}var Ie=function(Xe,ot,et){for(var lt=function(wn,Mr){return Mr?new Ce(d.line,D(wn,1),"before"):new Ce(d.line,wn,"after")};Xe>=0&&Xe<p.length;Xe+=ot){var xt=p[Xe],mt=ot>0==(xt.level!=1),jt=mt?et.begin:D(et.end,-1);if(xt.from<=jt&&jt<xt.to||(jt=mt?xt.from:D(xt.to,-1),et.begin<=jt&&jt<et.end))return lt(jt,mt)}},Pe=Ie(A+f,f,q);if(Pe)return Pe;var We=f>0?q.end:D(q.begin,-1);return We!=null&&!(f>0&&We==a.text.length)&&(Pe=Ie(f>0?0:p.length-1,f,j(We)),Pe)?Pe:null}var Jd={selectAll:vR,singleSelection:function(o){return o.setSelection(o.getCursor("anchor"),o.getCursor("head"),Ne)},killLine:function(o){return Fc(o,function(a){if(a.empty()){var d=ct(o.doc,a.head.line).text.length;return a.head.ch==d&&a.head.line<o.lastLine()?{from:a.head,to:Ce(a.head.line+1,0)}:{from:a.head,to:Ce(a.head.line,d)}}else return{from:a.from(),to:a.to()}})},deleteLine:function(o){return Fc(o,function(a){return{from:Ce(a.from().line,0),to:It(o.doc,Ce(a.to().line+1,0))}})},delLineLeft:function(o){return Fc(o,function(a){return{from:Ce(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(o){return Fc(o,function(a){var d=o.charCoords(a.head,"div").top+5,f=o.coordsChar({left:0,top:d},"div");return{from:f,to:a.from()}})},delWrappedLineRight:function(o){return Fc(o,function(a){var d=o.charCoords(a.head,"div").top+5,f=o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:d},"div");return{from:a.from(),to:f}})},undo:function(o){return o.undo()},redo:function(o){return o.redo()},undoSelection:function(o){return o.undoSelection()},redoSelection:function(o){return o.redoSelection()},goDocStart:function(o){return o.extendSelection(Ce(o.firstLine(),0))},goDocEnd:function(o){return o.extendSelection(Ce(o.lastLine()))},goLineStart:function(o){return o.extendSelectionsBy(function(a){return FR(o,a.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(o){return o.extendSelectionsBy(function(a){return BR(o,a.head)},{origin:"+move",bias:1})},goLineEnd:function(o){return o.extendSelectionsBy(function(a){return V$(o,a.head.line)},{origin:"+move",bias:-1})},goLineRight:function(o){return o.extendSelectionsBy(function(a){var d=o.cursorCoords(a.head,"div").top+5;return o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:d},"div")},Ht)},goLineLeft:function(o){return o.extendSelectionsBy(function(a){var d=o.cursorCoords(a.head,"div").top+5;return o.coordsChar({left:0,top:d},"div")},Ht)},goLineLeftSmart:function(o){return o.extendSelectionsBy(function(a){var d=o.cursorCoords(a.head,"div").top+5,f=o.coordsChar({left:0,top:d},"div");return f.ch<o.getLine(f.line).search(/\S/)?BR(o,a.head):f},Ht)},goLineUp:function(o){return o.moveV(-1,"line")},goLineDown:function(o){return o.moveV(1,"line")},goPageUp:function(o){return o.moveV(-1,"page")},goPageDown:function(o){return o.moveV(1,"page")},goCharLeft:function(o){return o.moveH(-1,"char")},goCharRight:function(o){return o.moveH(1,"char")},goColumnLeft:function(o){return o.moveH(-1,"column")},goColumnRight:function(o){return o.moveH(1,"column")},goWordLeft:function(o){return o.moveH(-1,"word")},goGroupRight:function(o){return o.moveH(1,"group")},goGroupLeft:function(o){return o.moveH(-1,"group")},goWordRight:function(o){return o.moveH(1,"word")},delCharBefore:function(o){return o.deleteH(-1,"codepoint")},delCharAfter:function(o){return o.deleteH(1,"char")},delWordBefore:function(o){return o.deleteH(-1,"word")},delWordAfter:function(o){return o.deleteH(1,"word")},delGroupBefore:function(o){return o.deleteH(-1,"group")},delGroupAfter:function(o){return o.deleteH(1,"group")},indentAuto:function(o){return o.indentSelection("smart")},indentMore:function(o){return o.indentSelection("add")},indentLess:function(o){return o.indentSelection("subtract")},insertTab:function(o){return o.replaceSelection("	")},insertSoftTab:function(o){for(var a=[],d=o.listSelections(),f=o.options.tabSize,p=0;p<d.length;p++){var A=d[p].from(),C=Se(o.getLine(A.line),A.ch,f);a.push(oi(f-C%f))}o.replaceSelections(a)},defaultTab:function(o){o.somethingSelected()?o.indentSelection("add"):o.execCommand("insertTab")},transposeChars:function(o){return Wi(o,function(){for(var a=o.listSelections(),d=[],f=0;f<a.length;f++)if(a[f].empty()){var p=a[f].head,A=ct(o.doc,p.line).text;if(A){if(p.ch==A.length&&(p=new Ce(p.line,p.ch-1)),p.ch>0)p=new Ce(p.line,p.ch+1),o.replaceRange(A.charAt(p.ch-1)+A.charAt(p.ch-2),Ce(p.line,p.ch-2),p,"+transpose");else if(p.line>o.doc.first){var C=ct(o.doc,p.line-1).text;C&&(p=new Ce(p.line,1),o.replaceRange(A.charAt(0)+o.doc.lineSeparator()+C.charAt(C.length-1),Ce(p.line-1,C.length-1),p,"+transpose"))}}d.push(new on(p,p))}o.setSelections(d)})},newlineAndIndent:function(o){return Wi(o,function(){for(var a=o.listSelections(),d=a.length-1;d>=0;d--)o.replaceRange(o.doc.lineSeparator(),a[d].anchor,a[d].head,"+input");a=o.listSelections();for(var f=0;f<a.length;f++)o.indentLine(a[f].from().line,null,!0);Ec(o)})},openLine:function(o){return o.replaceSelection(`
`,"start")},toggleOverwrite:function(o){return o.toggleOverwrite()}};function FR(o,a){var d=ct(o.doc,a),f=bi(d);return f!=d&&(a=U(f)),nb(!0,o,f,a,1)}function V$(o,a){var d=ct(o.doc,a),f=Lx(d);return f!=d&&(a=U(f)),nb(!0,o,d,a,-1)}function BR(o,a){var d=FR(o,a.line),f=ct(o.doc,d.line),p=At(f,o.doc.direction);if(!p||p[0].level==0){var A=Math.max(d.ch,f.text.search(/\S/)),C=a.line==d.line&&a.ch<=A&&a.ch;return Ce(d.line,C?0:A,d.sticky)}return d}function Cm(o,a,d){if(typeof a=="string"&&(a=Jd[a],!a))return!1;o.display.input.ensurePolled();var f=o.display.shift,p=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),d&&(o.display.shift=!1),p=a(o)!=tt}finally{o.display.shift=f,o.state.suppressEdits=!1}return p}function Y$(o,a,d){for(var f=0;f<o.state.keyMaps.length;f++){var p=Pc(a,o.state.keyMaps[f],d,o);if(p)return p}return o.options.extraKeys&&Pc(a,o.options.extraKeys,d,o)||Pc(a,o.options.keyMap,d,o)}var J$=new Ee;function qd(o,a,d,f){var p=o.state.keySeq;if(p){if(OR(a))return"handled";if(/\'$/.test(a)?o.state.keySeq=null:J$.set(50,function(){o.state.keySeq==p&&(o.state.keySeq=null,o.display.input.reset())}),NR(o,p+" "+a,d,f))return!0}return NR(o,a,d,f)}function NR(o,a,d,f){var p=Y$(o,a,f);return p=="multi"&&(o.state.keySeq=a),p=="handled"&&Qn(o,"keyHandled",o,a,d),(p=="handled"||p=="multi")&&(Jn(d),_x(o)),!!p}function _R(o,a){var d=PR(a,!0);return d?a.shiftKey&&!o.state.keySeq?qd(o,"Shift-"+d,a,function(f){return Cm(o,f,!0)})||qd(o,d,a,function(f){if(typeof f=="string"?/^go[A-Z]/.test(f):f.motion)return Cm(o,f)}):qd(o,d,a,function(f){return Cm(o,f)}):!1}function q$(o,a,d){return qd(o,"'"+d+"'",a,function(f){return Cm(o,f,!0)})}var rb=null;function jR(o){var a=this;if(!(o.target&&o.target!=a.display.input.getField())&&(a.curOp.focus=ae(_e(a)),!pn(a,o))){c&&h<11&&o.keyCode==27&&(o.returnValue=!1);var d=o.keyCode;a.display.shift=d==16||o.shiftKey;var f=_R(a,o);w&&(rb=f?d:null,!f&&d==88&&!xn&&(W?o.metaKey:o.ctrlKey)&&a.replaceSelection("",null,"cut")),i&&!W&&!f&&d==46&&o.shiftKey&&!o.ctrlKey&&document.execCommand&&document.execCommand("cut"),d==18&&!/\bCodeMirror-crosshair\b/.test(a.display.lineDiv.className)&&Z$(a)}}function Z$(o){var a=o.display.lineDiv;N(a,"CodeMirror-crosshair");function d(f){(f.keyCode==18||!f.altKey)&&(re(a,"CodeMirror-crosshair"),Wn(document,"keyup",d),Wn(document,"mouseover",d))}ht(document,"keyup",d),ht(document,"mouseover",d)}function zR(o){o.keyCode==16&&(this.doc.sel.shift=!1),pn(this,o)}function HR(o){var a=this;if(!(o.target&&o.target!=a.display.input.getField())&&!(ao(a.display,o)||pn(a,o)||o.ctrlKey&&!o.altKey||W&&o.metaKey)){var d=o.keyCode,f=o.charCode;if(w&&d==rb){rb=null,Jn(o);return}if(!(w&&(!o.which||o.which<10)&&_R(a,o))){var p=String.fromCharCode(f??d);p!="\b"&&(q$(a,o,p)||a.display.input.onKeyPress(o))}}}var X$=400,ib=function(o,a,d){this.time=o,this.pos=a,this.button=d};ib.prototype.compare=function(o,a,d){return this.time+X$>o&&Ze(a,this.pos)==0&&d==this.button};var Zd,Xd;function eG(o,a){var d=+new Date;return Xd&&Xd.compare(d,o,a)?(Zd=Xd=null,"triple"):Zd&&Zd.compare(d,o,a)?(Xd=new ib(d,o,a),Zd=null,"double"):(Zd=new ib(d,o,a),Xd=null,"single")}function UR(o){var a=this,d=a.display;if(!(pn(a,o)||d.activeTouch&&d.input.supportsTouch())){if(d.input.ensurePolled(),d.shift=o.shiftKey,ao(d,o)){g||(d.scroller.draggable=!1,setTimeout(function(){return d.scroller.draggable=!0},100));return}if(!ob(a,o)){var f=Ve(a,o),p=pt(o),A=f?eG(f,p):"single";Oe(a).focus(),p==1&&a.state.selectingText&&a.state.selectingText(o),!(f&&tG(a,p,f,A,o))&&(p==1?f?rG(a,f,A,o):en(o)==d.scroller&&Jn(o):p==2?(f&&vm(a.doc,f),setTimeout(function(){return d.input.focus()},20)):p==3&&(F?a.display.input.onContextMenu(o):jx(a)))}}}function tG(o,a,d,f,p){var A="Click";return f=="double"?A="Double"+A:f=="triple"&&(A="Triple"+A),A=(a==1?"Left":a==2?"Middle":"Right")+A,qd(o,LR(A,p),p,function(C){if(typeof C=="string"&&(C=Jd[C]),!C)return!1;var D=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),D=C(o,d)!=tt}finally{o.state.suppressEdits=!1}return D})}function nG(o,a,d){var f=o.getOption("configureMouse"),p=f?f(o,a,d):{};if(p.unit==null){var A=z?d.shiftKey&&d.metaKey:d.altKey;p.unit=A?"rectangle":a=="single"?"char":a=="double"?"word":"line"}return(p.extend==null||o.doc.extend)&&(p.extend=o.doc.extend||d.shiftKey),p.addNew==null&&(p.addNew=W?d.metaKey:d.ctrlKey),p.moveOnDrag==null&&(p.moveOnDrag=!(W?d.altKey:d.ctrlKey)),p}function rG(o,a,d,f){c?setTimeout(Ue(WM,o),0):o.curOp.focus=ae(_e(o));var p=nG(o,d,f),A=o.doc.sel,C;o.options.dragDrop&&yt&&!o.isReadOnly()&&d=="single"&&(C=A.contains(a))>-1&&(Ze((C=A.ranges[C]).from(),a)<0||a.xRel>0)&&(Ze(C.to(),a)>0||a.xRel<0)?iG(o,f,a,p):oG(o,f,a,p)}function iG(o,a,d,f){var p=o.display,A=!1,C=Er(o,function(j){g&&(p.scroller.draggable=!1),o.state.draggingText=!1,o.state.delayingBlurEvent&&(o.hasFocus()?o.state.delayingBlurEvent=!1:jx(o)),Wn(p.wrapper.ownerDocument,"mouseup",C),Wn(p.wrapper.ownerDocument,"mousemove",D),Wn(p.scroller,"dragstart",L),Wn(p.scroller,"drop",C),A||(Jn(j),f.addNew||vm(o.doc,d,null,null,f.extend),g&&!E||c&&h==9?setTimeout(function(){p.wrapper.ownerDocument.body.focus({preventScroll:!0}),p.input.focus()},20):p.input.focus())}),D=function(j){A=A||Math.abs(a.clientX-j.clientX)+Math.abs(a.clientY-j.clientY)>=10},L=function(){return A=!0};g&&(p.scroller.draggable=!0),o.state.draggingText=C,C.copy=!f.moveOnDrag,ht(p.wrapper.ownerDocument,"mouseup",C),ht(p.wrapper.ownerDocument,"mousemove",D),ht(p.scroller,"dragstart",L),ht(p.scroller,"drop",C),o.state.delayingBlurEvent=!0,setTimeout(function(){return p.input.focus()},20),p.scroller.dragDrop&&p.scroller.dragDrop()}function WR(o,a,d){if(d=="char")return new on(a,a);if(d=="word")return o.findWordAt(a);if(d=="line")return new on(Ce(a.line,0),It(o.doc,Ce(a.line+1,0)));var f=d(o,a);return new on(f.from,f.to)}function oG(o,a,d,f){c&&jx(o);var p=o.display,A=o.doc;Jn(a);var C,D,L=A.sel,j=L.ranges;if(f.addNew&&!f.extend?(D=A.sel.contains(d),D>-1?C=j[D]:C=new on(d,d)):(C=A.sel.primary(),D=A.sel.primIndex),f.unit=="rectangle")f.addNew||(C=new on(d,d)),d=Ve(o,a,!0,!0),D=-1;else{var q=WR(o,d,f.unit);f.extend?C=Zx(C,q.anchor,q.head,f.extend):C=q}f.addNew?D==-1?(D=j.length,Vr(A,jo(o,j.concat([C]),D),{scroll:!1,origin:"*mouse"})):j.length>1&&j[D].empty()&&f.unit=="char"&&!f.extend?(Vr(A,jo(o,j.slice(0,D).concat(j.slice(D+1)),0),{scroll:!1,origin:"*mouse"}),L=A.sel):Xx(A,D,C,Pt):(D=0,Vr(A,new uo([C],0),Pt),L=A.sel);var ee=d;function ge(et){if(Ze(ee,et)!=0)if(ee=et,f.unit=="rectangle"){for(var lt=[],xt=o.options.tabSize,mt=Se(ct(A,d.line).text,d.ch,xt),jt=Se(ct(A,et.line).text,et.ch,xt),wn=Math.min(mt,jt),Mr=Math.max(mt,jt),_n=Math.min(d.line,et.line),Ki=Math.min(o.lastLine(),Math.max(d.line,et.line));_n<=Ki;_n++){var Ci=ct(A,_n).text,or=Yt(Ci,wn,xt);wn==Mr?lt.push(new on(Ce(_n,or),Ce(_n,or))):Ci.length>or&&lt.push(new on(Ce(_n,or),Ce(_n,Yt(Ci,Mr,xt))))}lt.length||lt.push(new on(d,d)),Vr(A,jo(o,L.ranges.slice(0,D).concat(lt),D),{origin:"*mouse",scroll:!1}),o.scrollIntoView(et)}else{var ki=C,Hr=WR(o,et,f.unit),gr=ki.anchor,sr;Ze(Hr.anchor,gr)>0?(sr=Hr.head,gr=Ws(ki.from(),Hr.anchor)):(sr=Hr.anchor,gr=_r(ki.to(),Hr.head));var $n=L.ranges.slice(0);$n[D]=sG(o,new on(It(A,gr),sr)),Vr(A,jo(o,$n,D),Pt)}}var fe=p.wrapper.getBoundingClientRect(),Ie=0;function Pe(et){var lt=++Ie,xt=Ve(o,et,!0,f.unit=="rectangle");if(xt)if(Ze(xt,ee)!=0){o.curOp.focus=ae(_e(o)),ge(xt);var mt=dm(p,A);(xt.line>=mt.to||xt.line<mt.from)&&setTimeout(Er(o,function(){Ie==lt&&Pe(et)}),150)}else{var jt=et.clientY<fe.top?-20:et.clientY>fe.bottom?20:0;jt&&setTimeout(Er(o,function(){Ie==lt&&(p.scroller.scrollTop+=jt,Pe(et))}),50)}}function We(et){o.state.selectingText=!1,Ie=1/0,et&&(Jn(et),p.input.focus()),Wn(p.wrapper.ownerDocument,"mousemove",Xe),Wn(p.wrapper.ownerDocument,"mouseup",ot),A.history.lastSelOrigin=null}var Xe=Er(o,function(et){et.buttons===0||!pt(et)?We(et):Pe(et)}),ot=Er(o,We);o.state.selectingText=ot,ht(p.wrapper.ownerDocument,"mousemove",Xe),ht(p.wrapper.ownerDocument,"mouseup",ot)}function sG(o,a){var d=a.anchor,f=a.head,p=ct(o.doc,d.line);if(Ze(d,f)==0&&d.sticky==f.sticky)return a;var A=At(p);if(!A)return a;var C=Ln(A,d.ch,d.sticky),D=A[C];if(D.from!=d.ch&&D.to!=d.ch)return a;var L=C+(D.from==d.ch==(D.level!=1)?0:1);if(L==0||L==A.length)return a;var j;if(f.line!=d.line)j=(f.line-d.line)*(o.doc.direction=="ltr"?1:-1)>0;else{var q=Ln(A,f.ch,f.sticky),ee=q-C||(f.ch-d.ch)*(D.level==1?-1:1);q==L-1||q==L?j=ee<0:j=ee>0}var ge=A[L+(j?-1:0)],fe=j==(ge.level==1),Ie=fe?ge.from:ge.to,Pe=fe?"after":"before";return d.ch==Ie&&d.sticky==Pe?a:new on(new Ce(d.line,Ie,Pe),f)}function KR(o,a,d,f){var p,A;if(a.touches)p=a.touches[0].clientX,A=a.touches[0].clientY;else try{p=a.clientX,A=a.clientY}catch{return!1}if(p>=Math.floor(o.display.gutters.getBoundingClientRect().right))return!1;f&&Jn(a);var C=o.display,D=C.lineDiv.getBoundingClientRect();if(A>D.bottom||!fr(o,d))return dt(a);A-=D.top-C.viewOffset;for(var L=0;L<o.display.gutterSpecs.length;++L){var j=C.gutters.childNodes[L];if(j&&j.getBoundingClientRect().right>=p){var q=X(o.doc,A),ee=o.display.gutterSpecs[L];return An(o,d,o,q,ee.className,a),dt(a)}}}function ob(o,a){return KR(o,a,"gutterClick",!0)}function QR(o,a){ao(o.display,a)||aG(o,a)||pn(o,a,"contextmenu")||F||o.display.input.onContextMenu(a)}function aG(o,a){return fr(o,"gutterContextMenu")?KR(o,a,"gutterContextMenu",!1):!1}function $R(o){o.display.wrapper.className=o.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+o.options.theme.replace(/(^|\s)\s*/g," cm-s-"),I(o)}var Bc={toString:function(){return"CodeMirror.Init"}},GR={},km={};function lG(o){var a=o.optionHandlers;function d(f,p,A,C){o.defaults[f]=p,A&&(a[f]=C?function(D,L,j){j!=Bc&&A(D,L,j)}:A)}o.defineOption=d,o.Init=Bc,d("value","",function(f,p){return f.setValue(p)},!0),d("mode",null,function(f,p){f.doc.modeOption=p,Yx(f)},!0),d("indentUnit",2,Yx,!0),d("indentWithTabs",!1),d("smartIndent",!0),d("tabSize",4,function(f){Hd(f),I(f),vt(f)},!0),d("lineSeparator",null,function(f,p){if(f.doc.lineSep=p,!!p){var A=[],C=f.doc.first;f.doc.iter(function(L){for(var j=0;;){var q=L.text.indexOf(p,j);if(q==-1)break;j=q+p.length,A.push(Ce(C,q))}C++});for(var D=A.length-1;D>=0;D--)Oc(f.doc,p,A[D],Ce(A[D].line,A[D].ch+p.length))}}),d("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(f,p,A){f.state.specialChars=new RegExp(p.source+(p.test("	")?"":"|	"),"g"),A!=Bc&&f.refresh()}),d("specialCharPlaceholder",jr,function(f){return f.refresh()},!0),d("electricChars",!0),d("inputStyle",P?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),d("spellcheck",!1,function(f,p){return f.getInputField().spellcheck=p},!0),d("autocorrect",!1,function(f,p){return f.getInputField().autocorrect=p},!0),d("autocapitalize",!1,function(f,p){return f.getInputField().autocapitalize=p},!0),d("rtlMoveVisually",!Q),d("wholeLineUpdateBefore",!0),d("theme","default",function(f){$R(f),zd(f)},!0),d("keyMap","default",function(f,p,A){var C=Sm(p),D=A!=Bc&&Sm(A);D&&D.detach&&D.detach(f,C),C.attach&&C.attach(f,D||null)}),d("extraKeys",null),d("configureMouse",null),d("lineWrapping",!1,cG,!0),d("gutters",[],function(f,p){f.display.gutterSpecs=Gx(p,f.options.lineNumbers),zd(f)},!0),d("fixedGutter",!0,function(f,p){f.display.gutters.style.left=p?Ke(f.display)+"px":"0",f.refresh()},!0),d("coverGutterNextToScrollbar",!1,function(f){return Dc(f)},!0),d("scrollbarStyle","native",function(f){YM(f),Dc(f),f.display.scrollbars.setScrollTop(f.doc.scrollTop),f.display.scrollbars.setScrollLeft(f.doc.scrollLeft)},!0),d("lineNumbers",!1,function(f,p){f.display.gutterSpecs=Gx(f.options.gutters,p),zd(f)},!0),d("firstLineNumber",1,zd,!0),d("lineNumberFormatter",function(f){return f},zd,!0),d("showCursorWhenSelecting",!1,Xn,!0),d("resetSelectionOnContextMenu",!0),d("lineWiseCopyCut",!0),d("pasteLinesPerSelection",!0),d("selectionsMayTouch",!1),d("readOnly",!1,function(f,p){p=="nocursor"&&(Ic(f),f.display.input.blur()),f.display.input.readOnlyChanged(p)}),d("screenReaderLabel",null,function(f,p){p=p===""?null:p,f.display.input.screenReaderLabelChanged(p)}),d("disableInput",!1,function(f,p){p||f.display.input.reset()},!0),d("dragDrop",!0,uG),d("allowDropFileTypes",null),d("cursorBlinkRate",530),d("cursorScrollMargin",0),d("cursorHeight",1,Xn,!0),d("singleCursorHeightPerLine",!0,Xn,!0),d("workTime",100),d("workDelay",100),d("flattenSpans",!0,Hd,!0),d("addModeClass",!1,Hd,!0),d("pollInterval",100),d("undoDepth",200,function(f,p){return f.doc.history.undoDepth=p}),d("historyEventDelay",1250),d("viewportMargin",10,function(f){return f.refresh()},!0),d("maxHighlightLength",1e4,Hd,!0),d("moveInputWithCursor",!0,function(f,p){p||f.display.input.resetPosition()}),d("tabindex",null,function(f,p){return f.display.input.getField().tabIndex=p||""}),d("autofocus",null),d("direction","ltr",function(f,p){return f.doc.setDirection(p)},!0),d("phrases",null)}function uG(o,a,d){var f=d&&d!=Bc;if(!a!=!f){var p=o.display.dragFunctions,A=a?ht:Wn;A(o.display.scroller,"dragstart",p.start),A(o.display.scroller,"dragenter",p.enter),A(o.display.scroller,"dragover",p.over),A(o.display.scroller,"dragleave",p.leave),A(o.display.scroller,"drop",p.drop)}}function cG(o){o.options.lineWrapping?(N(o.display.wrapper,"CodeMirror-wrap"),o.display.sizer.style.minWidth="",o.display.sizerWidth=null):(re(o.display.wrapper,"CodeMirror-wrap"),Ka(o)),rt(o),vt(o),I(o),setTimeout(function(){return Dc(o)},100)}function Pn(o,a){var d=this;if(!(this instanceof Pn))return new Pn(o,a);this.options=a=a?oe(a):{},oe(GR,a,!1);var f=a.value;typeof f=="string"?f=new Si(f,a.mode,null,a.lineSeparator,a.direction):a.mode&&(f.modeOption=a.mode),this.doc=f;var p=new Pn.inputStyles[a.inputStyle](this),A=this.display=new S$(o,f,p,a);A.wrapper.CodeMirror=this,$R(this),a.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),YM(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ee,keySeq:null,specialChars:null},a.autofocus&&!P&&A.input.focus(),c&&h<11&&setTimeout(function(){return d.display.input.reset(!0)},20),fG(this),U$(),tu(this),this.curOp.forceUpdate=!0,oR(this,f),a.autofocus&&!P||this.hasFocus()?setTimeout(function(){d.hasFocus()&&!d.state.focused&&zx(d)},20):Ic(this);for(var C in km)km.hasOwnProperty(C)&&km[C](this,a[C],Bc);ZM(this),a.finishInit&&a.finishInit(this);for(var D=0;D<sb.length;++D)sb[D](this);nu(this),g&&a.lineWrapping&&getComputedStyle(A.lineDiv).textRendering=="optimizelegibility"&&(A.lineDiv.style.textRendering="auto")}Pn.defaults=GR,Pn.optionHandlers=km;function fG(o){var a=o.display;ht(a.scroller,"mousedown",Er(o,UR)),c&&h<11?ht(a.scroller,"dblclick",Er(o,function(L){if(!pn(o,L)){var j=Ve(o,L);if(!(!j||ob(o,L)||ao(o.display,L))){Jn(L);var q=o.findWordAt(j);vm(o.doc,q.anchor,q.head)}}})):ht(a.scroller,"dblclick",function(L){return pn(o,L)||Jn(L)}),ht(a.scroller,"contextmenu",function(L){return QR(o,L)}),ht(a.input.getField(),"contextmenu",function(L){a.scroller.contains(L.target)||QR(o,L)});var d,f={end:0};function p(){a.activeTouch&&(d=setTimeout(function(){return a.activeTouch=null},1e3),f=a.activeTouch,f.end=+new Date)}function A(L){if(L.touches.length!=1)return!1;var j=L.touches[0];return j.radiusX<=1&&j.radiusY<=1}function C(L,j){if(j.left==null)return!0;var q=j.left-L.left,ee=j.top-L.top;return q*q+ee*ee>20*20}ht(a.scroller,"touchstart",function(L){if(!pn(o,L)&&!A(L)&&!ob(o,L)){a.input.ensurePolled(),clearTimeout(d);var j=+new Date;a.activeTouch={start:j,moved:!1,prev:j-f.end<=300?f:null},L.touches.length==1&&(a.activeTouch.left=L.touches[0].pageX,a.activeTouch.top=L.touches[0].pageY)}}),ht(a.scroller,"touchmove",function(){a.activeTouch&&(a.activeTouch.moved=!0)}),ht(a.scroller,"touchend",function(L){var j=a.activeTouch;if(j&&!ao(a,L)&&j.left!=null&&!j.moved&&new Date-j.start<300){var q=o.coordsChar(a.activeTouch,"page"),ee;!j.prev||C(j,j.prev)?ee=new on(q,q):!j.prev.prev||C(j,j.prev.prev)?ee=o.findWordAt(q):ee=new on(Ce(q.line,0),It(o.doc,Ce(q.line+1,0))),o.setSelection(ee.anchor,ee.head),o.focus(),Jn(L)}p()}),ht(a.scroller,"touchcancel",p),ht(a.scroller,"scroll",function(){a.scroller.clientHeight&&(Bd(o,a.scroller.scrollTop),Xl(o,a.scroller.scrollLeft,!0),An(o,"scroll",o))}),ht(a.scroller,"mousewheel",function(L){return tR(o,L)}),ht(a.scroller,"DOMMouseScroll",function(L){return tR(o,L)}),ht(a.wrapper,"scroll",function(){return a.wrapper.scrollTop=a.wrapper.scrollLeft=0}),a.dragFunctions={enter:function(L){pn(o,L)||Vt(L)},over:function(L){pn(o,L)||(H$(o,L),Vt(L))},start:function(L){return z$(o,L)},drop:Er(o,j$),leave:function(L){pn(o,L)||MR(o)}};var D=a.input.getField();ht(D,"keyup",function(L){return zR.call(o,L)}),ht(D,"keydown",Er(o,jR)),ht(D,"keypress",Er(o,HR)),ht(D,"focus",function(L){return zx(o,L)}),ht(D,"blur",function(L){return Ic(o,L)})}var sb=[];Pn.defineInitHook=function(o){return sb.push(o)};function eh(o,a,d,f){var p=o.doc,A;d==null&&(d="add"),d=="smart"&&(p.mode.indent?A=cs(o,a).state:d="prev");var C=o.options.tabSize,D=ct(p,a),L=Se(D.text,null,C);D.stateAfter&&(D.stateAfter=null);var j=D.text.match(/^\s*/)[0],q;if(!f&&!/\S/.test(D.text))q=0,d="not";else if(d=="smart"&&(q=p.mode.indent(A,D.text.slice(j.length),D.text),q==tt||q>150)){if(!f)return;d="prev"}d=="prev"?a>p.first?q=Se(ct(p,a-1).text,null,C):q=0:d=="add"?q=L+o.options.indentUnit:d=="subtract"?q=L-o.options.indentUnit:typeof d=="number"&&(q=L+d),q=Math.max(0,q);var ee="",ge=0;if(o.options.indentWithTabs)for(var fe=Math.floor(q/C);fe;--fe)ge+=C,ee+="	";if(ge<q&&(ee+=oi(q-ge)),ee!=j)return Oc(p,ee,Ce(a,0),Ce(a,j.length),"+input"),D.stateAfter=null,!0;for(var Ie=0;Ie<p.sel.ranges.length;Ie++){var Pe=p.sel.ranges[Ie];if(Pe.head.line==a&&Pe.head.ch<j.length){var We=Ce(a,j.length);Xx(p,Ie,new on(We,We));break}}}var zo=null;function Im(o){zo=o}function ab(o,a,d,f,p){var A=o.doc;o.display.shift=!1,f||(f=A.sel);var C=+new Date-200,D=p=="paste"||o.state.pasteIncoming>C,L=ir(a),j=null;if(D&&f.ranges.length>1)if(zo&&zo.text.join(`
`)==a){if(f.ranges.length%zo.text.length==0){j=[];for(var q=0;q<zo.text.length;q++)j.push(A.splitLines(zo.text[q]))}}else L.length==f.ranges.length&&o.options.pasteLinesPerSelection&&(j=Dn(L,function(Xe){return[Xe]}));for(var ee=o.curOp.updateInput,ge=f.ranges.length-1;ge>=0;ge--){var fe=f.ranges[ge],Ie=fe.from(),Pe=fe.to();fe.empty()&&(d&&d>0?Ie=Ce(Ie.line,Ie.ch-d):o.state.overwrite&&!D?Pe=Ce(Pe.line,Math.min(ct(A,Pe.line).text.length,Pe.ch+Nt(L).length)):D&&zo&&zo.lineWise&&zo.text.join(`
`)==L.join(`
`)&&(Ie=Pe=Ce(Ie.line,0)));var We={from:Ie,to:Pe,text:j?j[ge%j.length]:L,origin:p||(D?"paste":o.state.cutIncoming>C?"cut":"+input")};Tc(o.doc,We),Qn(o,"inputRead",o,We)}a&&!D&&YR(o,a),Ec(o),o.curOp.updateInput<2&&(o.curOp.updateInput=ee),o.curOp.typing=!0,o.state.pasteIncoming=o.state.cutIncoming=-1}function VR(o,a){var d=o.clipboardData&&o.clipboardData.getData("Text");if(d)return o.preventDefault(),!a.isReadOnly()&&!a.options.disableInput&&a.hasFocus()&&Wi(a,function(){return ab(a,d,0,null,"paste")}),!0}function YR(o,a){if(!(!o.options.electricChars||!o.options.smartIndent))for(var d=o.doc.sel,f=d.ranges.length-1;f>=0;f--){var p=d.ranges[f];if(!(p.head.ch>100||f&&d.ranges[f-1].head.line==p.head.line)){var A=o.getModeAt(p.head),C=!1;if(A.electricChars){for(var D=0;D<A.electricChars.length;D++)if(a.indexOf(A.electricChars.charAt(D))>-1){C=eh(o,p.head.line,"smart");break}}else A.electricInput&&A.electricInput.test(ct(o.doc,p.head.line).text.slice(0,p.head.ch))&&(C=eh(o,p.head.line,"smart"));C&&Qn(o,"electricInput",o,p.head.line)}}}function JR(o){for(var a=[],d=[],f=0;f<o.doc.sel.ranges.length;f++){var p=o.doc.sel.ranges[f].head.line,A={anchor:Ce(p,0),head:Ce(p+1,0)};d.push(A),a.push(o.getRange(A.anchor,A.head))}return{text:a,ranges:d}}function lb(o,a,d,f){o.setAttribute("autocorrect",d?"on":"off"),o.setAttribute("autocapitalize",f?"on":"off"),o.setAttribute("spellcheck",!!a)}function qR(){var o=B("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),a=B("div",[o],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return g?o.style.width="1000px":o.setAttribute("wrap","off"),k&&(o.style.border="1px solid black"),a}function dG(o){var a=o.optionHandlers,d=o.helpers={};o.prototype={constructor:o,focus:function(){Oe(this).focus(),this.display.input.focus()},setOption:function(f,p){var A=this.options,C=A[f];A[f]==p&&f!="mode"||(A[f]=p,a.hasOwnProperty(f)&&Er(this,a[f])(this,p,C),An(this,"optionChange",this,f))},getOption:function(f){return this.options[f]},getDoc:function(){return this.doc},addKeyMap:function(f,p){this.state.keyMaps[p?"push":"unshift"](Sm(f))},removeKeyMap:function(f){for(var p=this.state.keyMaps,A=0;A<p.length;++A)if(p[A]==f||p[A].name==f)return p.splice(A,1),!0},addOverlay:li(function(f,p){var A=f.token?f:o.getMode(this.options,f);if(A.startState)throw new Error("Overlays may not be stateful.");xo(this.state.overlays,{mode:A,modeSpec:f,opaque:p&&p.opaque,priority:p&&p.priority||0},function(C){return C.priority}),this.state.modeGen++,vt(this)}),removeOverlay:li(function(f){for(var p=this.state.overlays,A=0;A<p.length;++A){var C=p[A].modeSpec;if(C==f||typeof f=="string"&&C.name==f){p.splice(A,1),this.state.modeGen++,vt(this);return}}}),indentLine:li(function(f,p,A){typeof p!="string"&&typeof p!="number"&&(p==null?p=this.options.smartIndent?"smart":"prev":p=p?"add":"subtract"),be(this.doc,f)&&eh(this,f,p,A)}),indentSelection:li(function(f){for(var p=this.doc.sel.ranges,A=-1,C=0;C<p.length;C++){var D=p[C];if(D.empty())D.head.line>A&&(eh(this,D.head.line,f,!0),A=D.head.line,C==this.doc.sel.primIndex&&Ec(this));else{var L=D.from(),j=D.to(),q=Math.max(A,L.line);A=Math.min(this.lastLine(),j.line-(j.ch?0:1))+1;for(var ee=q;ee<A;++ee)eh(this,ee,f);var ge=this.doc.sel.ranges;L.ch==0&&p.length==ge.length&&ge[C].from().ch>0&&Xx(this.doc,C,new on(L,ge[C].to()),Ne)}}}),getTokenAt:function(f,p){return qg(this,f,p)},getLineTokens:function(f,p){return qg(this,Ce(f),p,!0)},getTokenTypeAt:function(f){f=It(this.doc,f);var p=xd(this,ct(this.doc,f.line)),A=0,C=(p.length-1)/2,D=f.ch,L;if(D==0)L=p[2];else for(;;){var j=A+C>>1;if((j?p[j*2-1]:0)>=D)C=j;else if(p[j*2+1]<D)A=j+1;else{L=p[j*2+2];break}}var q=L?L.indexOf("overlay "):-1;return q<0?L:q==0?null:L.slice(0,q-1)},getModeAt:function(f){var p=this.doc.mode;return p.innerMode?o.innerMode(p,this.getTokenAt(f).state).mode:p},getHelper:function(f,p){return this.getHelpers(f,p)[0]},getHelpers:function(f,p){var A=[];if(!d.hasOwnProperty(p))return A;var C=d[p],D=this.getModeAt(f);if(typeof D[p]=="string")C[D[p]]&&A.push(C[D[p]]);else if(D[p])for(var L=0;L<D[p].length;L++){var j=C[D[p][L]];j&&A.push(j)}else D.helperType&&C[D.helperType]?A.push(C[D.helperType]):C[D.name]&&A.push(C[D.name]);for(var q=0;q<C._global.length;q++){var ee=C._global[q];ee.pred(D,this)&&Fe(A,ee.val)==-1&&A.push(ee.val)}return A},getStateAfter:function(f,p){var A=this.doc;return f=gn(A,f??A.first+A.size-1),cs(this,f+1,p).state},cursorCoords:function(f,p){var A,C=this.doc.sel.primary();return f==null?A=C.head:typeof f=="object"?A=It(this.doc,f):A=f?C.from():C.to(),ue(this,A,p||"page")},charCoords:function(f,p){return le(this,It(this.doc,f),p||"page")},coordsChar:function(f,p){return f=te(this,f,p||"page"),Ae(this,f.left,f.top)},lineAtHeight:function(f,p){return f=te(this,{top:f,left:0},p||"page").top,X(this.doc,f+this.display.viewOffset)},heightAtLine:function(f,p,A){var C=!1,D;if(typeof f=="number"){var L=this.doc.first+this.doc.size-1;f<this.doc.first?f=this.doc.first:f>L&&(f=L,C=!0),D=ct(this.doc,f)}else D=f;return Z(this,D,{top:0,left:0},p||"page",A||C).top+(C?this.doc.height-Ui(D):0)},defaultTextHeight:function(){return Le(this.display)},defaultCharWidth:function(){return Qe(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(f,p,A,C,D){var L=this.display;f=ue(this,It(this.doc,f));var j=f.bottom,q=f.left;if(p.style.position="absolute",p.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(p),L.sizer.appendChild(p),C=="over")j=f.top;else if(C=="above"||C=="near"){var ee=Math.max(L.wrapper.clientHeight,this.doc.height),ge=Math.max(L.sizer.clientWidth,L.lineSpace.clientWidth);(C=="above"||f.bottom+p.offsetHeight>ee)&&f.top>p.offsetHeight?j=f.top-p.offsetHeight:f.bottom+p.offsetHeight<=ee&&(j=f.bottom),q+p.offsetWidth>ge&&(q=ge-p.offsetWidth)}p.style.top=j+"px",p.style.left=p.style.right="",D=="right"?(q=L.sizer.clientWidth-p.offsetWidth,p.style.right="0px"):(D=="left"?q=0:D=="middle"&&(q=(L.sizer.clientWidth-p.offsetWidth)/2),p.style.left=q+"px"),A&&u$(this,{left:q,top:j,right:q+p.offsetWidth,bottom:j+p.offsetHeight})},triggerOnKeyDown:li(jR),triggerOnKeyPress:li(HR),triggerOnKeyUp:zR,triggerOnMouseDown:li(UR),execCommand:function(f){if(Jd.hasOwnProperty(f))return Jd[f].call(null,this)},triggerElectric:li(function(f){YR(this,f)}),findPosH:function(f,p,A,C){var D=1;p<0&&(D=-1,p=-p);for(var L=It(this.doc,f),j=0;j<p&&(L=ub(this.doc,L,D,A,C),!L.hitSide);++j);return L},moveH:li(function(f,p){var A=this;this.extendSelectionsBy(function(C){return A.display.shift||A.doc.extend||C.empty()?ub(A.doc,C.head,f,p,A.options.rtlMoveVisually):f<0?C.from():C.to()},Ht)}),deleteH:li(function(f,p){var A=this.doc.sel,C=this.doc;A.somethingSelected()?C.replaceSelection("",null,"+delete"):Fc(this,function(D){var L=ub(C,D.head,f,p,!1);return f<0?{from:L,to:D.head}:{from:D.head,to:L}})}),findPosV:function(f,p,A,C){var D=1,L=C;p<0&&(D=-1,p=-p);for(var j=It(this.doc,f),q=0;q<p;++q){var ee=ue(this,j,"div");if(L==null?L=ee.left:ee.left=L,j=ZR(this,ee,D,A),j.hitSide)break}return j},moveV:li(function(f,p){var A=this,C=this.doc,D=[],L=!this.display.shift&&!C.extend&&C.sel.somethingSelected();if(C.extendSelectionsBy(function(q){if(L)return f<0?q.from():q.to();var ee=ue(A,q.head,"div");q.goalColumn!=null&&(ee.left=q.goalColumn),D.push(ee.left);var ge=ZR(A,ee,f,p);return p=="page"&&q==C.sel.primary()&&Ux(A,le(A,ge,"div").top-ee.top),ge},Ht),D.length)for(var j=0;j<C.sel.ranges.length;j++)C.sel.ranges[j].goalColumn=D[j]}),findWordAt:function(f){var p=this.doc,A=ct(p,f.line).text,C=f.ch,D=f.ch;if(A){var L=this.getHelper(f,"wordChars");(f.sticky=="before"||D==A.length)&&C?--C:++D;for(var j=A.charAt(C),q=je(j,L)?function(ee){return je(ee,L)}:/\s/.test(j)?function(ee){return/\s/.test(ee)}:function(ee){return!/\s/.test(ee)&&!je(ee)};C>0&&q(A.charAt(C-1));)--C;for(;D<A.length&&q(A.charAt(D));)++D}return new on(Ce(f.line,C),Ce(f.line,D))},toggleOverwrite:function(f){f!=null&&f==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?N(this.display.cursorDiv,"CodeMirror-overwrite"):re(this.display.cursorDiv,"CodeMirror-overwrite"),An(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ae(_e(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:li(function(f,p){Fd(this,f,p)}),getScrollInfo:function(){var f=this.display.scroller;return{left:f.scrollLeft,top:f.scrollTop,height:f.scrollHeight-So(this)-this.display.barHeight,width:f.scrollWidth-So(this)-this.display.barWidth,clientHeight:Ga(this),clientWidth:Js(this)}},scrollIntoView:li(function(f,p){f==null?(f={from:this.doc.sel.primary().head,to:null},p==null&&(p=this.options.cursorScrollMargin)):typeof f=="number"?f={from:Ce(f,0),to:null}:f.from==null&&(f={from:f,to:null}),f.to||(f.to=f.from),f.margin=p||0,f.from.line!=null?c$(this,f):QM(this,f.from,f.to,f.margin)}),setSize:li(function(f,p){var A=this,C=function(L){return typeof L=="number"||/^\d+$/.test(String(L))?L+"px":L};f!=null&&(this.display.wrapper.style.width=C(f)),p!=null&&(this.display.wrapper.style.height=C(p)),this.options.lineWrapping&&b(this);var D=this.display.viewFrom;this.doc.iter(D,this.display.viewTo,function(L){if(L.widgets){for(var j=0;j<L.widgets.length;j++)if(L.widgets[j].noHScroll){Ot(A,D,"widget");break}}++D}),this.curOp.forceUpdate=!0,An(this,"refresh",this)}),operation:function(f){return Wi(this,f)},startOperation:function(){return tu(this)},endOperation:function(){return nu(this)},refresh:li(function(){var f=this.display.cachedTextHeight;vt(this),this.curOp.forceUpdate=!0,I(this),Fd(this,this.doc.scrollLeft,this.doc.scrollTop),Qx(this.display),(f==null||Math.abs(f-Le(this.display))>.5||this.options.lineWrapping)&&rt(this),An(this,"refresh",this)}),swapDoc:li(function(f){var p=this.doc;return p.cm=null,this.state.selectingText&&this.state.selectingText(),oR(this,f),I(this),this.display.input.reset(),Fd(this,f.scrollLeft,f.scrollTop),this.curOp.forceScroll=!0,Qn(this,"swapDoc",this,p),p}),phrase:function(f){var p=this.options.phrases;return p&&Object.prototype.hasOwnProperty.call(p,f)?p[f]:f},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},vi(o),o.registerHelper=function(f,p,A){d.hasOwnProperty(f)||(d[f]=o[f]={_global:[]}),d[f][p]=A},o.registerGlobalHelper=function(f,p,A,C){o.registerHelper(f,p,C),d[f]._global.push({pred:A,val:C})}}function ub(o,a,d,f,p){var A=a,C=d,D=ct(o,a.line),L=p&&o.direction=="rtl"?-d:d;function j(){var ot=a.line+L;return ot<o.first||ot>=o.first+o.size?!1:(a=new Ce(ot,a.ch,a.sticky),D=ct(o,ot))}function q(ot){var et;if(f=="codepoint"){var lt=D.text.charCodeAt(a.ch+(d>0?0:-1));if(isNaN(lt))et=null;else{var xt=d>0?lt>=55296&&lt<56320:lt>=56320&&lt<57343;et=new Ce(a.line,Math.max(0,Math.min(D.text.length,a.ch+d*(xt?2:1))),-d)}}else p?et=G$(o.cm,D,a,d):et=tb(D,a,d);if(et==null)if(!ot&&j())a=nb(p,o.cm,D,a.line,L);else return!1;else a=et;return!0}if(f=="char"||f=="codepoint")q();else if(f=="column")q(!0);else if(f=="word"||f=="group")for(var ee=null,ge=f=="group",fe=o.cm&&o.cm.getHelper(a,"wordChars"),Ie=!0;!(d<0&&!q(!Ie));Ie=!1){var Pe=D.text.charAt(a.ch)||`
`,We=je(Pe,fe)?"w":ge&&Pe==`
`?"n":!ge||/\s/.test(Pe)?null:"p";if(ge&&!Ie&&!We&&(We="s"),ee&&ee!=We){d<0&&(d=1,q(),a.sticky="after");break}if(We&&(ee=We),d>0&&!q(!Ie))break}var Xe=xm(o,a,A,C,!0);return Qt(A,Xe)&&(Xe.hitSide=!0),Xe}function ZR(o,a,d,f){var p=o.doc,A=a.left,C;if(f=="page"){var D=Math.min(o.display.wrapper.clientHeight,Oe(o).innerHeight||p(o).documentElement.clientHeight),L=Math.max(D-.5*Le(o.display),3);C=(d>0?a.bottom:a.top)+d*L}else f=="line"&&(C=d>0?a.bottom+3:a.top-3);for(var j;j=Ae(o,A,C),!!j.outside;){if(d<0?C<=0:C>=p.height){j.hitSide=!0;break}C+=d*5}return j}var fn=function(o){this.cm=o,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ee,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};fn.prototype.init=function(o){var a=this,d=this,f=d.cm,p=d.div=o.lineDiv;p.contentEditable=!0,lb(p,f.options.spellcheck,f.options.autocorrect,f.options.autocapitalize);function A(D){for(var L=D.target;L;L=L.parentNode){if(L==p)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(L.className))break}return!1}ht(p,"paste",function(D){!A(D)||pn(f,D)||VR(D,f)||h<=11&&setTimeout(Er(f,function(){return a.updateFromDOM()}),20)}),ht(p,"compositionstart",function(D){a.composing={data:D.data,done:!1}}),ht(p,"compositionupdate",function(D){a.composing||(a.composing={data:D.data,done:!1})}),ht(p,"compositionend",function(D){a.composing&&(D.data!=a.composing.data&&a.readFromDOMSoon(),a.composing.done=!0)}),ht(p,"touchstart",function(){return d.forceCompositionEnd()}),ht(p,"input",function(){a.composing||a.readFromDOMSoon()});function C(D){if(!(!A(D)||pn(f,D))){if(f.somethingSelected())Im({lineWise:!1,text:f.getSelections()}),D.type=="cut"&&f.replaceSelection("",null,"cut");else if(f.options.lineWiseCopyCut){var L=JR(f);Im({lineWise:!0,text:L.text}),D.type=="cut"&&f.operation(function(){f.setSelections(L.ranges,0,Ne),f.replaceSelection("",null,"cut")})}else return;if(D.clipboardData){D.clipboardData.clearData();var j=zo.text.join(`
`);if(D.clipboardData.setData("Text",j),D.clipboardData.getData("Text")==j){D.preventDefault();return}}var q=qR(),ee=q.firstChild;lb(ee),f.display.lineSpace.insertBefore(q,f.display.lineSpace.firstChild),ee.value=zo.text.join(`
`);var ge=ae(Be(p));ve(ee),setTimeout(function(){f.display.lineSpace.removeChild(q),ge.focus(),ge==p&&d.showPrimarySelection()},50)}}ht(p,"copy",C),ht(p,"cut",C)},fn.prototype.screenReaderLabelChanged=function(o){o?this.div.setAttribute("aria-label",o):this.div.removeAttribute("aria-label")},fn.prototype.prepareSelection=function(){var o=Zl(this.cm,!1);return o.focus=ae(Be(this.div))==this.div,o},fn.prototype.showSelection=function(o,a){!o||!this.cm.display.view.length||((o.focus||a)&&this.showPrimarySelection(),this.showMultipleSelections(o))},fn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},fn.prototype.showPrimarySelection=function(){var o=this.getSelection(),a=this.cm,d=a.doc.sel.primary(),f=d.from(),p=d.to();if(a.display.viewTo==a.display.viewFrom||f.line>=a.display.viewTo||p.line<a.display.viewFrom){o.removeAllRanges();return}var A=Em(a,o.anchorNode,o.anchorOffset),C=Em(a,o.focusNode,o.focusOffset);if(!(A&&!A.bad&&C&&!C.bad&&Ze(Ws(A,C),f)==0&&Ze(_r(A,C),p)==0)){var D=a.display.view,L=f.line>=a.display.viewFrom&&XR(a,f)||{node:D[0].measure.map[2],offset:0},j=p.line<a.display.viewTo&&XR(a,p);if(!j){var q=D[D.length-1].measure,ee=q.maps?q.maps[q.maps.length-1]:q.map;j={node:ee[ee.length-1],offset:ee[ee.length-2]-ee[ee.length-3]}}if(!L||!j){o.removeAllRanges();return}var ge=o.rangeCount&&o.getRangeAt(0),fe;try{fe=Te(L.node,L.offset,j.offset,j.node)}catch{}fe&&(!i&&a.state.focused?(o.collapse(L.node,L.offset),fe.collapsed||(o.removeAllRanges(),o.addRange(fe))):(o.removeAllRanges(),o.addRange(fe)),ge&&o.anchorNode==null?o.addRange(ge):i&&this.startGracePeriod()),this.rememberSelection()}},fn.prototype.startGracePeriod=function(){var o=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){o.gracePeriod=!1,o.selectionChanged()&&o.cm.operation(function(){return o.cm.curOp.selectionChanged=!0})},20)},fn.prototype.showMultipleSelections=function(o){V(this.cm.display.cursorDiv,o.cursors),V(this.cm.display.selectionDiv,o.selection)},fn.prototype.rememberSelection=function(){var o=this.getSelection();this.lastAnchorNode=o.anchorNode,this.lastAnchorOffset=o.anchorOffset,this.lastFocusNode=o.focusNode,this.lastFocusOffset=o.focusOffset},fn.prototype.selectionInEditor=function(){var o=this.getSelection();if(!o.rangeCount)return!1;var a=o.getRangeAt(0).commonAncestorContainer;return me(this.div,a)},fn.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ae(Be(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},fn.prototype.blur=function(){this.div.blur()},fn.prototype.getField=function(){return this.div},fn.prototype.supportsTouch=function(){return!0},fn.prototype.receivedFocus=function(){var o=this,a=this;this.selectionInEditor()?setTimeout(function(){return o.pollSelection()},20):Wi(this.cm,function(){return a.cm.curOp.selectionChanged=!0});function d(){a.cm.state.focused&&(a.pollSelection(),a.polling.set(a.cm.options.pollInterval,d))}this.polling.set(this.cm.options.pollInterval,d)},fn.prototype.selectionChanged=function(){var o=this.getSelection();return o.anchorNode!=this.lastAnchorNode||o.anchorOffset!=this.lastAnchorOffset||o.focusNode!=this.lastFocusNode||o.focusOffset!=this.lastFocusOffset},fn.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var o=this.getSelection(),a=this.cm;if(M&&v&&this.cm.display.gutterSpecs.length&&hG(o.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var d=Em(a,o.anchorNode,o.anchorOffset),f=Em(a,o.focusNode,o.focusOffset);d&&f&&Wi(a,function(){Vr(a.doc,Ya(d,f),Ne),(d.bad||f.bad)&&(a.curOp.selectionChanged=!0)})}}},fn.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var o=this.cm,a=o.display,d=o.doc.sel.primary(),f=d.from(),p=d.to();if(f.ch==0&&f.line>o.firstLine()&&(f=Ce(f.line-1,ct(o.doc,f.line-1).length)),p.ch==ct(o.doc,p.line).text.length&&p.line<o.lastLine()&&(p=Ce(p.line+1,0)),f.line<a.viewFrom||p.line>a.viewTo-1)return!1;var A,C,D;f.line==a.viewFrom||(A=at(o,f.line))==0?(C=U(a.view[0].line),D=a.view[0].node):(C=U(a.view[A].line),D=a.view[A-1].node.nextSibling);var L=at(o,p.line),j,q;if(L==a.view.length-1?(j=a.viewTo-1,q=a.lineDiv.lastChild):(j=U(a.view[L+1].line)-1,q=a.view[L+1].node.previousSibling),!D)return!1;for(var ee=o.doc.splitLines(pG(o,D,q,C,j)),ge=oo(o.doc,Ce(C,0),Ce(j,ct(o.doc,j).text.length));ee.length>1&&ge.length>1;)if(Nt(ee)==Nt(ge))ee.pop(),ge.pop(),j--;else if(ee[0]==ge[0])ee.shift(),ge.shift(),C++;else break;for(var fe=0,Ie=0,Pe=ee[0],We=ge[0],Xe=Math.min(Pe.length,We.length);fe<Xe&&Pe.charCodeAt(fe)==We.charCodeAt(fe);)++fe;for(var ot=Nt(ee),et=Nt(ge),lt=Math.min(ot.length-(ee.length==1?fe:0),et.length-(ge.length==1?fe:0));Ie<lt&&ot.charCodeAt(ot.length-Ie-1)==et.charCodeAt(et.length-Ie-1);)++Ie;if(ee.length==1&&ge.length==1&&C==f.line)for(;fe&&fe>f.ch&&ot.charCodeAt(ot.length-Ie-1)==et.charCodeAt(et.length-Ie-1);)fe--,Ie++;ee[ee.length-1]=ot.slice(0,ot.length-Ie).replace(/^\u200b+/,""),ee[0]=ee[0].slice(fe).replace(/\u200b+$/,"");var xt=Ce(C,fe),mt=Ce(j,ge.length?Nt(ge).length-Ie:0);if(ee.length>1||ee[0]||Ze(xt,mt))return Oc(o.doc,ee,xt,mt,"+input"),!0},fn.prototype.ensurePolled=function(){this.forceCompositionEnd()},fn.prototype.reset=function(){this.forceCompositionEnd()},fn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},fn.prototype.readFromDOMSoon=function(){var o=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(o.readDOMTimeout=null,o.composing)if(o.composing.done)o.composing=null;else return;o.updateFromDOM()},80))},fn.prototype.updateFromDOM=function(){var o=this;(this.cm.isReadOnly()||!this.pollContent())&&Wi(this.cm,function(){return vt(o.cm)})},fn.prototype.setUneditable=function(o){o.contentEditable="false"},fn.prototype.onKeyPress=function(o){o.charCode==0||this.composing||(o.preventDefault(),this.cm.isReadOnly()||Er(this.cm,ab)(this.cm,String.fromCharCode(o.charCode==null?o.keyCode:o.charCode),0))},fn.prototype.readOnlyChanged=function(o){this.div.contentEditable=String(o!="nocursor")},fn.prototype.onContextMenu=function(){},fn.prototype.resetPosition=function(){},fn.prototype.needsContentAttribute=!0;function XR(o,a){var d=Ld(o,a.line);if(!d||d.hidden)return null;var f=ct(o.doc,a.line),p=Nn(d,f,a.line),A=At(f,o.doc.direction),C="left";if(A){var D=Ln(A,a.ch);C=D%2?"right":"left"}var L=kc(p.map,a.ch,C);return L.offset=L.collapse=="right"?L.end:L.start,L}function hG(o){for(var a=o;a;a=a.parentNode)if(/CodeMirror-gutter-wrapper/.test(a.className))return!0;return!1}function Nc(o,a){return a&&(o.bad=!0),o}function pG(o,a,d,f,p){var A="",C=!1,D=o.doc.lineSeparator(),L=!1;function j(fe){return function(Ie){return Ie.id==fe}}function q(){C&&(A+=D,L&&(A+=D),C=L=!1)}function ee(fe){fe&&(q(),A+=fe)}function ge(fe){if(fe.nodeType==1){var Ie=fe.getAttribute("cm-text");if(Ie){ee(Ie);return}var Pe=fe.getAttribute("cm-marker"),We;if(Pe){var Xe=o.findMarks(Ce(f,0),Ce(p+1,0),j(+Pe));Xe.length&&(We=Xe[0].find(0))&&ee(oo(o.doc,We.from,We.to).join(D));return}if(fe.getAttribute("contenteditable")=="false")return;var ot=/^(pre|div|p|li|table|br)$/i.test(fe.nodeName);if(!/^br$/i.test(fe.nodeName)&&fe.textContent.length==0)return;ot&&q();for(var et=0;et<fe.childNodes.length;et++)ge(fe.childNodes[et]);/^(pre|p)$/i.test(fe.nodeName)&&(L=!0),ot&&(C=!0)}else fe.nodeType==3&&ee(fe.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;ge(a),a!=d;)a=a.nextSibling,L=!1;return A}function Em(o,a,d){var f;if(a==o.display.lineDiv){if(f=o.display.lineDiv.childNodes[d],!f)return Nc(o.clipPos(Ce(o.display.viewTo-1)),!0);a=null,d=0}else for(f=a;;f=f.parentNode){if(!f||f==o.display.lineDiv)return null;if(f.parentNode&&f.parentNode==o.display.lineDiv)break}for(var p=0;p<o.display.view.length;p++){var A=o.display.view[p];if(A.node==f)return gG(A,a,d)}}function gG(o,a,d){var f=o.text.firstChild,p=!1;if(!a||!me(f,a))return Nc(Ce(U(o.line),0),!0);if(a==f&&(p=!0,a=f.childNodes[d],d=0,!a)){var A=o.rest?Nt(o.rest):o.line;return Nc(Ce(U(A),A.text.length),p)}var C=a.nodeType==3?a:null,D=a;for(!C&&a.childNodes.length==1&&a.firstChild.nodeType==3&&(C=a.firstChild,d&&(d=C.nodeValue.length));D.parentNode!=f;)D=D.parentNode;var L=o.measure,j=L.maps;function q(We,Xe,ot){for(var et=-1;et<(j?j.length:0);et++)for(var lt=et<0?L.map:j[et],xt=0;xt<lt.length;xt+=3){var mt=lt[xt+2];if(mt==We||mt==Xe){var jt=U(et<0?o.line:o.rest[et]),wn=lt[xt]+ot;return(ot<0||mt!=We)&&(wn=lt[xt+(ot?1:0)]),Ce(jt,wn)}}}var ee=q(C,D,d);if(ee)return Nc(ee,p);for(var ge=D.nextSibling,fe=C?C.nodeValue.length-d:0;ge;ge=ge.nextSibling){if(ee=q(ge,ge.firstChild,0),ee)return Nc(Ce(ee.line,ee.ch-fe),p);fe+=ge.textContent.length}for(var Ie=D.previousSibling,Pe=d;Ie;Ie=Ie.previousSibling){if(ee=q(Ie,Ie.firstChild,-1),ee)return Nc(Ce(ee.line,ee.ch+Pe),p);Pe+=Ie.textContent.length}}var er=function(o){this.cm=o,this.prevInput="",this.pollingFast=!1,this.polling=new Ee,this.hasSelection=!1,this.composing=null,this.resetting=!1};er.prototype.init=function(o){var a=this,d=this,f=this.cm;this.createField(o);var p=this.textarea;o.wrapper.insertBefore(this.wrapper,o.wrapper.firstChild),k&&(p.style.width="0px"),ht(p,"input",function(){c&&h>=9&&a.hasSelection&&(a.hasSelection=null),d.poll()}),ht(p,"paste",function(C){pn(f,C)||VR(C,f)||(f.state.pasteIncoming=+new Date,d.fastPoll())});function A(C){if(!pn(f,C)){if(f.somethingSelected())Im({lineWise:!1,text:f.getSelections()});else if(f.options.lineWiseCopyCut){var D=JR(f);Im({lineWise:!0,text:D.text}),C.type=="cut"?f.setSelections(D.ranges,null,Ne):(d.prevInput="",p.value=D.text.join(`
`),ve(p))}else return;C.type=="cut"&&(f.state.cutIncoming=+new Date)}}ht(p,"cut",A),ht(p,"copy",A),ht(o.scroller,"paste",function(C){if(!(ao(o,C)||pn(f,C))){if(!p.dispatchEvent){f.state.pasteIncoming=+new Date,d.focus();return}var D=new Event("paste");D.clipboardData=C.clipboardData,p.dispatchEvent(D)}}),ht(o.lineSpace,"selectstart",function(C){ao(o,C)||Jn(C)}),ht(p,"compositionstart",function(){var C=f.getCursor("from");d.composing&&d.composing.range.clear(),d.composing={start:C,range:f.markText(C,f.getCursor("to"),{className:"CodeMirror-composing"})}}),ht(p,"compositionend",function(){d.composing&&(d.poll(),d.composing.range.clear(),d.composing=null)})},er.prototype.createField=function(o){this.wrapper=qR(),this.textarea=this.wrapper.firstChild;var a=this.cm.options;lb(this.textarea,a.spellcheck,a.autocorrect,a.autocapitalize)},er.prototype.screenReaderLabelChanged=function(o){o?this.textarea.setAttribute("aria-label",o):this.textarea.removeAttribute("aria-label")},er.prototype.prepareSelection=function(){var o=this.cm,a=o.display,d=o.doc,f=Zl(o);if(o.options.moveInputWithCursor){var p=ue(o,d.sel.primary().head,"div"),A=a.wrapper.getBoundingClientRect(),C=a.lineDiv.getBoundingClientRect();f.teTop=Math.max(0,Math.min(a.wrapper.clientHeight-10,p.top+C.top-A.top)),f.teLeft=Math.max(0,Math.min(a.wrapper.clientWidth-10,p.left+C.left-A.left))}return f},er.prototype.showSelection=function(o){var a=this.cm,d=a.display;V(d.cursorDiv,o.cursors),V(d.selectionDiv,o.selection),o.teTop!=null&&(this.wrapper.style.top=o.teTop+"px",this.wrapper.style.left=o.teLeft+"px")},er.prototype.reset=function(o){if(!(this.contextMenuPending||this.composing&&o)){var a=this.cm;if(this.resetting=!0,a.somethingSelected()){this.prevInput="";var d=a.getSelection();this.textarea.value=d,a.state.focused&&ve(this.textarea),c&&h>=9&&(this.hasSelection=d)}else o||(this.prevInput=this.textarea.value="",c&&h>=9&&(this.hasSelection=null));this.resetting=!1}},er.prototype.getField=function(){return this.textarea},er.prototype.supportsTouch=function(){return!1},er.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!P||ae(Be(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},er.prototype.blur=function(){this.textarea.blur()},er.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},er.prototype.receivedFocus=function(){this.slowPoll()},er.prototype.slowPoll=function(){var o=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){o.poll(),o.cm.state.focused&&o.slowPoll()})},er.prototype.fastPoll=function(){var o=!1,a=this;a.pollingFast=!0;function d(){var f=a.poll();!f&&!o?(o=!0,a.polling.set(60,d)):(a.pollingFast=!1,a.slowPoll())}a.polling.set(20,d)},er.prototype.poll=function(){var o=this,a=this.cm,d=this.textarea,f=this.prevInput;if(this.contextMenuPending||this.resetting||!a.state.focused||qn(d)&&!f&&!this.composing||a.isReadOnly()||a.options.disableInput||a.state.keySeq)return!1;var p=d.value;if(p==f&&!a.somethingSelected())return!1;if(c&&h>=9&&this.hasSelection===p||W&&/[\uf700-\uf7ff]/.test(p))return a.display.input.reset(),!1;if(a.doc.sel==a.display.selForContextMenu){var A=p.charCodeAt(0);if(A==8203&&!f&&(f=""),A==8666)return this.reset(),this.cm.execCommand("undo")}for(var C=0,D=Math.min(f.length,p.length);C<D&&f.charCodeAt(C)==p.charCodeAt(C);)++C;return Wi(a,function(){ab(a,p.slice(C),f.length-C,null,o.composing?"*compose":null),p.length>1e3||p.indexOf(`
`)>-1?d.value=o.prevInput="":o.prevInput=p,o.composing&&(o.composing.range.clear(),o.composing.range=a.markText(o.composing.start,a.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},er.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},er.prototype.onKeyPress=function(){c&&h>=9&&(this.hasSelection=null),this.fastPoll()},er.prototype.onContextMenu=function(o){var a=this,d=a.cm,f=d.display,p=a.textarea;a.contextMenuPending&&a.contextMenuPending();var A=Ve(d,o),C=f.scroller.scrollTop;if(!A||w)return;var D=d.options.resetSelectionOnContextMenu;D&&d.doc.sel.contains(A)==-1&&Er(d,Vr)(d.doc,Ya(A),Ne);var L=p.style.cssText,j=a.wrapper.style.cssText,q=a.wrapper.offsetParent.getBoundingClientRect();a.wrapper.style.cssText="position: static",p.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(o.clientY-q.top-5)+"px; left: "+(o.clientX-q.left-5)+`px;
      z-index: 1000; background: `+(c?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var ee;g&&(ee=p.ownerDocument.defaultView.scrollY),f.input.focus(),g&&p.ownerDocument.defaultView.scrollTo(null,ee),f.input.reset(),d.somethingSelected()||(p.value=a.prevInput=" "),a.contextMenuPending=fe,f.selForContextMenu=d.doc.sel,clearTimeout(f.detectingSelectAll);function ge(){if(p.selectionStart!=null){var Pe=d.somethingSelected(),We=""+(Pe?p.value:"");p.value="",p.value=We,a.prevInput=Pe?"":"",p.selectionStart=1,p.selectionEnd=We.length,f.selForContextMenu=d.doc.sel}}function fe(){if(a.contextMenuPending==fe&&(a.contextMenuPending=!1,a.wrapper.style.cssText=j,p.style.cssText=L,c&&h<9&&f.scrollbars.setScrollTop(f.scroller.scrollTop=C),p.selectionStart!=null)){(!c||c&&h<9)&&ge();var Pe=0,We=function(){f.selForContextMenu==d.doc.sel&&p.selectionStart==0&&p.selectionEnd>0&&a.prevInput==""?Er(d,vR)(d):Pe++<10?f.detectingSelectAll=setTimeout(We,500):(f.selForContextMenu=null,f.input.reset())};f.detectingSelectAll=setTimeout(We,200)}}if(c&&h>=9&&ge(),F){Vt(o);var Ie=function(){Wn(window,"mouseup",Ie),setTimeout(fe,20)};ht(window,"mouseup",Ie)}else setTimeout(fe,50)},er.prototype.readOnlyChanged=function(o){o||this.reset(),this.textarea.disabled=o=="nocursor",this.textarea.readOnly=!!o},er.prototype.setUneditable=function(){},er.prototype.needsContentAttribute=!1;function mG(o,a){if(a=a?oe(a):{},a.value=o.value,!a.tabindex&&o.tabIndex&&(a.tabindex=o.tabIndex),!a.placeholder&&o.placeholder&&(a.placeholder=o.placeholder),a.autofocus==null){var d=ae(Be(o));a.autofocus=d==o||o.getAttribute("autofocus")!=null&&d==document.body}function f(){o.value=D.getValue()}var p;if(o.form&&(ht(o.form,"submit",f),!a.leaveSubmitMethodAlone)){var A=o.form;p=A.submit;try{var C=A.submit=function(){f(),A.submit=p,A.submit(),A.submit=C}}catch{}}a.finishInit=function(L){L.save=f,L.getTextArea=function(){return o},L.toTextArea=function(){L.toTextArea=isNaN,f(),o.parentNode.removeChild(L.getWrapperElement()),o.style.display="",o.form&&(Wn(o.form,"submit",f),!a.leaveSubmitMethodAlone&&typeof o.form.submit=="function"&&(o.form.submit=p))}},o.style.display="none";var D=Pn(function(L){return o.parentNode.insertBefore(L,o.nextSibling)},a);return D}function yG(o){o.off=Wn,o.on=ht,o.wheelEventPixels=C$,o.Doc=Si,o.splitLines=ir,o.countColumn=Se,o.findColumn=Yt,o.isWordChar=Me,o.Pass=tt,o.signal=An,o.Line=$s,o.changeEnd=Ja,o.scrollbarModel=VM,o.Pos=Ce,o.cmpPos=Ze,o.modes=ro,o.mimeModes=dr,o.resolveMode=Us,o.getMode=us,o.modeExtensions=cn,o.extendMode=ji,o.copyState=hr,o.startState=io,o.innerMode=_a,o.commands=Jd,o.keyMap=Zs,o.keyName=PR,o.isModifierKey=OR,o.lookupKey=Pc,o.normalizeKeyMap=$$,o.StringStream=bn,o.SharedTextMarker=Gd,o.TextMarker=Za,o.LineWidget=$d,o.e_preventDefault=Jn,o.e_stopPropagation=st,o.e_stop=Vt,o.addClass=N,o.contains=me,o.rmClass=re,o.keyNames=Xa}lG(Pn),dG(Pn);var vG="iter insert remove copy getEditor constructor".split(" ");for(var Dm in Si.prototype)Si.prototype.hasOwnProperty(Dm)&&Fe(vG,Dm)<0&&(Pn.prototype[Dm]=function(o){return function(){return o.apply(this.doc,arguments)}}(Si.prototype[Dm]));return vi(Si),Pn.inputStyles={textarea:er,contenteditable:fn},Pn.defineMode=function(o){!Pn.defaults.mode&&o!="null"&&(Pn.defaults.mode=o),_i.apply(this,arguments)},Pn.defineMIME=Ai,Pn.defineMode("null",function(){return{token:function(o){return o.skipToEnd()}}}),Pn.defineMIME("text/plain","null"),Pn.defineExtension=function(o,a){Pn.prototype[o]=a},Pn.defineDocExtension=function(o,a){Si.prototype[o]=a},Pn.fromTextArea=mG,yG(Pn),Pn.version="5.65.20",Pn})}(Ax)),Ax.exports}function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kg.apply(null,arguments)}function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}var cM=function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])},e(n,r)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ud,"__esModule",{value:!0});var fM=ud.UnControlled=ud.Controlled=void 0,$g=H,to=typeof window>"u"||typeof qt<"u"&&qt.PREVENT_CODEMIRROR_RENDER===!0,rs;to||(rs=cd());var xx=function(){function e(){}return e.equals=function(t,n){var r=this,i=Object.keys,s=Qg(t),l=Qg(n);return t&&n&&s==="object"&&s===l?i(t).length===i(n).length&&i(t).every(function(u){return r.equals(t[u],n[u])}):t===n},e}(),dM=function(){function e(t,n){this.editor=t,this.props=n}return e.prototype.delegateCursor=function(t,n,r){var i=this.editor.getDoc();r&&this.editor.focus(),n?i.setCursor(t):i.setCursor(t,null,{scroll:!1})},e.prototype.delegateScroll=function(t){this.editor.scrollTo(t.x,t.y)},e.prototype.delegateSelection=function(t,n){var r=this.editor.getDoc();r.setSelections(t),n&&this.editor.focus()},e.prototype.apply=function(t){t&&t.selection&&t.selection.ranges&&this.delegateSelection(t.selection.ranges,t.selection.focus||!1),t&&t.cursor&&this.delegateCursor(t.cursor,t.autoScroll||!1,this.editor.getOption("autofocus")||!1),t&&t.scroll&&this.delegateScroll(t.scroll)},e.prototype.applyNext=function(t,n,r){t&&t.selection&&t.selection.ranges&&n&&n.selection&&n.selection.ranges&&!xx.equals(t.selection.ranges,n.selection.ranges)&&this.delegateSelection(n.selection.ranges,n.selection.focus||!1),t&&t.cursor&&n&&n.cursor&&!xx.equals(t.cursor,n.cursor)&&this.delegateCursor(r.cursor||n.cursor,n.autoScroll||!1,n.autoCursor||!1),t&&t.scroll&&n&&n.scroll&&!xx.equals(t.scroll,n.scroll)&&this.delegateScroll(n.scroll)},e.prototype.applyUserDefined=function(t,n){n&&n.cursor&&this.delegateCursor(n.cursor,t.autoScroll||!1,this.editor.getOption("autofocus")||!1)},e.prototype.wire=function(t){var n=this;Object.keys(t||{}).filter(function(r){return/^on/.test(r)}).forEach(function(r){switch(r){case"onBlur":n.editor.on("blur",function(i,s){n.props.onBlur(n.editor,s)});break;case"onContextMenu":{n.editor.on("contextmenu",function(i,s){n.props.onContextMenu(n.editor,s)});break}case"onCopy":{n.editor.on("copy",function(i,s){n.props.onCopy(n.editor,s)});break}case"onCursor":n.editor.on("cursorActivity",function(i){n.props.onCursor(n.editor,n.editor.getDoc().getCursor())});break;case"onCursorActivity":n.editor.on("cursorActivity",function(i){n.props.onCursorActivity(n.editor)});break;case"onCut":{n.editor.on("cut",function(i,s){n.props.onCut(n.editor,s)});break}case"onDblClick":{n.editor.on("dblclick",function(i,s){n.props.onDblClick(n.editor,s)});break}case"onDragEnter":n.editor.on("dragenter",function(i,s){n.props.onDragEnter(n.editor,s)});break;case"onDragLeave":{n.editor.on("dragleave",function(i,s){n.props.onDragLeave(n.editor,s)});break}case"onDragOver":n.editor.on("dragover",function(i,s){n.props.onDragOver(n.editor,s)});break;case"onDragStart":{n.editor.on("dragstart",function(i,s){n.props.onDragStart(n.editor,s)});break}case"onDrop":n.editor.on("drop",function(i,s){n.props.onDrop(n.editor,s)});break;case"onFocus":n.editor.on("focus",function(i,s){n.props.onFocus(n.editor,s)});break;case"onGutterClick":n.editor.on("gutterClick",function(i,s,l,u){n.props.onGutterClick(n.editor,s,l,u)});break;case"onInputRead":n.editor.on("inputRead",function(i,s){n.props.onInputRead(n.editor,s)});break;case"onKeyDown":n.editor.on("keydown",function(i,s){n.props.onKeyDown(n.editor,s)});break;case"onKeyHandled":n.editor.on("keyHandled",function(i,s,l){n.props.onKeyHandled(n.editor,s,l)});break;case"onKeyPress":n.editor.on("keypress",function(i,s){n.props.onKeyPress(n.editor,s)});break;case"onKeyUp":n.editor.on("keyup",function(i,s){n.props.onKeyUp(n.editor,s)});break;case"onMouseDown":{n.editor.on("mousedown",function(i,s){n.props.onMouseDown(n.editor,s)});break}case"onPaste":{n.editor.on("paste",function(i,s){n.props.onPaste(n.editor,s)});break}case"onRenderLine":{n.editor.on("renderLine",function(i,s,l){n.props.onRenderLine(n.editor,s,l)});break}case"onScroll":n.editor.on("scroll",function(i){n.props.onScroll(n.editor,n.editor.getScrollInfo())});break;case"onSelection":n.editor.on("beforeSelectionChange",function(i,s){n.props.onSelection(n.editor,s)});break;case"onTouchStart":{n.editor.on("touchstart",function(i,s){n.props.onTouchStart(n.editor,s)});break}case"onUpdate":n.editor.on("update",function(i){n.props.onUpdate(n.editor)});break;case"onViewportChange":n.editor.on("viewportChange",function(i,s,l){n.props.onViewportChange(n.editor,s,l)});break}})},e}(),Z9=function(e){cM(t,e);function t(n){var r=e.call(this,n)||this;return to||(r.applied=!1,r.appliedNext=!1,r.appliedUserDefined=!1,r.deferred=null,r.emulating=!1,r.hydrated=!1,r.initCb=function(){r.props.editorDidConfigure&&r.props.editorDidConfigure(r.editor)},r.mounted=!1),r}return t.prototype.hydrate=function(n){var r=this,i=n&&n.options?n.options:{},s=Kg({},rs.defaults,this.editor.options,i),l=Object.keys(s).some(function(u){return r.editor.getOption(u)!==s[u]});l&&Object.keys(s).forEach(function(u){i.hasOwnProperty(u)&&r.editor.getOption(u)!==s[u]&&(r.editor.setOption(u,s[u]),r.mirror.setOption(u,s[u]))}),this.hydrated||(this.deferred?this.resolveChange(n.value):this.initChange(n.value||"")),this.hydrated=!0},t.prototype.initChange=function(n){this.emulating=!0;var r=this.editor.getDoc(),i=r.lastLine(),s=r.getLine(r.lastLine()).length;r.replaceRange(n||"",{line:0,ch:0},{line:i,ch:s}),this.mirror.setValue(n),r.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},t.prototype.resolveChange=function(n){this.emulating=!0;var r=this.editor.getDoc();if(this.deferred.origin==="undo"?r.undo():this.deferred.origin==="redo"?r.redo():r.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),n&&n!==r.getValue()){var i=r.getCursor();r.setValue(n),r.setCursor(i)}this.emulating=!1,this.deferred=null},t.prototype.mirrorChange=function(n){var r=this.editor.getDoc();return n.origin==="undo"?(r.setHistory(this.mirror.getHistory()),this.mirror.undo()):n.origin==="redo"?(r.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(n.text,n.from,n.to,n.origin),this.mirror.getValue()},t.prototype.componentDidMount=function(){var n=this;to||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&rs.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=rs(this.ref,this.props.options),this.shared=new dM(this.editor,this.props),this.mirror=rs(function(){},this.props.options),this.editor.on("electricInput",function(){n.mirror.setHistory(n.editor.getDoc().getHistory())}),this.editor.on("cursorActivity",function(){n.mirror.setCursor(n.editor.getDoc().getCursor())}),this.editor.on("beforeChange",function(r,i){if(!n.emulating){i.cancel(),n.deferred=i;var s=n.mirrorChange(n.deferred);n.props.onBeforeChange&&n.props.onBeforeChange(n.editor,n.deferred,s)}}),this.editor.on("change",function(r,i){n.mounted&&n.props.onChange&&n.props.onChange(n.editor,i,n.editor.getValue())}),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getOption("autofocus")&&this.editor.focus(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(n){if(!to){var r={cursor:null};this.props.value!==n.value&&(this.hydrated=!1),!this.props.autoCursor&&this.props.autoCursor!==void 0&&(r.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.appliedNext||(this.shared.applyNext(n,this.props,r),this.appliedNext=!0),this.shared.applyUserDefined(n,r),this.appliedUserDefined=!0}},t.prototype.componentWillUnmount=function(){to||(this.props.editorWillUnmount&&this.props.editorWillUnmount(rs),this.hydrated=!1)},t.prototype.shouldComponentUpdate=function(n,r){return!to},t.prototype.render=function(){var n=this;if(to)return null;var r=this.props.className?"react-codemirror2 ".concat(this.props.className):"react-codemirror2";return $g.createElement("div",{className:r,ref:function(s){return n.ref=s}})},t}($g.Component);ud.Controlled=Z9;var X9=function(e){cM(t,e);function t(n){var r=e.call(this,n)||this;return to||(r.applied=!1,r.appliedUserDefined=!1,r.continueChange=!1,r.detached=!1,r.hydrated=!1,r.initCb=function(){r.props.editorDidConfigure&&r.props.editorDidConfigure(r.editor)},r.mounted=!1,r.onBeforeChangeCb=function(){r.continueChange=!0}),r}return t.prototype.hydrate=function(n){var r=this,i=n&&n.options?n.options:{},s=Kg({},rs.defaults,this.editor.options,i),l=Object.keys(s).some(function(g){return r.editor.getOption(g)!==s[g]});if(l&&Object.keys(s).forEach(function(g){i.hasOwnProperty(g)&&r.editor.getOption(g)!==s[g]&&r.editor.setOption(g,s[g])}),!this.hydrated){var u=this.editor.getDoc(),c=u.lastLine(),h=u.getLine(u.lastLine()).length;u.replaceRange(n.value||"",{line:0,ch:0},{line:c,ch:h})}this.hydrated=!0},t.prototype.componentDidMount=function(){var n=this;to||(this.detached=this.props.detach===!0,this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&rs.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=rs(this.ref,this.props.options),this.shared=new dM(this.editor,this.props),this.editor.on("beforeChange",function(r,i){n.props.onBeforeChange&&n.props.onBeforeChange(n.editor,i,n.editor.getValue(),n.onBeforeChangeCb)}),this.editor.on("change",function(r,i){!n.mounted||!n.props.onChange||(n.props.onBeforeChange?n.continueChange&&n.props.onChange(n.editor,i,n.editor.getValue()):n.props.onChange(n.editor,i,n.editor.getValue()))}),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getDoc().clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(n){if(this.detached&&this.props.detach===!1&&(this.detached=!1,n.editorDidAttach&&n.editorDidAttach(this.editor)),!this.detached&&this.props.detach===!0&&(this.detached=!0,n.editorDidDetach&&n.editorDidDetach(this.editor)),!(to||this.detached)){var r={cursor:null};this.props.value!==n.value&&(this.hydrated=!1,this.applied=!1,this.appliedUserDefined=!1),!n.autoCursor&&n.autoCursor!==void 0&&(r.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.applied||(this.shared.apply(n),this.applied=!0),this.appliedUserDefined||(this.shared.applyUserDefined(n,r),this.appliedUserDefined=!0)}},t.prototype.componentWillUnmount=function(){to||(this.props.editorWillUnmount&&this.props.editorWillUnmount(rs),this.hydrated=!1)},t.prototype.shouldComponentUpdate=function(n,r){var i=!0;return to&&(i=!1),this.detached&&n.detach&&(i=!1),i},t.prototype.render=function(){var n=this;if(to)return null;var r=this.props.className?"react-codemirror2 ".concat(this.props.className):"react-codemirror2";return $g.createElement("div",{className:r,ref:function(s){return n.ref=s}})},t}($g.Component);fM=ud.UnControlled=X9,function(e,t){(function(n){n(cd())})(function(n){n.defineMode("javascript",function(r,i){var s=r.indentUnit,l=i.statementIndent,u=i.jsonld,c=i.json||u,h=i.trackScope!==!1,g=i.typescript,m=i.wordCharacters||/[\w$\xa1-\uffff]/,v=function(){function U(Zn){return{type:Zn,style:"keyword"}}var X=U("keyword a"),be=U("keyword b"),ze=U("keyword c"),Ce=U("keyword d"),Ze=U("operator"),Qt={type:"atom",style:"atom"};return{if:U("if"),while:X,with:X,else:be,do:be,try:be,finally:be,return:Ce,break:Ce,continue:Ce,new:U("new"),delete:ze,void:ze,throw:ze,debugger:U("debugger"),var:U("var"),const:U("var"),let:U("var"),function:U("function"),catch:U("catch"),for:U("for"),switch:U("switch"),case:U("case"),default:U("default"),in:Ze,typeof:Ze,instanceof:Ze,true:Qt,false:Qt,null:Qt,undefined:Qt,NaN:Qt,Infinity:Qt,this:U("this"),class:U("class"),super:U("atom"),yield:ze,export:U("export"),import:U("import"),extends:ze,await:ze}}(),x=/[+\-*&%=<>!?|~^@]/,w=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function E(U){for(var X=!1,be,ze=!1;(be=U.next())!=null;){if(!X){if(be=="/"&&!ze)return;be=="["?ze=!0:ze&&be=="]"&&(ze=!1)}X=!X&&be=="\\"}}var R,S;function k(U,X,be){return R=U,S=be,X}function M(U,X){var be=U.next();if(be=='"'||be=="'")return X.tokenize=P(be),X.tokenize(U,X);if(be=="."&&U.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return k("number","number");if(be=="."&&U.match(".."))return k("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(be))return k(be);if(be=="="&&U.eat(">"))return k("=>","operator");if(be=="0"&&U.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return k("number","number");if(/\d/.test(be))return U.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),k("number","number");if(be=="/")return U.eat("*")?(X.tokenize=W,W(U,X)):U.eat("/")?(U.skipToEnd(),k("comment","comment")):si(U,X,1)?(E(U),U.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),k("regexp","string-2")):(U.eat("="),k("operator","operator",U.current()));if(be=="`")return X.tokenize=z,z(U,X);if(be=="#"&&U.peek()=="!")return U.skipToEnd(),k("meta","meta");if(be=="#"&&U.eatWhile(m))return k("variable","property");if(be=="<"&&U.match("!--")||be=="-"&&U.match("->")&&!/\S/.test(U.string.slice(0,U.start)))return U.skipToEnd(),k("comment","comment");if(x.test(be))return(be!=">"||!X.lexical||X.lexical.type!=">")&&(U.eat("=")?(be=="!"||be=="=")&&U.eat("="):/[<>*+\-|&?]/.test(be)&&(U.eat(be),be==">"&&U.eat(be))),be=="?"&&U.eat(".")?k("."):k("operator","operator",U.current());if(m.test(be)){U.eatWhile(m);var ze=U.current();if(X.lastType!="."){if(v.propertyIsEnumerable(ze)){var Ce=v[ze];return k(Ce.type,Ce.style,ze)}if(ze=="async"&&U.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return k("async","keyword",ze)}return k("variable","variable",ze)}}function P(U){return function(X,be){var ze=!1,Ce;if(u&&X.peek()=="@"&&X.match(w))return be.tokenize=M,k("jsonld-keyword","meta");for(;(Ce=X.next())!=null&&!(Ce==U&&!ze);)ze=!ze&&Ce=="\\";return ze||(be.tokenize=M),k("string","string")}}function W(U,X){for(var be=!1,ze;ze=U.next();){if(ze=="/"&&be){X.tokenize=M;break}be=ze=="*"}return k("comment","comment")}function z(U,X){for(var be=!1,ze;(ze=U.next())!=null;){if(!be&&(ze=="`"||ze=="$"&&U.eat("{"))){X.tokenize=M;break}be=!be&&ze=="\\"}return k("quasi","string-2",U.current())}var Q="([{}])";function $(U,X){X.fatArrowAt&&(X.fatArrowAt=null);var be=U.string.indexOf("=>",U.start);if(!(be<0)){if(g){var ze=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(U.string.slice(U.start,be));ze&&(be=ze.index)}for(var Ce=0,Ze=!1,Qt=be-1;Qt>=0;--Qt){var Zn=U.string.charAt(Qt),_r=Q.indexOf(Zn);if(_r>=0&&_r<3){if(!Ce){++Qt;break}if(--Ce==0){Zn=="("&&(Ze=!0);break}}else if(_r>=3&&_r<6)++Ce;else if(m.test(Zn))Ze=!0;else if(/["'\/`]/.test(Zn))for(;;--Qt){if(Qt==0)return;var Ws=U.string.charAt(Qt-1);if(Ws==Zn&&U.string.charAt(Qt-2)!="\\"){Qt--;break}}else if(Ze&&!Ce){++Qt;break}}Ze&&!Ce&&(X.fatArrowAt=Qt)}}var se={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function F(U,X,be,ze,Ce,Ze){this.indented=U,this.column=X,this.type=be,this.prev=Ce,this.info=Ze,ze!=null&&(this.align=ze)}function Y(U,X){if(!h)return!1;for(var be=U.localVars;be;be=be.next)if(be.name==X)return!0;for(var ze=U.context;ze;ze=ze.prev)for(var be=ze.vars;be;be=be.next)if(be.name==X)return!0}function re(U,X,be,ze,Ce){var Ze=U.cc;for(J.state=U,J.stream=Ce,J.marked=null,J.cc=Ze,J.style=X,U.lexical.hasOwnProperty("align")||(U.lexical.align=!0);;){var Qt=Ze.length?Ze.pop():c?Fe:Se;if(Qt(be,ze)){for(;Ze.length&&Ze[Ze.length-1].lex;)Ze.pop()();return J.marked?J.marked:be=="variable"&&Y(U,ze)?"variable-2":X}}}var J={state:null,marked:null,cc:null};function V(){for(var U=arguments.length-1;U>=0;U--)J.cc.push(arguments[U])}function B(){return V.apply(null,arguments),!0}function Re(U,X){for(var be=X;be;be=be.next)if(be.name==U)return!0;return!1}function Te(U){var X=J.state;if(J.marked="def",!!h){if(X.context){if(X.lexical.info=="var"&&X.context&&X.context.block){var be=me(U,X.context);if(be!=null){X.context=be;return}}else if(!Re(U,X.localVars)){X.localVars=new de(U,X.localVars);return}}i.globalVars&&!Re(U,X.globalVars)&&(X.globalVars=new de(U,X.globalVars))}}function me(U,X){if(X)if(X.block){var be=me(U,X.prev);return be?be==X.prev?X:new N(be,X.vars,!0):null}else return Re(U,X.vars)?X:new N(X.prev,new de(U,X.vars),!1);else return null}function ae(U){return U=="public"||U=="private"||U=="protected"||U=="abstract"||U=="readonly"}function N(U,X,be){this.prev=U,this.vars=X,this.block=be}function de(U,X){this.name=U,this.next=X}var ve=new de("this",new de("arguments",null));function G(){J.state.context=new N(J.state.context,J.state.localVars,!1),J.state.localVars=ve}function _e(){J.state.context=new N(J.state.context,J.state.localVars,!0),J.state.localVars=null}G.lex=_e.lex=!0;function Be(){J.state.localVars=J.state.context.vars,J.state.context=J.state.context.prev}Be.lex=!0;function Oe(U,X){var be=function(){var ze=J.state,Ce=ze.indented;if(ze.lexical.type=="stat")Ce=ze.lexical.indented;else for(var Ze=ze.lexical;Ze&&Ze.type==")"&&Ze.align;Ze=Ze.prev)Ce=Ze.indented;ze.lexical=new F(Ce,J.stream.column(),U,null,ze.lexical,X)};return be.lex=!0,be}function Ue(){var U=J.state;U.lexical.prev&&(U.lexical.type==")"&&(U.indented=U.lexical.indented),U.lexical=U.lexical.prev)}Ue.lex=!0;function oe(U){function X(be){return be==U?B():U==";"||be=="}"||be==")"||be=="]"?V():B(X)}return X}function Se(U,X){return U=="var"?B(Oe("vardef",X),st,oe(";"),Ue):U=="keyword a"?B(Oe("form"),tt,Se,Ue):U=="keyword b"?B(Oe("form"),Se,Ue):U=="keyword d"?J.stream.match(/^\s*$/,!1)?B():B(Oe("stat"),Pt,oe(";"),Ue):U=="debugger"?B(oe(";")):U=="{"?B(Oe("}"),_e,vn,Ue,Be):U==";"?B():U=="if"?(J.state.lexical.info=="else"&&J.state.cc[J.state.cc.length-1]==Ue&&J.state.cc.pop()(),B(Oe("form"),tt,Se,Ue,Wt)):U=="function"?B(ir):U=="for"?B(Oe("form"),_e,nn,Se,Be,Ue):U=="class"||g&&X=="interface"?(J.marked="keyword",B(Oe("form",U=="class"?U:X),ro,Ue)):U=="variable"?g&&X=="declare"?(J.marked="keyword",B(Se)):g&&(X=="module"||X=="enum"||X=="type")&&J.stream.match(/^\s*\w/,!1)?(J.marked="keyword",X=="enum"?B(ct):X=="type"?B(xn,oe("operator"),At,oe(";")):B(Oe("form"),dt,oe("{"),Oe("}"),vn,Ue,Ue)):g&&X=="namespace"?(J.marked="keyword",B(Oe("form"),Fe,Se,Ue)):g&&X=="abstract"?(J.marked="keyword",B(Se)):B(Oe("stat"),wr):U=="switch"?B(Oe("form"),tt,oe("{"),Oe("}","switch"),_e,vn,Ue,Ue,Be):U=="case"?B(Fe,oe(":")):U=="default"?B(oe(":")):U=="catch"?B(Oe("form"),G,Ee,Se,Ue,Be):U=="export"?B(Oe("stat"),Us,Ue):U=="import"?B(Oe("stat"),cn,Ue):U=="async"?B(Se):X=="@"?B(Fe,Se):V(Oe("stat"),Fe,oe(";"),Ue)}function Ee(U){if(U=="(")return B(Kn,oe(")"))}function Fe(U,X){return Ne(U,X,!1)}function Ye(U,X){return Ne(U,X,!0)}function tt(U){return U!="("?V():B(Oe(")"),Pt,oe(")"),Ue)}function Ne(U,X,be){if(J.state.fatArrowAt==J.stream.start){var ze=be?Dn:Nt;if(U=="(")return B(G,Oe(")"),gt(Kn,")"),Ue,oe("=>"),ze,Be);if(U=="variable")return V(G,dt,oe("=>"),ze,Be)}var Ce=be?Yt:Ht;return se.hasOwnProperty(U)?B(Ce):U=="function"?B(ir,Ce):U=="class"||g&&X=="interface"?(J.marked="keyword",B(Oe("form"),ls,Ue)):U=="keyword c"||U=="async"?B(be?Ye:Fe):U=="("?B(Oe(")"),Pt,oe(")"),Ue,Ce):U=="operator"||U=="spread"?B(be?Ye:Fe):U=="["?B(Oe("]"),bn,Ue,Ce):U=="{"?Cn(je,"}",null,Ce):U=="quasi"?V(En,Ce):U=="new"?B(xo(be)):B()}function Pt(U){return U.match(/[;\}\)\],]/)?V():V(Fe)}function Ht(U,X){return U==","?B(Pt):Yt(U,X,!1)}function Yt(U,X,be){var ze=be==!1?Ht:Yt,Ce=be==!1?Fe:Ye;if(U=="=>")return B(G,be?Dn:Nt,Be);if(U=="operator")return/\+\+|--/.test(X)||g&&X=="!"?B(ze):g&&X=="<"&&J.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?B(Oe(">"),gt(At,">"),Ue,ze):X=="?"?B(Fe,oe(":"),Ce):B(Ce);if(U=="quasi")return V(En,ze);if(U!=";"){if(U=="(")return Cn(Ye,")","call",ze);if(U==".")return B(Me,ze);if(U=="[")return B(Oe("]"),Pt,oe("]"),Ue,ze);if(g&&X=="as")return J.marked="keyword",B(At,ze);if(U=="regexp")return J.state.lastType=J.marked="operator",J.stream.backUp(J.stream.pos-J.stream.start-1),B(Ce)}}function En(U,X){return U!="quasi"?V():X.slice(X.length-2)!="${"?B(En):B(Pt,oi)}function oi(U){if(U=="}")return J.marked="string-2",J.state.tokenize=z,B(En)}function Nt(U){return $(J.stream,J.state),V(U=="{"?Se:Fe)}function Dn(U){return $(J.stream,J.state),V(U=="{"?Se:Ye)}function xo(U){return function(X){return X=="."?B(U?Fo:Ni):X=="variable"&&g?B(fr,U?Yt:Ht):V(U?Ye:Fe)}}function Ni(U,X){if(X=="target")return J.marked="keyword",B(Ht)}function Fo(U,X){if(X=="target")return J.marked="keyword",B(Yt)}function wr(U){return U==":"?B(Ue,Se):V(Ht,oe(";"),Ue)}function Me(U){if(U=="variable")return J.marked="property",B()}function je(U,X){if(U=="async")return J.marked="property",B(je);if(U=="variable"||J.style=="keyword"){if(J.marked="property",X=="get"||X=="set")return B(St);var be;return g&&J.state.fatArrowAt==J.stream.start&&(be=J.stream.match(/^\s*:\s*/,!1))&&(J.state.fatArrowAt=J.stream.pos+be[0].length),B(kt)}else{if(U=="number"||U=="string")return J.marked=u?"property":J.style+" property",B(kt);if(U=="jsonld-keyword")return B(kt);if(g&&ae(X))return J.marked="keyword",B(je);if(U=="[")return B(Fe,On,oe("]"),kt);if(U=="spread")return B(Ye,kt);if(X=="*")return J.marked="keyword",B(je);if(U==":")return V(kt)}}function St(U){return U!="variable"?V(kt):(J.marked="property",B(ir))}function kt(U){if(U==":")return B(Ye);if(U=="(")return V(ir)}function gt(U,X,be){function ze(Ce,Ze){if(be?be.indexOf(Ce)>-1:Ce==","){var Qt=J.state.lexical;return Qt.info=="call"&&(Qt.pos=(Qt.pos||0)+1),B(function(Zn,_r){return Zn==X||_r==X?V():V(U)},ze)}return Ce==X||Ze==X?B():be&&be.indexOf(";")>-1?V(U):B(oe(X))}return function(Ce,Ze){return Ce==X||Ze==X?B():V(U,ze)}}function Cn(U,X,be){for(var ze=3;ze<arguments.length;ze++)J.cc.push(arguments[ze]);return B(Oe(X,be),gt(U,X),Ue)}function vn(U){return U=="}"?B():V(Se,vn)}function On(U,X){if(g){if(U==":")return B(At);if(X=="?")return B(On)}}function Sr(U,X){if(g&&(U==":"||X=="in"))return B(At)}function Ln(U){if(g&&U==":")return J.stream.match(/^\s*\w+\s+is\b/,!1)?B(Fe,it,At):B(At)}function it(U,X){if(X=="is")return J.marked="keyword",B()}function At(U,X){if(X=="keyof"||X=="typeof"||X=="infer"||X=="readonly")return J.marked="keyword",B(X=="typeof"?Ye:At);if(U=="variable"||X=="void")return J.marked="type",B(Gr);if(X=="|"||X=="&")return B(At);if(U=="string"||U=="number"||U=="atom")return B(Gr);if(U=="[")return B(Oe("]"),gt(At,"]",","),Ue,Gr);if(U=="{")return B(Oe("}"),ht,Ue,Gr);if(U=="(")return B(gt(pn,")"),Bn,Gr);if(U=="<")return B(gt(At,">"),At);if(U=="quasi")return V(Wn,Gr)}function Bn(U){if(U=="=>")return B(At)}function ht(U){return U.match(/[\}\)\]]/)?B():U==","||U==";"?B(ht):V(Je,ht)}function Je(U,X){if(U=="variable"||J.style=="keyword")return J.marked="property",B(Je);if(X=="?"||U=="number"||U=="string")return B(Je);if(U==":")return B(At);if(U=="[")return B(oe("variable"),Sr,oe("]"),Je);if(U=="(")return V(qn,Je);if(!U.match(/[;\}\)\],]/))return B()}function Wn(U,X){return U!="quasi"?V():X.slice(X.length-2)!="${"?B(Wn):B(At,An)}function An(U){if(U=="}")return J.marked="string-2",J.state.tokenize=z,B(Wn)}function pn(U,X){return U=="variable"&&J.stream.match(/^\s*[?:]/,!1)||X=="?"?B(pn):U==":"?B(At):U=="spread"?B(pn):V(At)}function Gr(U,X){if(X=="<")return B(Oe(">"),gt(At,">"),Ue,Gr);if(X=="|"||U=="."||X=="&")return B(At);if(U=="[")return B(At,oe("]"),Gr);if(X=="extends"||X=="implements")return J.marked="keyword",B(At);if(X=="?")return B(At,oe(":"),At)}function fr(U,X){if(X=="<")return B(Oe(">"),gt(At,">"),Ue,Gr)}function vi(){return V(At,Jn)}function Jn(U,X){if(X=="=")return B(At)}function st(U,X){return X=="enum"?(J.marked="keyword",B(ct)):V(dt,On,pt,yt)}function dt(U,X){if(g&&ae(X))return J.marked="keyword",B(dt);if(U=="variable")return Te(X),B();if(U=="spread")return B(dt);if(U=="[")return Cn(en,"]");if(U=="{")return Cn(Vt,"}")}function Vt(U,X){return U=="variable"&&!J.stream.match(/^\s*:/,!1)?(Te(X),B(pt)):(U=="variable"&&(J.marked="property"),U=="spread"?B(dt):U=="}"?V():U=="["?B(Fe,oe("]"),oe(":"),Vt):B(oe(":"),dt,pt))}function en(){return V(dt,pt)}function pt(U,X){if(X=="=")return B(Ye)}function yt(U){if(U==",")return B(st)}function Wt(U,X){if(U=="keyword b"&&X=="else")return B(Oe("form","else"),Se,Ue)}function nn(U,X){if(X=="await")return B(nn);if(U=="(")return B(Oe(")"),Kt,Ue)}function Kt(U){return U=="var"?B(st,Cr):U=="variable"?B(Cr):V(Cr)}function Cr(U,X){return U==")"?B():U==";"?B(Cr):X=="in"||X=="of"?(J.marked="keyword",B(Fe,Cr)):V(Fe,Cr)}function ir(U,X){if(X=="*")return J.marked="keyword",B(ir);if(U=="variable")return Te(X),B(ir);if(U=="(")return B(G,Oe(")"),gt(Kn,")"),Ue,Ln,Se,Be);if(g&&X=="<")return B(Oe(">"),gt(vi,">"),Ue,ir)}function qn(U,X){if(X=="*")return J.marked="keyword",B(qn);if(U=="variable")return Te(X),B(qn);if(U=="(")return B(G,Oe(")"),gt(Kn,")"),Ue,Ln,Be);if(g&&X=="<")return B(Oe(">"),gt(vi,">"),Ue,qn)}function xn(U,X){if(U=="keyword"||U=="variable")return J.marked="type",B(xn);if(X=="<")return B(Oe(">"),gt(vi,">"),Ue)}function Kn(U,X){return X=="@"&&B(Fe,Kn),U=="spread"?B(Kn):g&&ae(X)?(J.marked="keyword",B(Kn)):g&&U=="this"?B(On,pt):V(dt,On,pt)}function ls(U,X){return U=="variable"?ro(U,X):dr(U,X)}function ro(U,X){if(U=="variable")return Te(X),B(dr)}function dr(U,X){if(X=="<")return B(Oe(">"),gt(vi,">"),Ue,dr);if(X=="extends"||X=="implements"||g&&U==",")return X=="implements"&&(J.marked="keyword"),B(g?At:Fe,dr);if(U=="{")return B(Oe("}"),_i,Ue)}function _i(U,X){if(U=="async"||U=="variable"&&(X=="static"||X=="get"||X=="set"||g&&ae(X))&&J.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return J.marked="keyword",B(_i);if(U=="variable"||J.style=="keyword")return J.marked="property",B(Ai,_i);if(U=="number"||U=="string")return B(Ai,_i);if(U=="[")return B(Fe,On,oe("]"),Ai,_i);if(X=="*")return J.marked="keyword",B(_i);if(g&&U=="(")return V(qn,_i);if(U==";"||U==",")return B(_i);if(U=="}")return B();if(X=="@")return B(Fe,_i)}function Ai(U,X){if(X=="!"||X=="?")return B(Ai);if(U==":")return B(At,pt);if(X=="=")return B(Ye);var be=J.state.lexical.prev,ze=be&&be.info=="interface";return V(ze?qn:ir)}function Us(U,X){return X=="*"?(J.marked="keyword",B(io,oe(";"))):X=="default"?(J.marked="keyword",B(Fe,oe(";"))):U=="{"?B(gt(us,"}"),io,oe(";")):V(Se)}function us(U,X){if(X=="as")return J.marked="keyword",B(oe("variable"));if(U=="variable")return V(Ye,us)}function cn(U){return U=="string"?B():U=="("?V(Fe):U=="."?V(Ht):V(ji,hr,io)}function ji(U,X){return U=="{"?Cn(ji,"}"):(U=="variable"&&Te(X),X=="*"&&(J.marked="keyword"),B(_a))}function hr(U){if(U==",")return B(ji,hr)}function _a(U,X){if(X=="as")return J.marked="keyword",B(ji)}function io(U,X){if(X=="from")return J.marked="keyword",B(Fe)}function bn(U){return U=="]"?B():V(gt(Ye,"]"))}function ct(){return V(Oe("form"),dt,oe("{"),Oe("}"),gt(oo,"}"),Ue,Ue)}function oo(){return V(dt,pt)}function so(U,X){return U.lastType=="operator"||U.lastType==","||x.test(X.charAt(0))||/[,.]/.test(X.charAt(0))}function si(U,X,be){return X.tokenize==M&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(X.lastType)||X.lastType=="quasi"&&/\{\s*$/.test(U.string.slice(0,U.pos-(be||0)))}return{startState:function(U){var X={tokenize:M,lastType:"sof",cc:[],lexical:new F((U||0)-s,0,"block",!1),localVars:i.localVars,context:i.localVars&&new N(null,null,!1),indented:U||0};return i.globalVars&&typeof i.globalVars=="object"&&(X.globalVars=i.globalVars),X},token:function(U,X){if(U.sol()&&(X.lexical.hasOwnProperty("align")||(X.lexical.align=!1),X.indented=U.indentation(),$(U,X)),X.tokenize!=W&&U.eatSpace())return null;var be=X.tokenize(U,X);return R=="comment"?be:(X.lastType=R=="operator"&&(S=="++"||S=="--")?"incdec":R,re(X,be,R,S,U))},indent:function(U,X){if(U.tokenize==W||U.tokenize==z)return n.Pass;if(U.tokenize!=M)return 0;var be=X&&X.charAt(0),ze=U.lexical,Ce;if(!/^\s*else\b/.test(X))for(var Ze=U.cc.length-1;Ze>=0;--Ze){var Qt=U.cc[Ze];if(Qt==Ue)ze=ze.prev;else if(Qt!=Wt&&Qt!=Be)break}for(;(ze.type=="stat"||ze.type=="form")&&(be=="}"||(Ce=U.cc[U.cc.length-1])&&(Ce==Ht||Ce==Yt)&&!/^[,\.=+\-*:?[\(]/.test(X));)ze=ze.prev;l&&ze.type==")"&&ze.prev.type=="stat"&&(ze=ze.prev);var Zn=ze.type,_r=be==Zn;return Zn=="vardef"?ze.indented+(U.lastType=="operator"||U.lastType==","?ze.info.length+1:0):Zn=="form"&&be=="{"?ze.indented:Zn=="form"?ze.indented+s:Zn=="stat"?ze.indented+(so(U,X)?l||s:0):ze.info=="switch"&&!_r&&i.doubleIndentSwitch!=!1?ze.indented+(/^(?:case|default)\b/.test(X)?s:2*s):ze.align?ze.column+(_r?0:1):ze.indented+(_r?0:s)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:c?null:"/*",blockCommentEnd:c?null:"*/",blockCommentContinue:c?null:" * ",lineComment:c?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:c?"json":"javascript",jsonldMode:u,jsonMode:c,expressionAllowed:si,skipExpression:function(U){re(U,"atom","atom","true",new n.StringStream("",2,null))}}}),n.registerHelper("wordChars","javascript",/[\w$]/),n.defineMIME("text/javascript","javascript"),n.defineMIME("text/ecmascript","javascript"),n.defineMIME("application/javascript","javascript"),n.defineMIME("application/x-javascript","javascript"),n.defineMIME("application/ecmascript","javascript"),n.defineMIME("application/json",{name:"javascript",json:!0}),n.defineMIME("application/x-json",{name:"javascript",json:!0}),n.defineMIME("application/manifest+json",{name:"javascript",json:!0}),n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),n.defineMIME("text/typescript",{name:"javascript",typescript:!0}),n.defineMIME("application/typescript",{name:"javascript",typescript:!0})})}(),function(e,t){(function(n){n(cd())})(function(n){var r={pairs:`()[]{}''""`,closeBefore:`)]}'":;>`,triples:"",explode:"[]{}"},i=n.Pos;n.defineOption("autoCloseBrackets",!1,function(S,k,M){M&&M!=n.Init&&(S.removeKeyMap(l),S.state.closeBrackets=null),k&&(u(s(k,"pairs")),S.state.closeBrackets=k,S.addKeyMap(l))});function s(S,k){return k=="pairs"&&typeof S=="string"?S:typeof S=="object"&&S[k]!=null?S[k]:r[k]}var l={Backspace:g,Enter:m};function u(S){for(var k=0;k<S.length;k++){var M=S.charAt(k),P="'"+M+"'";l[P]||(l[P]=c(M))}}u(r.pairs+"`");function c(S){return function(k){return w(k,S)}}function h(S){var k=S.state.closeBrackets;if(!k||k.override)return k;var M=S.getModeAt(S.getCursor());return M.closeBrackets||k}function g(S){var k=h(S);if(!k||S.getOption("disableInput"))return n.Pass;for(var M=s(k,"pairs"),P=S.listSelections(),W=0;W<P.length;W++){if(!P[W].empty())return n.Pass;var z=E(S,P[W].head);if(!z||M.indexOf(z)%2!=0)return n.Pass}for(var W=P.length-1;W>=0;W--){var Q=P[W].head;S.replaceRange("",i(Q.line,Q.ch-1),i(Q.line,Q.ch+1),"+delete")}}function m(S){var k=h(S),M=k&&s(k,"explode");if(!M||S.getOption("disableInput"))return n.Pass;for(var P=S.listSelections(),W=0;W<P.length;W++){if(!P[W].empty())return n.Pass;var z=E(S,P[W].head);if(!z||M.indexOf(z)%2!=0)return n.Pass}S.operation(function(){var Q=S.lineSeparator()||`
`;S.replaceSelection(Q+Q,null),v(S,-1),P=S.listSelections();for(var $=0;$<P.length;$++){var se=P[$].head.line;S.indentLine(se,null,!0),S.indentLine(se+1,null,!0)}})}function v(S,k){for(var M=[],P=S.listSelections(),W=0,z=0;z<P.length;z++){var Q=P[z];Q.head==S.getCursor()&&(W=z);var $=Q.head.ch||k>0?{line:Q.head.line,ch:Q.head.ch+k}:{line:Q.head.line-1};M.push({anchor:$,head:$})}S.setSelections(M,W)}function x(S){var k=n.cmpPos(S.anchor,S.head)>0;return{anchor:new i(S.anchor.line,S.anchor.ch+(k?-1:1)),head:new i(S.head.line,S.head.ch+(k?1:-1))}}function w(S,k){var M=h(S);if(!M||S.getOption("disableInput"))return n.Pass;var P=s(M,"pairs"),W=P.indexOf(k);if(W==-1)return n.Pass;for(var z=s(M,"closeBefore"),Q=s(M,"triples"),$=P.charAt(W+1)==k,se=S.listSelections(),F=W%2==0,Y,re=0;re<se.length;re++){var J=se[re],V=J.head,B,Re=S.getRange(V,i(V.line,V.ch+1));if(F&&!J.empty())B="surround";else if(($||!F)&&Re==k)$&&R(S,V)?B="both":Q.indexOf(k)>=0&&S.getRange(V,i(V.line,V.ch+3))==k+k+k?B="skipThree":B="skip";else if($&&V.ch>1&&Q.indexOf(k)>=0&&S.getRange(i(V.line,V.ch-2),V)==k+k){if(V.ch>2&&/\bstring/.test(S.getTokenTypeAt(i(V.line,V.ch-2))))return n.Pass;B="addFour"}else if($){var Te=V.ch==0?" ":S.getRange(i(V.line,V.ch-1),V);if(!n.isWordChar(Re)&&Te!=k&&!n.isWordChar(Te))B="both";else return n.Pass}else if(F&&(Re.length===0||/\s/.test(Re)||z.indexOf(Re)>-1))B="both";else return n.Pass;if(!Y)Y=B;else if(Y!=B)return n.Pass}var me=W%2?P.charAt(W-1):k,ae=W%2?k:P.charAt(W+1);S.operation(function(){if(Y=="skip")v(S,1);else if(Y=="skipThree")v(S,3);else if(Y=="surround"){for(var N=S.getSelections(),de=0;de<N.length;de++)N[de]=me+N[de]+ae;S.replaceSelections(N,"around"),N=S.listSelections().slice();for(var de=0;de<N.length;de++)N[de]=x(N[de]);S.setSelections(N)}else Y=="both"?(S.replaceSelection(me+ae,null),S.triggerElectric(me+ae),v(S,-1)):Y=="addFour"&&(S.replaceSelection(me+me+me+me,"before"),v(S,1))})}function E(S,k){var M=S.getRange(i(k.line,k.ch-1),i(k.line,k.ch+1));return M.length==2?M:null}function R(S,k){var M=S.getTokenAt(i(k.line,k.ch+1));return/\bstring/.test(M.type)&&M.start==k.ch&&(k.ch==0||!/\bstring/.test(S.getTokenTypeAt(k)))}})}(),function(e,t){(function(n){n(cd())})(function(n){var r=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),i=n.Pos,s={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function l(v){return v&&v.bracketRegex||/[(){}[\]]/}function u(v,x,w){var E=v.getLineHandle(x.line),R=x.ch-1,S=w&&w.afterCursor;S==null&&(S=/(^| )cm-fat-cursor($| )/.test(v.getWrapperElement().className));var k=l(w),M=!S&&R>=0&&k.test(E.text.charAt(R))&&s[E.text.charAt(R)]||k.test(E.text.charAt(R+1))&&s[E.text.charAt(++R)];if(!M)return null;var P=M.charAt(1)==">"?1:-1;if(w&&w.strict&&P>0!=(R==x.ch))return null;var W=v.getTokenTypeAt(i(x.line,R+1)),z=c(v,i(x.line,R+(P>0?1:0)),P,W,w);return z==null?null:{from:i(x.line,R),to:z&&z.pos,match:z&&z.ch==M.charAt(0),forward:P>0}}function c(v,x,w,E,R){for(var S=R&&R.maxScanLineLength||1e4,k=R&&R.maxScanLines||1e3,M=[],P=l(R),W=w>0?Math.min(x.line+k,v.lastLine()+1):Math.max(v.firstLine()-1,x.line-k),z=x.line;z!=W;z+=w){var Q=v.getLine(z);if(Q){var $=w>0?0:Q.length-1,se=w>0?Q.length:-1;if(!(Q.length>S))for(z==x.line&&($=x.ch-(w<0?1:0));$!=se;$+=w){var F=Q.charAt($);if(P.test(F)&&(E===void 0||(v.getTokenTypeAt(i(z,$+1))||"")==(E||""))){var Y=s[F];if(Y&&Y.charAt(1)==">"==w>0)M.push(F);else if(M.length)M.pop();else return{pos:i(z,$),ch:F}}}}}return z-w==(w>0?v.lastLine():v.firstLine())?!1:null}function h(v,x,w){for(var E=v.state.matchBrackets.maxHighlightLineLength||1e3,R=w&&w.highlightNonMatching,S=[],k=v.listSelections(),M=0;M<k.length;M++){var P=k[M].empty()&&u(v,k[M].head,w);if(P&&(P.match||R!==!1)&&v.getLine(P.from.line).length<=E){var W=P.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";S.push(v.markText(P.from,i(P.from.line,P.from.ch+1),{className:W})),P.to&&v.getLine(P.to.line).length<=E&&S.push(v.markText(P.to,i(P.to.line,P.to.ch+1),{className:W}))}}if(S.length){r&&v.state.focused&&v.focus();var z=function(){v.operation(function(){for(var Q=0;Q<S.length;Q++)S[Q].clear()})};if(x)setTimeout(z,800);else return z}}function g(v){v.operation(function(){v.state.matchBrackets.currentlyHighlighted&&(v.state.matchBrackets.currentlyHighlighted(),v.state.matchBrackets.currentlyHighlighted=null),v.state.matchBrackets.currentlyHighlighted=h(v,!1,v.state.matchBrackets)})}function m(v){v.state.matchBrackets&&v.state.matchBrackets.currentlyHighlighted&&(v.state.matchBrackets.currentlyHighlighted(),v.state.matchBrackets.currentlyHighlighted=null)}n.defineOption("matchBrackets",!1,function(v,x,w){w&&w!=n.Init&&(v.off("cursorActivity",g),v.off("focus",g),v.off("blur",m),m(v)),x&&(v.state.matchBrackets=typeof x=="object"?x:{},v.on("cursorActivity",g),v.on("focus",g),v.on("blur",m))}),n.defineExtension("matchBrackets",function(){h(this,!0)}),n.defineExtension("findMatchingBracket",function(v,x,w){return(w||typeof x=="boolean")&&(w?(w.strict=x,x=w):x=x?{strict:!0}:null),u(this,v,x)}),n.defineExtension("scanForBracket",function(v,x,w,E){return c(this,v,x,w,E)})})}(),function(e,t){(function(n){n(cd())})(function(n){var r={},i=/[^\s\u00a0]/,s=n.Pos,l=n.cmpPos;function u(g){var m=g.search(i);return m==-1?0:m}n.commands.toggleComment=function(g){g.toggleComment()},n.defineExtension("toggleComment",function(g){g||(g=r);for(var m=this,v=1/0,x=this.listSelections(),w=null,E=x.length-1;E>=0;E--){var R=x[E].from(),S=x[E].to();R.line>=v||(S.line>=v&&(S=s(v,0)),v=R.line,w==null?m.uncomment(R,S,g)?w="un":(m.lineComment(R,S,g),w="line"):w=="un"?m.uncomment(R,S,g):m.lineComment(R,S,g))}});function c(g,m,v){return/\bstring\b/.test(g.getTokenTypeAt(s(m.line,0)))&&!/^[\'\"\`]/.test(v)}function h(g,m){var v=g.getMode();return v.useInnerComments===!1||!v.innerMode?v:g.getModeAt(m)}n.defineExtension("lineComment",function(g,m,v){v||(v=r);var x=this,w=h(x,g),E=x.getLine(g.line);if(!(E==null||c(x,g,E))){var R=v.lineComment||w.lineComment;if(!R){(v.blockCommentStart||w.blockCommentStart)&&(v.fullLines=!0,x.blockComment(g,m,v));return}var S=Math.min(m.ch!=0||m.line==g.line?m.line+1:m.line,x.lastLine()+1),k=v.padding==null?" ":v.padding,M=v.commentBlankLines||g.line==m.line;x.operation(function(){if(v.indent){for(var P=null,W=g.line;W<S;++W){var z=x.getLine(W),Q=z.search(i)===-1?z:z.slice(0,u(z));(P==null||P.length>Q.length)&&(P=Q)}for(var W=g.line;W<S;++W){var z=x.getLine(W),$=P.length;!M&&!i.test(z)||(z.slice(0,$)!=P&&($=u(z)),x.replaceRange(P+R+k,s(W,0),s(W,$)))}}else for(var W=g.line;W<S;++W)(M||i.test(x.getLine(W)))&&x.replaceRange(R+k,s(W,0))})}}),n.defineExtension("blockComment",function(g,m,v){v||(v=r);var x=this,w=h(x,g),E=v.blockCommentStart||w.blockCommentStart,R=v.blockCommentEnd||w.blockCommentEnd;if(!E||!R){(v.lineComment||w.lineComment)&&v.fullLines!=!1&&x.lineComment(g,m,v);return}if(!/\bcomment\b/.test(x.getTokenTypeAt(s(g.line,0)))){var S=Math.min(m.line,x.lastLine());S!=g.line&&m.ch==0&&i.test(x.getLine(S))&&--S;var k=v.padding==null?" ":v.padding;g.line>S||x.operation(function(){if(v.fullLines!=!1){var M=i.test(x.getLine(S));x.replaceRange(k+R,s(S)),x.replaceRange(E+k,s(g.line,0));var P=v.blockCommentLead||w.blockCommentLead;if(P!=null)for(var W=g.line+1;W<=S;++W)(W!=S||M)&&x.replaceRange(P+k,s(W,0))}else{var z=l(x.getCursor("to"),m)==0,Q=!x.somethingSelected();x.replaceRange(R,m),z&&x.setSelection(Q?m:x.getCursor("from"),m),x.replaceRange(E,g)}})}}),n.defineExtension("uncomment",function(g,m,v){v||(v=r);var x=this,w=h(x,g),E=Math.min(m.ch!=0||m.line==g.line?m.line:m.line-1,x.lastLine()),R=Math.min(g.line,E),S=v.lineComment||w.lineComment,k=[],M=v.padding==null?" ":v.padding,P;e:{if(!S)break e;for(var W=R;W<=E;++W){var z=x.getLine(W),Q=z.indexOf(S);if(Q>-1&&!/comment/.test(x.getTokenTypeAt(s(W,Q+1)))&&(Q=-1),Q==-1&&i.test(z)||Q>-1&&i.test(z.slice(0,Q)))break e;k.push(z)}if(x.operation(function(){for(var N=R;N<=E;++N){var de=k[N-R],ve=de.indexOf(S),G=ve+S.length;ve<0||(de.slice(G,G+M.length)==M&&(G+=M.length),P=!0,x.replaceRange("",s(N,ve),s(N,G)))}}),P)return!0}var $=v.blockCommentStart||w.blockCommentStart,se=v.blockCommentEnd||w.blockCommentEnd;if(!$||!se)return!1;var F=v.blockCommentLead||w.blockCommentLead,Y=x.getLine(R),re=Y.indexOf($);if(re==-1)return!1;var J=E==R?Y:x.getLine(E),V=J.indexOf(se,E==R?re+$.length:0),B=s(R,re+1),Re=s(E,V+1);if(V==-1||!/comment/.test(x.getTokenTypeAt(B))||!/comment/.test(x.getTokenTypeAt(Re))||x.getRange(B,Re,`
`).indexOf(se)>-1)return!1;var Te=Y.lastIndexOf($,g.ch),me=Te==-1?-1:Y.slice(0,g.ch).indexOf(se,Te+$.length);if(Te!=-1&&me!=-1&&me+se.length!=g.ch)return!1;me=J.indexOf(se,m.ch);var ae=J.slice(m.ch).lastIndexOf($,me-m.ch);return Te=me==-1||ae==-1?-1:m.ch+ae,me!=-1&&Te!=-1&&Te!=m.ch?!1:(x.operation(function(){x.replaceRange("",s(E,V-(M&&J.slice(V-M.length,V)==M?M.length:0)),s(E,V+se.length));var N=re+$.length;if(M&&Y.slice(N,N+M.length)==M&&(N+=M.length),x.replaceRange("",s(R,re),s(R,N)),F)for(var de=R+1;de<=E;++de){var ve=x.getLine(de),G=ve.indexOf(F);if(!(G==-1||i.test(ve.slice(0,G)))){var _e=G+F.length;M&&ve.slice(_e,_e+M.length)==M&&(_e+=M.length),x.replaceRange("",s(de,G),s(de,_e))}}}),!0)})})}();const eQ=H.memo(function({initialCode:t,initialName:n,initialUrlMatchInclude:r,isViewingOldVersion:i,editorRef:s,onCodeChange:l,clearErrorMark:u,cmTheme:c="material-darker"}){return T.jsx(fM,{value:t,options:{mode:"javascript",theme:c,lineNumbers:!0,lineWrapping:!0,autoCloseBrackets:!0,matchBrackets:!0,indentUnit:2,tabSize:2,readOnly:i,extraKeys:{Tab:h=>{h.somethingSelected()?h.indentSelection("add"):h.replaceSelection("  ")},"Shift-Tab":h=>{h.indentSelection("subtract")},"Cmd-/":h=>{h.toggleComment()},"Ctrl-/":h=>{h.toggleComment()}}},editorDidMount:h=>{s.current=h;const g=M_(t,{name:n,match:r});g!==t&&h.setValue(g)},onChange:(h,g)=>{g.origin!=="setValue"&&(u(),l())}})},(e,t)=>e.scriptId===t.scriptId&&e.isViewingOldVersion===t.isViewingOldVersion&&e.cmTheme===t.cmTheme);function tQ(e,t,n){var u;if(n.current.forEach(c=>c.clear()),n.current=[],!e||!t)return;const r=b8(t);if(!r)return;const i=e.getValue(),s=i.split(`
`);let l;for(r.lastIndex=0;(l=r.exec(i))!==null;){const c=l.index,h=c+l[0].length;let g=0,m=0,v=0,x=0,w=0;for(let R=0;R<s.length;R++){const S=(((u=s[R])==null?void 0:u.length)??0)+1;if(g+S>c&&m===0&&v===0&&g<=c&&(m=R,v=c-g),g+S>=h){x=R,w=h-g;break}g+=S}const E=e.markText({line:m,ch:v},{line:x,ch:w},{css:"background-color: oklch(95.9% 0.109 102.6)"});n.current.push(E),l[0].length===0&&r.lastIndex++}}function nQ(e){const{searchFilter:t,editorRef:n}=e,{mode:r}=Tt(),i=r==="dark"?"material-darker":"default",s=H.useRef([]);return H.useEffect(()=>tQ(n.current,t,s),[t,n]),T.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",minHeight:0},className:e.isViewingOldVersion?"cm-read-only-container":"",children:T.jsx(eQ,{...e,cmTheme:i})})}function rQ({scriptName:e,getCode:t,setCode:n,onCodeChange:r}){const i=H.useRef(null),s=H.useCallback(()=>{const c=t(),h=new Blob([c],{type:"application/javascript"}),g=URL.createObjectURL(h),m=e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")||"script",v=document.createElement("a");v.href=g,v.download=`${m}.js`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(g)},[e,t]),l=H.useCallback(()=>{var c;(c=i.current)==null||c.click()},[]),u=H.useCallback(c=>{var m;const h=(m=c.target.files)==null?void 0:m[0];if(!h)return;const g=new FileReader;g.onload=v=>{var w;const x=(w=v.target)==null?void 0:w.result;typeof x=="string"&&(n(x),r())},g.readAsText(h),c.target.value=""},[n,r]);return{fileInputRef:i,downloadScript:s,triggerUpload:l,handleFileUpload:u}}function hM(e,t){var n;return t?((n=e.lastOutputPerTabId)==null?void 0:n[t])??null:null}function iQ({script:e,currentTabId:t,navSource:n,onSave:r,onClose:i,onApply:s,onRestore:l,onNewVersion:u,setIsEnabled:c,onDelete:h}){const{c:g}=Tt(),{fs:m,fw:v}=_t(),[x,w]=H.useState(e.currentCommit||1),[E,R]=H.useState(!1),[S,k]=H.useState(!1),M=hM(e,t),[P,W]=H.useState(!1),[z,Q]=H.useState(!1),[$,se]=H.useState(!1),[F,Y]=H.useState({value:"",regex:!1,caseSensitive:!1}),re=H.useRef(null),J=H.useRef(null),V=H.useRef(e),B=H.useRef(null),Re=H.useRef(()=>{}),Te=()=>{var tt;return((tt=J.current)==null?void 0:tt.getValue())??Fr(e)},me=()=>{var Yt,En;const tt=((Yt=J.current)==null?void 0:Yt.getValue())??Fr(e),Ne=NA(tt),Pt=e.currentCommit||1,Ht=e.versions.map(oi=>oi.commit===Pt?{...oi,code:tt}:oi);r({...e,versions:Ht,name:(Ne==null?void 0:Ne.name)||e.name,urlMatchInclude:(En=Ne==null?void 0:Ne.match)!=null&&En.length?Ne.match:e.urlMatchInclude,urlMatchExclude:Ne==null?void 0:Ne.excludeMatch,urlInclude:Ne==null?void 0:Ne.include,urlExclude:Ne==null?void 0:Ne.exclude,icon:Ne==null?void 0:Ne.icon,iconURL:Ne==null?void 0:Ne.iconURL,defaulticon:Ne==null?void 0:Ne.defaulticon,updatedAt:new Date().toISOString()})};Re.current=me;const ae=()=>{B.current&&clearTimeout(B.current),B.current=setTimeout(me,800)};H.useEffect(()=>()=>{B.current&&(clearTimeout(B.current),Re.current())},[]);const{fileInputRef:N,downloadScript:de,triggerUpload:ve,handleFileUpload:G}=rQ({scriptName:e.name,getCode:Te,setCode:tt=>{var Ne;return(Ne=J.current)==null?void 0:Ne.setValue(tt)},onCodeChange:ae}),_e=e.versions||[],Be=async()=>{var tt;if(u){const Ne=await u(e.id);Ne&&(w(Ne.currentCommit),(tt=J.current)==null||tt.setValue(Fr(Ne)))}},Oe=tt=>{var Pt;const Ne=_e.find(Ht=>Ht.commit===tt);Ne&&(B.current&&(clearTimeout(B.current),me()),w(tt),(Pt=J.current)==null||Pt.setValue(Ne.code),R(tt!==(e.currentCommit||1)))},Ue=async()=>{var tt;if(l){const Ne=await l(e.id,x);Ne&&(R(!1),w(Ne.currentCommit),(tt=J.current)==null||tt.setValue(Fr(Ne)))}},oe=tt=>{const Ne=tt.match(/<anonymous>:(\d+):(\d+)/);if(!(Ne!=null&&Ne[1])||!Ne[2])return null;const{linesBefore:Pt}=mI(""),Ht=parseInt(Ne[1],10)-Pt,Yt=parseInt(Ne[2],10);return Ht<1?null:{line:Ht,column:Yt}},Se=()=>{re.current&&(re.current.clear(),re.current=null)},Ee=tt=>{Se();const Ne=J.current;if(!Ne)return;const Pt=tt-1,Ht=Ne.getLine(Pt);Ht!==void 0&&(re.current=Ne.markText({line:Pt,ch:0},{line:Pt,ch:Ht.length},{className:"cm-error-line"}))},Fe=async()=>{if(!S){k(!0);try{B.current&&(clearTimeout(B.current),me());const tt=Te(),Ne=e.currentCommit||1,Pt=e.versions.map(Yt=>Yt.commit===Ne?{...Yt,code:tt}:Yt),Ht=await s({...e,versions:Pt});if(Ht.error){const Yt=Ht.errorMessage||"Unknown error",En=oe(Yt);En&&Ee(En.line)}else Se()}finally{k(!1)}}},Ye=H.useRef(Fe);return H.useEffect(()=>{Ye.current=Fe}),H.useEffect(()=>{const tt=Ne=>{(Ne.metaKey||Ne.ctrlKey)&&Ne.key==="Enter"&&(Ne.preventDefault(),Ye.current())};return window.addEventListener("keydown",tt),()=>window.removeEventListener("keydown",tt)},[]),T.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%",backgroundColor:g("bg","primary")},children:[T.jsxs("div",{style:{padding:"8px 16px",borderBottom:`1px solid ${g("border","primary")}`,display:"flex",alignItems:"center",gap:"8px",position:"relative"},children:[T.jsxs("button",{onMouseDown:i,onMouseEnter:()=>W(!0),onMouseLeave:()=>W(!1),style:{padding:"2px 6px 2px 2px",backgroundColor:"transparent",color:g("text","secondary"),border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",zIndex:1},title:n==="chat"?"Back to chat":"Back to all scripts",children:[T.jsx(RP,{size:16}),P&&T.jsx("span",{style:{fontSize:m("sm"),whiteSpace:"nowrap",color:g("text","secondary")},children:n==="chat"?"Back to chat":"Back to scripts"})]}),T.jsx("span",{style:{position:"absolute",left:"50%",transform:"translateX(-50%)",fontSize:m("md"),fontWeight:v("medium"),color:g("text","primary"),pointerEvents:"none"},children:e.name}),T.jsx("div",{style:{flex:1}}),T.jsx("input",{ref:N,type:"file",accept:".js,.ts,.txt",onChange:G,style:{display:"none"}}),T.jsx("button",{onMouseDown:de,style:{padding:"2px",backgroundColor:"transparent",color:g("text","secondary"),border:"none",cursor:"pointer",display:"flex",alignItems:"center"},title:"Download script",children:T.jsx(FP,{size:16})}),T.jsx("button",{onMouseDown:ve,style:{padding:"2px",backgroundColor:"transparent",color:g("text","secondary"),border:"none",cursor:"pointer",display:"flex",alignItems:"center"},title:"Upload script",children:T.jsx(LP,{size:16})})]}),T.jsxs("div",{style:{padding:"8px 16px",borderBottom:`1px solid ${g("border","primary")}`,display:"flex",alignItems:"center",gap:"8px"},children:[T.jsx("select",{value:x,onChange:tt=>Oe(parseInt(tt.target.value)),disabled:_e.length===1,style:{padding:"4px 8px",fontSize:m("sm"),border:`1px solid ${g("border","primary")}`,borderRadius:"4px",backgroundColor:g("bg","primary"),color:g("text","primary"),cursor:_e.length===1?"default":"pointer"},children:_e.map(tt=>T.jsxs("option",{value:tt.commit,children:["#",tt.commit,tt.commit===(e.currentCommit||1)?" (current)":""," -"," ",uQ[tt.createdBy],", ",wp(tt.createdAt)]},tt.commit))}),u&&!E&&T.jsx("button",{onMouseDown:Be,style:{padding:"4px 8px",fontSize:m("xs"),backgroundColor:g("bg","primary"),color:g("primary","text"),border:`1px solid ${g("primary","main")}`,borderRadius:"4px",cursor:"pointer"},title:"Create a new version checkpoint",children:"Save Version"}),E&&T.jsx("span",{style:{fontSize:m("xs"),color:g("warning","main"),fontStyle:"italic"},children:"Viewing old version (read-only)"}),T.jsxs("div",{style:{display:"flex",alignItems:"center",backgroundColor:g("bg","primary"),border:`1px solid ${g("border","primary")}`,padding:"0 8px",height:"24px",boxSizing:"border-box",flex:1,minWidth:0},children:[T.jsx("input",{value:F.value,onChange:tt=>Y({...F,value:tt.target.value}),onKeyDown:tt=>{tt.key==="Escape"&&Y({value:"",regex:!1,caseSensitive:!1})},placeholder:"Search code",style:{flex:1,minWidth:0,border:"none",outline:"none",fontSize:m("sm"),backgroundColor:"transparent",color:g("text","primary")}}),T.jsx("button",{type:"button",onMouseDown:()=>Y({...F,caseSensitive:!F.caseSensitive}),style:{padding:"2px 4px",fontSize:m("xs"),fontFamily:"monospace",backgroundColor:F.caseSensitive?g("bg","selected"):"transparent",color:F.caseSensitive?g("primary","text"):g("text","tertiary"),border:"none",cursor:"pointer",marginLeft:"4px",flexShrink:0},title:"Case sensitive",children:"Aa"}),T.jsx("button",{type:"button",onMouseDown:()=>Y({...F,regex:!F.regex}),style:{padding:"2px 4px",fontSize:m("xs"),fontFamily:"monospace",backgroundColor:F.regex?g("bg","selected"):"transparent",color:F.regex?g("primary","text"):g("text","tertiary"),border:"none",cursor:"pointer",marginLeft:"4px",flexShrink:0},title:"Use regular expression",children:".*"})]})]}),T.jsx(nQ,{scriptId:e.id,initialCode:Fr(V.current),initialName:V.current.name,initialUrlMatchInclude:V.current.urlMatchInclude||[],isViewingOldVersion:E,editorRef:J,onCodeChange:ae,clearErrorMark:Se,searchFilter:F}),M&&T.jsx(q9,{output:M,onClear:async()=>{if(Se(),t){const Ne=(await Jo()).map(Pt=>{if(Pt.id!==e.id)return Pt;const Ht={...Pt.lastOutputPerTabId};return delete Ht[t],{...Pt,lastOutputPerTabId:Ht}});await $r(Ne)}}}),T.jsxs("div",{style:{padding:"8px 16px",borderTop:`1px solid ${g("border","primary")}`,display:"flex",alignItems:"center",gap:"8px"},children:[c&&T.jsx(Sl,{checked:e.enabled,onChange:tt=>c(e.id,tt),label:"Enabled",size:"sm"}),T.jsx("div",{style:{flex:1}}),T.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[T.jsx("span",{style:{fontSize:m("xs"),color:g("text","tertiary")},children:"+Enter to run"}),T.jsx("button",{onMouseDown:Fe,onMouseEnter:()=>Q(!0),onMouseLeave:()=>Q(!1),disabled:S,title:"Run script on page",style:{padding:"6px",backgroundColor:S?g("border","primary"):z?g("primary","hover"):g("primary","main"),color:S?g("text","tertiary"):g("buttonText","onPrimary"),border:"none",borderRadius:"4px",cursor:S?"not-allowed":"pointer",display:"flex",alignItems:"center",opacity:S?.6:1,transition:"background-color 0.15s ease"},children:T.jsx(IC,{size:18})}),h&&T.jsxs("div",{style:{position:"relative"},children:[$&&T.jsx(DC,{message:"Delete this script?",onCancel:()=>se(!1),onConfirm:()=>{B.current&&(clearTimeout(B.current),B.current=null),h(e.id),i()}}),T.jsx("button",{onMouseDown:()=>se(!0),title:"Delete script",style:{padding:"6px",backgroundColor:"transparent",color:g("error","text"),border:`1px solid ${g("error","border")}`,borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center"},children:T.jsx($P,{size:18})})]}),E&&T.jsx("button",{onMouseDown:Ue,title:"Restore this version",style:{padding:"6px 12px",fontSize:m("sm"),backgroundColor:g("warning","main"),color:g("buttonText","onPrimary"),border:"none",borderRadius:"4px",cursor:"pointer"},children:"Restore"})]})]})]})}function oQ(e,t){if(e.length<=t)return e;const n=t-3,r=Math.ceil(n/2),i=Math.floor(n/2);return e.slice(0,r)+"..."+e.slice(-i)}function sQ(e){return e<1024?`${e} bytes`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/1024*1024).toFixed(1)} MB`}const aQ=H.memo(function({script:t,currentTabId:n,onClick:r,onApply:i,setIsEnabled:s}){const{c:l}=Tt(),{fs:u,fw:c}=_t(),h=H.useRef(null),[g,m]=H.useState(50),[v,x]=H.useState(!1),[w,E]=H.useState(!1),R=hM(t,n);H.useEffect(()=>{const P=h.current;if(!P)return;const W=()=>{const Q=P.offsetWidth,$=Math.floor(Q/8);m(Math.max(20,$))};W();const z=new ResizeObserver(W);return z.observe(P),()=>z.disconnect()},[]);const S=()=>{const P=t.urlMatchInclude||[],W=t.urlInclude&&t.urlInclude.length>0||t.urlExclude&&t.urlExclude.length>0||t.urlMatchExclude&&t.urlMatchExclude.length>0,z=W?"*":"";return P.length===0?W?"Custom patterns*":"No patterns":P.includes("*://*/*")?`All sites${z}`:P.length===1&&P[0]?`${T_(P[0])}${z}`:`${P.length} patterns${z}`},k=()=>{const P=t.versions.find(W=>W.commit===t.currentCommit);return P?wp(P.createdAt):""},M=async P=>{if(P.stopPropagation(),!v){x(!0);try{await i(t)}finally{x(!1)}}};return T.jsxs("div",{onMouseDown:r,style:{padding:"12px",backgroundColor:l("bg","card"),cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[T.jsxs("div",{ref:h,style:{display:"flex",flexDirection:"column",gap:"8px",minWidth:0,flex:1},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",minWidth:0},children:[(t.icon||t.iconURL||t.defaulticon)&&T.jsx("img",{src:t.icon||t.iconURL||t.defaulticon,alt:"",style:{width:"16px",height:"16px",borderRadius:"2px",flexShrink:0},onError:P=>{P.target.style.display="none"}}),T.jsx("span",{style:{fontSize:u("md"),fontWeight:c("medium"),color:l("text","primary"),whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:t.name,children:oQ(t.name,g)})]}),T.jsx("div",{style:{fontSize:u("sm"),color:l("text","secondary")},children:`${sQ(Fr(t).length)}  v${t.currentCommit} (${k()})  Runs on: ${S()}`}),T.jsx("div",{onMouseDown:P=>P.stopPropagation(),children:T.jsx(Sl,{checked:t.enabled,onChange:P=>s(t.id,P),label:"Enabled",size:"sm"})})]}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginLeft:"12px",flexShrink:0},children:[(R==null?void 0:R.error)&&T.jsx(bC,{size:16,color:"oklch(73.8% 0.138 32.5)",title:R.error.errorText}),T.jsx("button",{onMouseDown:M,onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),disabled:v,title:"Run script on page",style:{padding:"6px",backgroundColor:v?l("border","primary"):w?l("primary","hover"):l("primary","main"),color:v?l("text","tertiary"):l("buttonText","onPrimary"),border:"none",borderRadius:"4px",cursor:v?"not-allowed":"pointer",display:"flex",alignItems:"center",opacity:v?.6:1,transition:"background-color 0.15s ease"},children:T.jsx(IC,{size:14})})]})]})});function lQ({nameFilter:e,setNameFilter:t,hostFilter:n,setHostFilter:r,codeFilter:i,setCodeFilter:s,enabledFilter:l,setEnabledFilter:u,onlyThisSite:c,setOnlyThisSite:h,showAdvancedFilter:g,setShowAdvancedFilter:m,filteredCount:v,totalCount:x,onEnableAll:w,onDisableAll:E,onDeleteAll:R}){const{c:S}=Tt(),{fs:k}=_t(),M=e.value||n.value||i.value||l!=="all"||c,P={display:"flex",alignItems:"center",backgroundColor:S("bg","primary"),border:`1px solid ${S("border","primary")}`,padding:"0 8px",height:"32px",boxSizing:"border-box"},W={flex:1,border:"none",outline:"none",fontSize:k("base"),backgroundColor:"transparent",color:S("text","primary")},z=Q=>({padding:"2px 4px",fontSize:k("xs"),fontFamily:"monospace",backgroundColor:Q?S("bg","selected"):"transparent",color:Q?S("primary","text"):S("text","tertiary"),border:"none",cursor:"pointer",marginLeft:"4px",flexShrink:0});return T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:{marginBottom:"16px",display:"flex",gap:"8px",alignItems:"flex-start",...g&&{padding:"12px",backgroundColor:S("bg","tertiary"),border:`1px solid ${S("border","primary")}`}},children:[T.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"10px"},children:[T.jsxs("div",{style:P,children:[T.jsx(wl,{size:16,style:{color:S("text","secondary"),marginRight:"8px",flexShrink:0}}),T.jsx("input",{type:"text",value:e.value,onChange:Q=>t({...e,value:Q.target.value}),placeholder:"Filter by name",style:W}),T.jsx("button",{type:"button",onMouseDown:()=>t({...e,caseSensitive:!e.caseSensitive}),style:z(e.caseSensitive??!1),title:"Case sensitive",children:"Aa"}),T.jsx("button",{type:"button",onMouseDown:()=>t({...e,regex:!e.regex}),style:z(e.regex??!1),title:"Use regular expression",children:".*"})]}),g&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:P,children:[T.jsx(wl,{size:16,style:{color:S("text","secondary"),marginRight:"8px",flexShrink:0}}),T.jsx("input",{type:"text",value:n.value,onChange:Q=>r({...n,value:Q.target.value}),placeholder:"Filter by site match pattern",style:W}),T.jsx("button",{type:"button",onMouseDown:()=>r({...n,caseSensitive:!n.caseSensitive}),style:z(n.caseSensitive??!1),title:"Case sensitive",children:"Aa"}),T.jsx("button",{type:"button",onMouseDown:()=>r({...n,regex:!n.regex}),style:z(n.regex??!1),title:"Use regular expression",children:".*"})]}),T.jsxs("div",{style:P,children:[T.jsx(wl,{size:16,style:{color:S("text","secondary"),marginRight:"8px",flexShrink:0}}),T.jsx("input",{type:"text",value:i.value,onChange:Q=>s({...i,value:Q.target.value}),placeholder:"Filter by code",style:W}),T.jsx("button",{type:"button",onMouseDown:()=>s({...i,caseSensitive:!i.caseSensitive}),style:z(i.caseSensitive??!1),title:"Case sensitive",children:"Aa"}),T.jsx("button",{type:"button",onMouseDown:()=>s({...i,regex:!i.regex}),style:z(i.regex??!1),title:"Use regular expression",children:".*"})]}),T.jsxs("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:"12px",fontSize:k("base"),color:S("text","secondary")},children:[T.jsxs("select",{value:l,onChange:Q=>u(Q.target.value),style:{padding:"4px 8px",fontSize:k("base"),border:`1px solid ${S("border","primary")}`,backgroundColor:S("bg","primary"),color:S("text","primary"),cursor:"pointer"},children:[T.jsx("option",{value:"all",children:"Enabled or disabled"}),T.jsx("option",{value:"enabled",children:"Enabled"}),T.jsx("option",{value:"disabled",children:"Disabled"})]}),T.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[T.jsx("input",{type:"checkbox",checked:c,onChange:Q=>h(Q.target.checked),style:{marginRight:"6px"}}),"Only scripts for this site"]})]})]})]}),T.jsxs("button",{onMouseDown:()=>m(!g),style:{padding:"0 8px",height:"32px",boxSizing:"border-box",backgroundColor:g?S("bg","selected"):"transparent",color:g?S("primary","text"):S("text","secondary"),border:`1px solid ${S("border","primary")}`,cursor:"pointer",display:"flex",alignItems:"center",flexShrink:0},title:"Advanced filters",children:[T.jsx(CC,{size:16}),!g&&T.jsx("span",{style:{marginLeft:"4px",fontSize:k("sm")},children:"Advanced"})]})]}),M&&T.jsxs("div",{style:{marginTop:"4px",marginBottom:"8px",fontSize:k("sm"),color:S("text","secondary"),display:"flex",alignItems:"center",gap:"12px"},children:[T.jsx("span",{children:`Showing ${v} of ${x} scripts`}),v>0&&(w||E||R)&&T.jsxs("span",{style:{display:"flex",gap:"8px"},children:[w&&T.jsx("button",{onMouseDown:w,style:{padding:"2px 8px",fontSize:k("xs"),backgroundColor:"transparent",color:S("text","secondary"),border:`1px solid ${S("border","subtle")}`,cursor:"pointer"},children:"Enable all"}),E&&T.jsx("button",{onMouseDown:E,style:{padding:"2px 8px",fontSize:k("xs"),backgroundColor:"transparent",color:S("text","secondary"),border:`1px solid ${S("border","subtle")}`,cursor:"pointer"},children:"Disable all"}),R&&T.jsx("button",{onMouseDown:()=>{window.confirm(`Delete ${v} script${v===1?"":"s"}?`)&&R()},style:{padding:"2px 8px",fontSize:k("xs"),backgroundColor:"transparent",color:S("text","secondary"),border:`1px solid ${S("border","subtle")}`,cursor:"pointer"},children:"Delete all"})]})]})]})}const uQ={ai_create:"AI created",ai_edit:"AI edit",user_create:"User created",user_upversion:"User version",user_revert:"User revert"};function cQ({activeTab:e,scriptsHook:t,currentTabId:n}){const{c:r}=Tt(),{fs:i,fw:s}=_t(),[l,u]=H.useState({value:"",regex:!1}),[c,h]=H.useState({value:"",regex:!1}),[g,m]=H.useState({value:"",regex:!1}),[v,x]=H.useState(!1),[w,E]=H.useState("all"),[R,S]=H.useState(!1),[k,M]=H.useState(null),[P,W]=H.useState(!1),{scripts:z,editingScript:Q,setEditingScript:$,scriptNavSource:se,closeScriptEditor:F,setScriptEnabled:Y,handleBulkToggle:re,handleBulkDelete:J,handleDeleteScript:V,handleApplyScript:B,handleUpdateScript:Re,createBlankScript:Te,restoreVersion:me,createNewVersion:ae}=t;H.useEffect(()=>{n&&chrome.tabs.get(n,ve=>{ve!=null&&ve.url&&M(ve.url)})},[n]);const N=DE(z,{name:l,host:c,code:g,enabled:w,currentUrl:v&&k||void 0}),de=e==="scripts";return Q?T.jsx("div",{style:{flex:1,overflow:"hidden",display:de?"flex":"none",width:"100%"},children:T.jsx(iQ,{script:Q,currentTabId:n,navSource:se,onSave:ve=>{Re(ve,!1)},onRestore:async(ve,G)=>{const _e=await me(ve,G);return _e&&$(_e),_e},onNewVersion:async ve=>{const G=await ae(ve);return G&&$(G),G},onClose:F,onApply:B,setIsEnabled:Y,onDelete:V},Q.id)}):T.jsx("div",{style:{flex:1,overflow:"hidden",display:de?"flex":"none",flexDirection:"column"},id:"scriptsPanel",children:T.jsxs("div",{style:{padding:"20px",overflowY:"auto",flex:1,backgroundColor:r("bg","listPanel")},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[T.jsx("h2",{style:{fontSize:i("lg"),fontWeight:s("light"),color:r("text","primary"),margin:0},children:"Saved Scripts"}),T.jsx("button",{onMouseDown:()=>Te(),onMouseEnter:()=>W(!0),onMouseLeave:()=>W(!1),style:{background:P?r("bg","hover"):"none",border:"none",cursor:"pointer",padding:"6px 12px",fontSize:i("base"),color:r("primary","main"),borderRadius:"4px"},children:"+ Script"})]}),T.jsx(lQ,{nameFilter:l,setNameFilter:u,hostFilter:c,setHostFilter:h,codeFilter:g,setCodeFilter:m,enabledFilter:w,setEnabledFilter:E,onlyThisSite:v,setOnlyThisSite:x,showAdvancedFilter:R,setShowAdvancedFilter:ve=>{S(ve),ve||(h({value:"",regex:!1}),m({value:"",regex:!1}),E("all"),x(!1))},filteredCount:N.length,totalCount:z.length,onEnableAll:()=>re(N.map(ve=>ve.id),!0),onDisableAll:()=>re(N.map(ve=>ve.id),!1),onDeleteAll:()=>J(N.map(ve=>ve.id))}),z.length===0?T.jsxs("div",{style:{textAlign:"center",color:r("text","secondary"),padding:"40px 20px"},children:[T.jsx("p",{style:{fontSize:i("md"),marginBottom:"8px"},children:"No scripts yet"}),T.jsx("p",{style:{fontSize:i("sm")},children:"Ask the AI to make changes to a page and they will appear here"})]}):N.length===0?T.jsx("div",{style:{textAlign:"center",color:r("text","secondary"),padding:"40px 20px"},children:T.jsx("p",{style:{fontSize:i("md")},children:"No matching scripts"})}):T.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:N.map(ve=>T.jsx(aQ,{script:ve,currentTabId:n,onClick:()=>$(ve),onApply:B,setIsEnabled:Y},ve.id))})]})})}function fQ(){const{c:e}=Tt(),{fs:t}=_t();return T.jsx("div",{style:{height:"100vh",display:"flex",flexDirection:"column",backgroundColor:e("bg","primary"),padding:"20px"},children:T.jsxs("div",{style:{padding:"10px 12px",backgroundColor:e("bg","tertiary"),borderRadius:"4px",fontSize:t("sm"),color:e("text","secondary"),lineHeight:"1.5"},children:[T.jsx("p",{style:{margin:"0 0 8px 0"},children:"To change this keyboard shortcut which opens the side panel"}),T.jsxs("ol",{style:{margin:"0",paddingLeft:"20px",listStyle:"decimal"},children:[T.jsxs("li",{children:["Find ",T.jsx("strong",{style:{color:e("text","primary")},children:"QuillMonkey"})," in the list on this page"]}),T.jsx("li",{children:"Click the pencil icon next to the shortcut"}),T.jsx("li",{children:"Press your desired key combination"})]}),T.jsx("p",{style:{margin:"8px 0 8px 0"},children:"Or close the tab if you do not want to make any changes."})]})})}function dQ(){const{c:e}=Tt(),{fs:t,fw:n}=_t(),[r,i]=H.useState(!1);return T.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",backgroundColor:e("bg","primary"),padding:"20px"},children:[T.jsx("h1",{style:{fontSize:t("xl"),fontWeight:n("semibold"),color:e("text","primary"),margin:"0 0 8px 0",textAlign:"center"},children:"Enable userscripts"}),T.jsx("p",{style:{fontSize:t("base"),color:e("text","secondary"),margin:"0 0 4px 0",textAlign:"center"},children:"It should be checked on as pictured for scripts to run. You can close the tab when done"}),T.jsx("span",{onClick:()=>i(!0),style:{fontSize:t("sm"),color:e("primary","text"),cursor:"pointer",textDecoration:"underline",textAlign:"center",display:"block"},children:"what is this?"}),T.jsx("div",{style:{flex:1,minHeight:0,display:"flex",alignItems:"center",justifyContent:"center",marginTop:"20px",overflow:"hidden"},children:T.jsx("img",{src:chrome.runtime.getURL("media/enableUserscript.png"),alt:"Enable userscripts toggle",style:{maxWidth:"100%",maxHeight:"100%",borderRadius:"8px",border:`1px solid ${e("border","subtle")}`,objectFit:"contain"}})}),r&&T.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"oklch(0% 0 0 / 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>i(!1),children:T.jsxs("div",{style:{position:"relative",backgroundColor:e("bg","primary"),borderRadius:"8px",padding:"20px",paddingTop:"40px",maxWidth:"320px",boxShadow:"0 4px 12px oklch(0% 0 0 / 0.15)"},onClick:s=>s.stopPropagation(),children:[T.jsx("button",{onClick:()=>i(!1),style:{position:"absolute",top:"8px",right:"8px",background:"none",border:"none",fontSize:t("xl"),color:e("text","secondary"),cursor:"pointer",padding:"4px",lineHeight:1},children:""}),T.jsx("p",{style:{fontSize:t("base"),color:e("text","primary"),lineHeight:"1.6",margin:"0 0 12px 0"},children:"QuillMonkey allows AI to make user-requested changes via a Chrome setting. To continue, make sure that this is toggled on."}),T.jsx("p",{style:{fontSize:t("base"),color:e("text","primary"),lineHeight:"1.6",margin:"0 0 8px 0"},children:"At a later date, if you would like to disable changes, you can do one of:"}),T.jsxs("ol",{style:{fontSize:t("base"),lineHeight:"1.6",margin:"0 0 16px 0",paddingLeft:"20px"},children:[T.jsx("li",{children:"Disable any single change that the AI made"}),T.jsx("li",{children:"Fine-tune permissions within the app interface"}),T.jsx("li",{children:"Untoggle this setting in Chrome as needed"})]}),T.jsx("button",{onClick:()=>i(!1),style:{width:"100%",padding:"8px 16px",backgroundColor:e("primary","main"),color:e("buttonText","onPrimary"),border:"none",borderRadius:"4px",fontSize:t("base"),cursor:"pointer"},children:"Got it"})]})})]})}function hQ({message:e,onClose:t,onDontShowAgain:n}){const{c:r}=Tt(),{fs:i,fw:s}=_t();return T.jsxs("div",{style:{position:"absolute",bottom:"12px",left:"12px",right:"12px",padding:"10px 12px",backgroundColor:r("bg","primary"),border:`1px solid ${r("border","primary")}`,borderRadius:"6px",boxShadow:`0 4px 12px ${r("shadow","menu")}`,display:"flex",alignItems:"flex-start",gap:"8px",fontSize:i("base"),fontWeight:s("medium"),color:r("text","primary"),lineHeight:"1.4",zIndex:100},children:[T.jsxs("div",{style:{flex:1},children:[T.jsx("div",{children:e}),n&&T.jsx("button",{onMouseDown:l=>{l.stopPropagation(),n()},style:{background:"none",border:"none",padding:0,marginTop:"6px",fontSize:i("sm"),color:r("text","primary"),cursor:"pointer",textDecoration:"underline",fontWeight:s("medium")},children:"Don't tell me again"})]}),T.jsx("button",{onMouseDown:l=>{l.stopPropagation(),t()},style:{background:"none",border:"none",padding:"2px",cursor:"pointer",color:r("text","tertiary"),display:"flex",alignItems:"center",flexShrink:0},children:T.jsx(bl,{size:14})})]})}const fd="apiConfig",dd="scriptRules",hd="userPrefs",pd={maxOutputLength:null,forbiddenOutputText:null,forbiddenToolText:null,chatScriptsTimeout:null},bx={analyzePage:"approved",fetchPage:"approved",listScripts:"approved",writeNew:"approved",update:"approved",append:"approved",reExecute:"approved",grabScreenshot:"approved"};function pQ(){const e="quillmonkey",[t,n]=H.useState(Of.value),[r,i]=H.useState(pd),[s,l]=H.useState(!1),[u,c]=H.useState(!0),[h,g]=H.useState(!0),[m,v]=H.useState(bx),x=H.useRef(!0);H.useEffect(()=>{if(x.current)return;const M=setTimeout(()=>{const P={provider:e,model:t};chrome.storage.local.set({[fd]:P,[dd]:r,[hd]:{hideDisableScriptToast:s,enqueueMode:u,autoApplyScripts:h,toolUsePermissions:m}}).catch(W=>console.error("Error saving settings:",W))},300);return()=>clearTimeout(M)},[t,r,s,u,h,m]);const w=H.useCallback(M=>{if(!M)return;const P=M.model||Of.value;n(P)},[]),E=H.useCallback(async()=>{x.current=!0;try{const M=await chrome.storage.local.get([fd,dd,hd]);w(M[fd]);const P=M[dd];i(P?{...pd,...P}:pd);const W=M[hd];l((W==null?void 0:W.hideDisableScriptToast)??!1),c((W==null?void 0:W.enqueueMode)??!0),g((W==null?void 0:W.autoApplyScripts)??!0),W!=null&&W.toolUsePermissions&&v({...bx,...W.toolUsePermissions})}catch(M){console.error("Error loading settings:",M)}finally{setTimeout(()=>{x.current=!1},100)}},[w]);H.useEffect(()=>{const M=(P,W)=>{if(W==="local"){if(x.current=!0,P[fd]&&w(P[fd].newValue),P[dd]){const z=P[dd].newValue;i(z?{...pd,...z}:pd)}if(P[hd]){const z=P[hd].newValue;l((z==null?void 0:z.hideDisableScriptToast)??!1),c((z==null?void 0:z.enqueueMode)??!0),g((z==null?void 0:z.autoApplyScripts)??!0),z!=null&&z.toolUsePermissions&&v({...bx,...z.toolUsePermissions})}setTimeout(()=>{x.current=!1},100)}};return chrome.storage.onChanged.addListener(M),()=>chrome.storage.onChanged.removeListener(M)},[w]);const R=H.useCallback(M=>{l(M)},[]),S=H.useCallback(M=>{c(M)},[]),k=H.useCallback(M=>{g(M)},[]);return{provider:e,defaultModel:t,setDefaultModel:n,loadSettings:E,scriptRules:r,setScriptRules:i,hideDisableScriptToast:s,setHideDisableScriptToast:R,enqueueMode:u,setEnqueueMode:S,autoApplyScripts:h,setAutoApplyScripts:k,toolUsePermissions:m,setToolUsePermissions:v}}function Bs(e){return Array.isArray?Array.isArray(e):mM(e)==="[object Array]"}function gQ(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function mQ(e){return e==null?"":gQ(e)}function is(e){return typeof e=="string"}function pM(e){return typeof e=="number"}function yQ(e){return e===!0||e===!1||vQ(e)&&mM(e)=="[object Boolean]"}function gM(e){return typeof e=="object"}function vQ(e){return gM(e)&&e!==null}function no(e){return e!=null}function wx(e){return!e.trim().length}function mM(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const AQ="Incorrect 'index' type",xQ=e=>`Invalid value for key ${e}`,bQ=e=>`Pattern length exceeds max of ${e}.`,wQ=e=>`Missing ${e} property in key`,SQ=e=>`Property 'weight' in key '${e}' must be a positive integer`,yM=Object.prototype.hasOwnProperty;class CQ{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let i=vM(r);this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function vM(e){let t=null,n=null,r=null,i=1,s=null;if(is(e)||Bs(e))r=e,t=AM(e),n=Sx(e);else{if(!yM.call(e,"name"))throw new Error(wQ("name"));const l=e.name;if(r=l,yM.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(SQ(l));t=AM(l),n=Sx(l),s=e.getFn}return{path:t,id:n,weight:i,src:r,getFn:s}}function AM(e){return Bs(e)?e:e.split(".")}function Sx(e){return Bs(e)?e.join("."):e}function kQ(e,t){let n=[],r=!1;const i=(s,l,u)=>{if(no(s))if(!l[u])n.push(s);else{let c=l[u];const h=s[c];if(!no(h))return;if(u===l.length-1&&(is(h)||pM(h)||yQ(h)))n.push(mQ(h));else if(Bs(h)){r=!0;for(let g=0,m=h.length;g<m;g+=1)i(h[g],l,u+1)}else l.length&&i(h,l,u+1)}};return i(e,is(t)?t.split("."):t,0),r?n:n[0]}var Lt={...{isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},...{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},...{location:0,threshold:.6,distance:100},...{useExtendedSearch:!1,getFn:kQ,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const IQ=/[^ ]+/g;function EQ(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(i){const s=i.match(IQ).length;if(n.has(s))return n.get(s);const l=1/Math.pow(s,.5*e),u=parseFloat(Math.round(l*r)/r);return n.set(s,u),u},clear(){n.clear()}}}class Cx{constructor({getFn:t=Lt.getFn,fieldNormWeight:n=Lt.fieldNormWeight}={}){this.norm=EQ(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,is(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();is(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!no(t)||wx(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((i,s)=>{let l=i.getFn?i.getFn(t):this.getFn(t,i.path);if(no(l)){if(Bs(l)){let u=[];const c=[{nestedArrIndex:-1,value:l}];for(;c.length;){const{nestedArrIndex:h,value:g}=c.pop();if(no(g))if(is(g)&&!wx(g)){let m={v:g,i:h,n:this.norm.get(g)};u.push(m)}else Bs(g)&&g.forEach((m,v)=>{c.push({nestedArrIndex:v,value:m})})}r.$[s]=u}else if(is(l)&&!wx(l)){let u={v:l,n:this.norm.get(l)};r.$[s]=u}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function xM(e,t,{getFn:n=Lt.getFn,fieldNormWeight:r=Lt.fieldNormWeight}={}){const i=new Cx({getFn:n,fieldNormWeight:r});return i.setKeys(e.map(vM)),i.setSources(t),i.create(),i}function DQ(e,{getFn:t=Lt.getFn,fieldNormWeight:n=Lt.fieldNormWeight}={}){const{keys:r,records:i}=e,s=new Cx({getFn:t,fieldNormWeight:n});return s.setKeys(r),s.setIndexRecords(i),s}function Gg(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:i=Lt.distance,ignoreLocation:s=Lt.ignoreLocation}={}){const l=t/e.length;if(s)return l;const u=Math.abs(r-n);return i?l+u/i:u?1:l}function MQ(e=[],t=Lt.minMatchCharLength){let n=[],r=-1,i=-1,s=0;for(let l=e.length;s<l;s+=1){let u=e[s];u&&r===-1?r=s:!u&&r!==-1&&(i=s-1,i-r+1>=t&&n.push([r,i]),r=-1)}return e[s-1]&&s-r>=t&&n.push([r,s-1]),n}const Ol=32;function RQ(e,t,n,{location:r=Lt.location,distance:i=Lt.distance,threshold:s=Lt.threshold,findAllMatches:l=Lt.findAllMatches,minMatchCharLength:u=Lt.minMatchCharLength,includeMatches:c=Lt.includeMatches,ignoreLocation:h=Lt.ignoreLocation}={}){if(t.length>Ol)throw new Error(bQ(Ol));const g=t.length,m=e.length,v=Math.max(0,Math.min(r,m));let x=s,w=v;const E=u>1||c,R=E?Array(m):[];let S;for(;(S=e.indexOf(t,w))>-1;){let Q=Gg(t,{currentLocation:S,expectedLocation:v,distance:i,ignoreLocation:h});if(x=Math.min(Q,x),w=S+g,E){let $=0;for(;$<g;)R[S+$]=1,$+=1}}w=-1;let k=[],M=1,P=g+m;const W=1<<g-1;for(let Q=0;Q<g;Q+=1){let $=0,se=P;for(;$<se;)Gg(t,{errors:Q,currentLocation:v+se,expectedLocation:v,distance:i,ignoreLocation:h})<=x?$=se:P=se,se=Math.floor((P-$)/2+$);P=se;let F=Math.max(1,v-se+1),Y=l?m:Math.min(v+se,m)+g,re=Array(Y+2);re[Y+1]=(1<<Q)-1;for(let V=Y;V>=F;V-=1){let B=V-1,Re=n[e.charAt(B)];if(E&&(R[B]=+!!Re),re[V]=(re[V+1]<<1|1)&Re,Q&&(re[V]|=(k[V+1]|k[V])<<1|1|k[V+1]),re[V]&W&&(M=Gg(t,{errors:Q,currentLocation:B,expectedLocation:v,distance:i,ignoreLocation:h}),M<=x)){if(x=M,w=B,w<=v)break;F=Math.max(1,2*v-w)}}if(Gg(t,{errors:Q+1,currentLocation:v,expectedLocation:v,distance:i,ignoreLocation:h})>x)break;k=re}const z={isMatch:w>=0,score:Math.max(.001,M)};if(E){const Q=MQ(R,u);Q.length?c&&(z.indices=Q):z.isMatch=!1}return z}function TQ(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}const Vg=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class bM{constructor(t,{location:n=Lt.location,threshold:r=Lt.threshold,distance:i=Lt.distance,includeMatches:s=Lt.includeMatches,findAllMatches:l=Lt.findAllMatches,minMatchCharLength:u=Lt.minMatchCharLength,isCaseSensitive:c=Lt.isCaseSensitive,ignoreDiacritics:h=Lt.ignoreDiacritics,ignoreLocation:g=Lt.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:i,includeMatches:s,findAllMatches:l,minMatchCharLength:u,isCaseSensitive:c,ignoreDiacritics:h,ignoreLocation:g},t=c?t:t.toLowerCase(),t=h?Vg(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const m=(x,w)=>{this.chunks.push({pattern:x,alphabet:TQ(x),startIndex:w})},v=this.pattern.length;if(v>Ol){let x=0;const w=v%Ol,E=v-w;for(;x<E;)m(this.pattern.substr(x,Ol),x),x+=Ol;if(w){const R=v-Ol;m(this.pattern.substr(R),R)}}else m(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:i}=this.options;if(t=n?t:t.toLowerCase(),t=r?Vg(t):t,this.pattern===t){let E={isMatch:!0,score:0};return i&&(E.indices=[[0,t.length-1]]),E}const{location:s,distance:l,threshold:u,findAllMatches:c,minMatchCharLength:h,ignoreLocation:g}=this.options;let m=[],v=0,x=!1;this.chunks.forEach(({pattern:E,alphabet:R,startIndex:S})=>{const{isMatch:k,score:M,indices:P}=RQ(t,E,R,{location:s+S,distance:l,threshold:u,findAllMatches:c,minMatchCharLength:h,includeMatches:i,ignoreLocation:g});k&&(x=!0),v+=M,k&&P&&(m=[...m,...P])});let w={isMatch:x,score:x?v/this.chunks.length:1};return x&&i&&(w.indices=m),w}}class Da{constructor(t){this.pattern=t}static isMultiMatch(t){return wM(t,this.multiRegex)}static isSingleMatch(t){return wM(t,this.singleRegex)}search(){}}function wM(e,t){const n=e.match(t);return n?n[1]:null}class OQ extends Da{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class LQ extends Da{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class PQ extends Da{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class FQ extends Da{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class BQ extends Da{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class NQ extends Da{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class SM extends Da{constructor(t,{location:n=Lt.location,threshold:r=Lt.threshold,distance:i=Lt.distance,includeMatches:s=Lt.includeMatches,findAllMatches:l=Lt.findAllMatches,minMatchCharLength:u=Lt.minMatchCharLength,isCaseSensitive:c=Lt.isCaseSensitive,ignoreDiacritics:h=Lt.ignoreDiacritics,ignoreLocation:g=Lt.ignoreLocation}={}){super(t),this._bitapSearch=new bM(t,{location:n,threshold:r,distance:i,includeMatches:s,findAllMatches:l,minMatchCharLength:u,isCaseSensitive:c,ignoreDiacritics:h,ignoreLocation:g})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class CM extends Da{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const i=[],s=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+s,i.push([r,n-1]);const l=!!i.length;return{isMatch:l,score:l?0:1,indices:i}}}const kx=[OQ,CM,PQ,FQ,NQ,BQ,LQ,SM],kM=kx.length,_Q=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,jQ="|";function zQ(e,t={}){return e.split(jQ).map(n=>{let r=n.trim().split(_Q).filter(s=>s&&!!s.trim()),i=[];for(let s=0,l=r.length;s<l;s+=1){const u=r[s];let c=!1,h=-1;for(;!c&&++h<kM;){const g=kx[h];let m=g.isMultiMatch(u);m&&(i.push(new g(m,t)),c=!0)}if(!c)for(h=-1;++h<kM;){const g=kx[h];let m=g.isSingleMatch(u);if(m){i.push(new g(m,t));break}}}return i})}const HQ=new Set([SM.type,CM.type]);class UQ{constructor(t,{isCaseSensitive:n=Lt.isCaseSensitive,ignoreDiacritics:r=Lt.ignoreDiacritics,includeMatches:i=Lt.includeMatches,minMatchCharLength:s=Lt.minMatchCharLength,ignoreLocation:l=Lt.ignoreLocation,findAllMatches:u=Lt.findAllMatches,location:c=Lt.location,threshold:h=Lt.threshold,distance:g=Lt.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:i,minMatchCharLength:s,findAllMatches:u,ignoreLocation:l,location:c,threshold:h,distance:g},t=n?t:t.toLowerCase(),t=r?Vg(t):t,this.pattern=t,this.query=zQ(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i,ignoreDiacritics:s}=this.options;t=i?t:t.toLowerCase(),t=s?Vg(t):t;let l=0,u=[],c=0;for(let h=0,g=n.length;h<g;h+=1){const m=n[h];u.length=0,l=0;for(let v=0,x=m.length;v<x;v+=1){const w=m[v],{isMatch:E,indices:R,score:S}=w.search(t);if(E){if(l+=1,c+=S,r){const k=w.constructor.type;HQ.has(k)?u=[...u,...R]:u.push(R)}}else{c=0,l=0,u.length=0;break}}if(l){let v={isMatch:!0,score:c/l};return r&&(v.indices=u),v}}return{isMatch:!1,score:1}}}const Ix=[];function WQ(...e){Ix.push(...e)}function Ex(e,t){for(let n=0,r=Ix.length;n<r;n+=1){let i=Ix[n];if(i.condition(e,t))return new i(e,t)}return new bM(e,t)}const Yg={AND:"$and",OR:"$or"},Dx={PATH:"$path",PATTERN:"$val"},Mx=e=>!!(e[Yg.AND]||e[Yg.OR]),KQ=e=>!!e[Dx.PATH],QQ=e=>!Bs(e)&&gM(e)&&!Mx(e),IM=e=>({[Yg.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function EM(e,t,{auto:n=!0}={}){const r=i=>{let s=Object.keys(i);const l=KQ(i);if(!l&&s.length>1&&!Mx(i))return r(IM(i));if(QQ(i)){const c=l?i[Dx.PATH]:s[0],h=l?i[Dx.PATTERN]:i[c];if(!is(h))throw new Error(xQ(c));const g={keyId:Sx(c),pattern:h};return n&&(g.searcher=Ex(h,t)),g}let u={children:[],operator:s[0]};return s.forEach(c=>{const h=i[c];Bs(h)&&h.forEach(g=>{u.children.push(r(g))})}),u};return Mx(e)||(e=IM(e)),r(e)}function $Q(e,{ignoreFieldNorm:t=Lt.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:i,norm:s,score:l})=>{const u=i?i.weight:null;r*=Math.pow(l===0&&u?Number.EPSILON:l,(u||1)*(t?1:s))}),n.score=r})}function GQ(e,t){const n=e.matches;t.matches=[],no(n)&&n.forEach(r=>{if(!no(r.indices)||!r.indices.length)return;const{indices:i,value:s}=r;let l={indices:i,value:s};r.key&&(l.key=r.key.src),r.idx>-1&&(l.refIndex=r.idx),t.matches.push(l)})}function VQ(e,t){t.score=e.score}function YQ(e,t,{includeMatches:n=Lt.includeMatches,includeScore:r=Lt.includeScore}={}){const i=[];return n&&i.push(GQ),r&&i.push(VQ),e.map(s=>{const{idx:l}=s,u={item:t[l],refIndex:l};return i.length&&i.forEach(c=>{c(s,u)}),u})}class Xu{constructor(t,n={},r){this.options={...Lt,...n},this.options.useExtendedSearch,this._keyStore=new CQ(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof Cx))throw new Error(AQ);this._myIndex=n||xM(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){no(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,i=this._docs.length;r<i;r+=1){const s=this._docs[r];t(s,r)&&(this.removeAt(r),r-=1,i-=1,n.push(s))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:s,sortFn:l,ignoreFieldNorm:u}=this.options;let c=is(t)?is(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return $Q(c,{ignoreFieldNorm:u}),s&&c.sort(l),pM(n)&&n>-1&&(c=c.slice(0,n)),YQ(c,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(t){const n=Ex(t,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:s,i:l,n:u})=>{if(!no(s))return;const{isMatch:c,score:h,indices:g}=n.searchIn(s);c&&i.push({item:s,idx:l,matches:[{score:h,value:s,norm:u,indices:g}]})}),i}_searchLogical(t){const n=EM(t,this.options),r=(u,c,h)=>{if(!u.children){const{keyId:m,searcher:v}=u,x=this._findMatches({key:this._keyStore.get(m),value:this._myIndex.getValueForItemAtKeyId(c,m),searcher:v});return x&&x.length?[{idx:h,item:c,matches:x}]:[]}const g=[];for(let m=0,v=u.children.length;m<v;m+=1){const x=u.children[m],w=r(x,c,h);if(w.length)g.push(...w);else if(u.operator===Yg.AND)return[]}return g},i=this._myIndex.records,s={},l=[];return i.forEach(({$:u,i:c})=>{if(no(u)){let h=r(n,u,c);h.length&&(s[c]||(s[c]={idx:c,item:u,matches:[]},l.push(s[c])),h.forEach(({matches:g})=>{s[c].matches.push(...g)}))}}),l}_searchObjectList(t){const n=Ex(t,this.options),{keys:r,records:i}=this._myIndex,s=[];return i.forEach(({$:l,i:u})=>{if(!no(l))return;let c=[];r.forEach((h,g)=>{c.push(...this._findMatches({key:h,value:l[g],searcher:n}))}),c.length&&s.push({idx:u,item:l,matches:c})}),s}_findMatches({key:t,value:n,searcher:r}){if(!no(n))return[];let i=[];if(Bs(n))n.forEach(({v:s,i:l,n:u})=>{if(!no(s))return;const{isMatch:c,score:h,indices:g}=r.searchIn(s);c&&i.push({score:h,key:t,value:s,idx:l,norm:u,indices:g})});else{const{v:s,n:l}=n,{isMatch:u,score:c,indices:h}=r.searchIn(s);u&&i.push({score:c,key:t,value:s,norm:l,indices:h})}return i}}Xu.version="7.1.0",Xu.createIndex=xM,Xu.parseIndex=DQ,Xu.config=Lt,Xu.parseQuery=EM,WQ(UQ);const JQ=.4,DM=/^\[(\d+)\] /;function qQ(e,t){const n=e.match(DM),r=n?e.slice(n[0].length):e;let i=1;for(const s of t){if(s===r){i=Math.max(i,1);continue}const l=s.match(DM);l&&l[1]&&s.slice(l[0].length)===r&&(i=Math.max(i,parseInt(l[1],10)))}return`[${i+1}] ${r}`}async function ZQ(e,t){const n=await Ct.conversationMetas.get(e);if(!n)throw new Error(`Conversation ${e} not found`);const i=(await Ct.conversationMetas.toArray()).map(v=>v.title),s=qQ(n.title,i),l=Date.now().toString(),u=new Date().toISOString(),c={conversationId:l,title:s,createdAt:u,updatedAt:u,lastUserInteractionAt:u,preview:n.preview,metadataComplete:!0,model:n.model,toolUsePermissions:n.toolUsePermissions,domains:n.domains,icons:n.icons},h=structuredClone(t).map(v=>({...v,conversationId:l})),g={id:`clone_${l}_${Date.now()}`,timestamp:u,conversationId:l,type:"cloneNotification",sourceConversationId:e,sourceTitle:n.title,cloneTitle:s,eventIndex:h.length};h.push(g);const m=await Ct.searchIndex.get(e);return await Ct.conversationMetas.put(c),await Ct.messages.bulkPut(h),await Ct.searchIndex.put({conversationId:l,searchText:(m==null?void 0:m.searchText)||""}),l}function XQ(){const[e,t]=H.useState(null),[n,r]=H.useState(new Map),i=H.useRef(null);H.useEffect(()=>{i.current=e},[e]);const s=FE(()=>Ct.conversationMetas.orderBy("updatedAt").reverse().toArray(),[]),l=s!==void 0,u=H.useMemo(()=>(s??[]).map(N=>{const de=n.get(N.conversationId);return{...N,messages:void 0,agentState:de==null?void 0:de.agentState,messageQueue:de==null?void 0:de.messageQueue,pendingImage:de==null?void 0:de.pendingImage}}),[s,n]),c=H.useMemo(()=>u.find(ae=>ae.conversationId===e),[u,e]),h=H.useCallback((ae,N)=>{r(de=>{const ve=new Map(de),G=ve.get(ae)||{};return ve.set(ae,{...G,agentState:N}),ve})},[]),g=H.useCallback((ae,N)=>{r(de=>{const ve=new Map(de),G=ve.get(ae)||{};return ve.set(ae,{...G,messageQueue:N(G.messageQueue??[])}),ve}),Ct.conversationMetas.update(ae,{lastUserInteractionAt:new Date().toISOString()}).catch(de=>console.error("Error updating lastUserInteractionAt:",de))},[]),m=H.useCallback((ae,N)=>{r(de=>{const ve=de.get(ae),G=(ve==null?void 0:ve.messageQueue)??[];if(G.length===0)return N(null),de;const[_e,...Be]=G;N(_e??null);const Oe=new Map(de);return Oe.set(ae,{...ve,messageQueue:Be}),Oe})},[]),v=H.useCallback((ae,N)=>{r(de=>{const ve=new Map(de),G=ve.get(ae)||{};return ve.set(ae,{...G,pendingImage:N}),ve})},[]),x=H.useCallback(async ae=>{try{return await Ct.messages.where("conversationId").equals(ae).sortBy("timestamp")}catch(N){return console.error("Error loading conversation messages:",N),[]}},[]),w=H.useCallback(async(ae,N,de)=>{const ve=Date.now().toString(),G=new Date().toISOString(),_e={conversationId:ve,title:"New Chat",createdAt:G,updatedAt:G,lastUserInteractionAt:G,preview:"",model:ae,toolUsePermissions:de},Be=N?await Sg(N):null,Oe=[];if(Be){const oe={id:`context_${ve}_initial`,type:"pageContext",text:Be.text,timestamp:new Date(Date.now()-1).toISOString(),tabId:N,hostname:Be.hostname,eventIndex:0};Oe.push(oe)}const Ue={id:`ai_${ve}_initial`,type:"aiMessage",text:"How can I fix this website for you?",timestamp:new Date().toISOString(),tabId:N,eventIndex:Be?1:0};Oe.push(Ue);try{return await Ct.conversationMetas.put(_e),await Ct.messages.bulkPut(Oe.map(oe=>({...oe,conversationId:ve}))),await Ct.searchIndex.put({conversationId:ve,searchText:Ue.text}),t(ve),ve}catch(oe){return console.error("Error creating conversation:",oe),ve}},[]),E=H.useCallback(async()=>{try{const ae=await Ct.conversationMetas.orderBy("updatedAt").reverse().first();ae&&t(ae.conversationId)}catch(ae){console.error("Error loading conversation list:",ae)}},[]),R=H.useCallback(async(ae,N)=>{await Ct.conversationMetas.update(ae,{suspendData:N})},[]),S=H.useCallback(async ae=>{await Ct.conversationMetas.update(ae,{suspendData:void 0})},[]),k=H.useCallback(async(ae,N)=>{const de={};N.traceId!==void 0&&(de.traceId=N.traceId),N.totalContextSize!==void 0&&(de.totalContextSize=N.totalContextSize),N.firstInCtxMsgIdx!==void 0&&(de.firstInCtxMsgIdx=N.firstInCtxMsgIdx),Object.keys(de).length!==0&&await Ct.conversationMetas.update(ae,de)},[]),M=H.useCallback(async(ae,N)=>{await Ct.conversationMetas.update(ae,{title:N,metadataComplete:!0})},[]),P=H.useCallback(async(ae,N,de)=>{try{const ve=await Ct.conversationMetas.get(ae);if(!ve)return;const G=new Date().toISOString(),_e={preview:N.substring(0,100),updatedAt:G};de&&(_e.lastUserInteractionAt=G),!ve.metadataComplete&&N&&(_e.title=N.substring(0,50)+(N.length>50?"...":""),_e.metadataComplete=!0),await Ct.conversationMetas.update(ae,_e)}catch(ve){console.error("Error updating conversation metadata:",ve)}},[]),W=H.useCallback(ae=>{t(ae.conversationId)},[]),z=H.useCallback(ae=>{t(ae)},[]),Q=H.useCallback(async ae=>{try{if(await Ct.conversationMetas.delete(ae),await Ct.messages.where("conversationId").equals(ae).delete(),await Ct.searchIndex.delete(ae),r(N=>{const de=new Map(N);return de.delete(ae),de}),e===ae){const N=await Ct.conversationMetas.orderBy("updatedAt").reverse().first();t((N==null?void 0:N.conversationId)??null)}}catch(N){console.error("Error deleting conversation:",N)}},[e]),$=H.useCallback(async ae=>{try{const N=await Ct.conversationMetas.get(ae);N&&await Ct.conversationMetas.update(ae,{isPinned:!N.isPinned})}catch(N){console.error("Error toggling pin:",N)}},[]),se=H.useCallback(async(ae,N)=>{try{await Ct.conversationMetas.update(ae,{title:N})}catch(de){console.error("Error renaming conversation:",de)}},[]),F=H.useCallback(async(ae,N)=>{try{await Ct.conversationMetas.update(ae,{model:N})}catch(de){console.error("Error setting conversation model:",de)}},[]),Y=H.useCallback(async(ae,N)=>{await Ct.conversationMetas.update(ae,{toolUsePermissions:N})},[]),re=H.useCallback(async(ae,N)=>{var de,ve;try{const G=await chrome.tabs.get(N);if(!G.url)return;const _e=new URL(G.url).hostname,Be=G.favIconUrl,Oe=await Ct.conversationMetas.get(ae);if(!Oe||(de=Oe.domains)!=null&&de.includes(_e))return;const Ue={domains:[...Oe.domains??[],_e]};Be&&!((ve=Oe.icons)!=null&&ve.includes(Be))&&(Ue.icons=[...Oe.icons??[],Be]),await Ct.conversationMetas.update(ae,Ue)}catch{}},[]),J=H.useCallback(async ae=>{try{const N=await Ct.conversationMetas.get(ae);if(!N)return;const de=await x(ae),ve={metadata:{conversationId:N.conversationId,title:N.title,createdAt:N.createdAt,updatedAt:N.updatedAt,preview:N.preview,isPinned:N.isPinned,model:N.model,domains:N.domains,icons:N.icons},messages:de},G=new Blob([JSON.stringify(ve,null,2)],{type:"application/json"}),_e=URL.createObjectURL(G),Be=document.createElement("a");Be.href=_e,Be.download=`conversation-${N.title||ae}-${Date.now()}.json`,Be.click(),URL.revokeObjectURL(_e)}catch(N){console.error("Error exporting conversation:",N)}},[x]),V=H.useCallback(async ae=>{const N=await x(ae),de=await ZQ(ae,N);t(de)},[x]),B=H.useCallback(async ae=>{if(!ae.trim())return(await Ct.conversationMetas.toArray()).map(de=>({conversationId:de.conversationId,score:0}));try{const N=await Ct.searchIndex.toArray();return new Xu(N,{keys:["searchText"],threshold:JQ,ignoreLocation:!0,includeScore:!0}).search(ae).map(G=>({conversationId:G.item.conversationId,score:G.score??0}))}catch(N){return console.error("Error searching conversations:",N),[]}},[]),Re=H.useCallback(async()=>{await Ct.conversationMetas.clear(),await Ct.messages.clear(),await Ct.searchIndex.clear(),r(new Map),t(null)},[]),Te=H.useCallback(async ae=>{const N=Date.now(),de=[];for(let ve=0;ve<ae;ve++){const G=(N+ve).toString(),_e=new Date(N-ve*6e4).toISOString();de.push({conversationId:G,title:`Synthetic Chat ${ve+1}`,createdAt:_e,updatedAt:_e,preview:`This is a synthetic conversation #${ve+1}`,isPinned:ve%5===0,domains:[`example${ve%3}.com`],icons:[]})}await Ct.conversationMetas.bulkPut(de)},[]),me=H.useCallback(async(ae=2e5)=>{const N=Date.now().toString(),de=new Date().toISOString(),ve=4e3,G=ve/4,_e=Math.ceil(ae/G),Be=["the","quick","brown","fox","jumps","over","lazy","dog","and","then","runs","across","field","while","birds","sing","in","tall","trees","near","river","that","flows","through","valley","between","mountains","under","clear","blue","sky","with","bright","sun","shining","down","on","green","grass","where","flowers","bloom","every","spring","morning","until","evening","comes","bringing","cool","breeze","from","ocean","waves","crash","against","rocky","shore","sending","spray","into","salty","air","above","sandy","beach","below","clouds","drift","slowly","past","moon","stars","tonight","tomorrow","yesterday","always","never","sometimes","often","rarely","quickly","gently","softly","loudly","carefully","around","behind","beside","beyond","during","before","after"],Oe=Ee=>{const Fe=[];let Ye=0,tt=0;for(;Ye<Ee;){const Ne=Be[tt%Be.length]??"the";Fe.push(Ne),Ye+=Ne.length+1,tt++}return Fe.join(" ").slice(0,Ee)},Ue=[];for(let Ee=0;Ee<_e;Ee++){const Fe=new Date(Date.now()-(_e-Ee)*1e3).toISOString(),Ye=Ee%2===0;Ue.push(Ye?{type:"userMessage",id:`overflow-${Ee}`,timestamp:Fe,conversationId:N,eventIndex:Ee,text:`[Message ${Ee+1}/${_e}] ${Oe(ve)}`}:{type:"aiMessage",id:`overflow-${Ee}`,timestamp:Fe,conversationId:N,eventIndex:Ee,text:`[Response ${Ee+1}/${_e}] ${Oe(ve)}`})}const oe=Ue.reduce((Ee,Fe)=>Fe.type==="userMessage"||Fe.type==="aiMessage"?Ee+Fe.text.length:Ee,0),Se=Math.round(oe/4);return await Ct.conversationMetas.put({conversationId:N,title:`Context Overflow Test (~${Math.round(Se/1e3)}k tokens)`,createdAt:de,updatedAt:de,preview:`${_e} messages, ~${Math.round(Se/1e3)}k estimated tokens`,domains:[],icons:[]}),await Ct.messages.bulkPut(Ue),N},[]);return{conversations:u,conversationsLoaded:l,currentConversationId:e,currentConversation:c,loadConversationList:E,createNewConversation:w,selectConversation:W,selectConversationById:z,deleteConversation:Q,togglePinConversation:$,renameConversation:se,setConversationModel:F,setConversationToolPermissions:Y,addDomainFromTab:re,exportConversation:J,cloneConversation:V,loadConversationMessages:x,searchConversations:B,persistMetadata:P,persistAgentResult:k,persistTitle:M,suspendConversation:R,resumeConversation:S,updateConversationAgentState:h,updateConversationMessageQueue:g,popFromMessageQueue:m,updateConversationPendingImage:v,deleteAllConversations:Re,createSyntheticConversations:Te,createContextOverflowConversation:me}}const e$=`// ==UserScript==
// @name        Example Script
// @match       *://*/*
// ==/UserScript==

(function() {
  'use strict';

  // Your code here...
  // This script runs on all pages when enabled.
  //
  // Examples:
  //   document.body.style.backgroundColor = '#f0f0f0';
  //   console.log('Script loaded on:', window.location.href);

})();
`,MM="scripts";function t$(e,t){const[n,r]=H.useState([]),[i,s]=H.useState(null),[l,u]=H.useState("scripts"),c=i?n.find(F=>F.id===i)??null:null,h=H.useRef(null);H.useEffect(()=>{h.current=c},[c]);const g=H.useCallback(F=>{s((F==null?void 0:F.id)??null),F&&u("scripts")},[]);H.useEffect(()=>{const F=(Y,re)=>{if(re==="local"&&Y[MM]){const J=Y[MM].newValue||[];r(J)}};return chrome.storage.onChanged.addListener(F),()=>chrome.storage.onChanged.removeListener(F)},[]);const m=H.useCallback(async()=>{try{let F=await Jo();if(F.length===0){const Y=new Date().toISOString();F=[{id:"example-script",name:"Example Script",urlMatchInclude:["*://*/*"],enabled:!1,createdAt:Y,updatedAt:Y,currentCommit:1,versions:[{commit:1,code:e$,createdAt:Y,createdBy:"user_create"}]}],await $r(F)}r(F)}catch(F){console.error("Error loading scripts:",F)}},[]),v=H.useCallback(async(F,Y)=>{var re;try{const J=n.map(V=>V.id===F?{...V,enabled:Y}:V);r(J),await $r(J),Y||(re=t==null?void 0:t.onScriptDisabled)==null||re.call(t)}catch(J){console.error("Error setting script enabled:",J)}},[n,t]),x=H.useCallback(async(F,Y)=>{try{const re=new Set(F),J=n.map(V=>re.has(V.id)?{...V,enabled:Y}:V);r(J),await $r(J)}catch(re){console.error("Error bulk toggling scripts:",re)}},[n]),w=H.useCallback(async F=>{try{const Y=new Set(F),re=n.filter(J=>!Y.has(J.id));r(re),await $r(re),await sI(F)}catch(Y){console.error("Error bulk deleting scripts:",Y)}},[n]),E=H.useCallback(async F=>{try{const Y=n.filter(re=>re.id!==F);r(Y),await $r(Y),await sI([F])}catch(Y){console.error("Error deleting script:",Y)}},[n]),R=H.useCallback(async F=>{if(e===null)return{error:"NO_TAB_ID",errorMessage:"No current tab ID"};const Y=await zA(e,F.id,Fr(F));return Y.success?{}:{error:Y.error||!0,errorMessage:Y.error??void 0}},[e]),S=H.useCallback(async(F,Y=!0)=>{try{const re=n.find(ae=>ae.id===F.id);let J=F;const V=re?Fr(re):"",B=Fr(F);if(Y&&re&&V!==B){const ae=new Date().toISOString(),N=(re.currentCommit||1)+1,de=re.versions||[];J={...F,currentCommit:N,versions:[{commit:N,code:B,createdAt:ae,createdBy:"user_upversion"},...de].slice(0,10),updatedAt:ae}}const me=n.some(ae=>ae.id===J.id)?n.map(ae=>ae.id===J.id?J:ae):[...n,J];r(me),await $r(me)}catch(re){console.error("Error updating script:",re)}},[n]),k=H.useCallback(async F=>{const Y=[...n,F];r(Y),await $r(Y)},[n]),M=H.useCallback(async()=>{const F=new Date().toISOString(),Y=e?await chrome.tabs.get(e).catch(()=>null):null,re=Y!=null&&Y.url?new URL(Y.url).hostname:null,J=re?[`*://${re}/*`]:["*://*/*"],B=`${og({name:"New Script",match:J,author:"You"})}

console.log("Unimplemented Script.");
`,Re={id:crypto.randomUUID(),name:"New Script "+new Date().toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}),currentCommit:1,versions:[{commit:1,code:B,createdAt:F,createdBy:"user_create"}],urlMatchInclude:J,author:"You",enabled:!0,createdAt:F,updatedAt:F};return await k(Re),g(Re),Re},[k,g,e]),P=H.useCallback(F=>{const Y=n.find(re=>re.id===F);return Y?(s(Y.id),u("chat"),Y):null},[n]),W=H.useCallback(async(F,Y)=>{var re;try{const J=n.find(N=>N.id===F);if(!J)return null;const V=(re=J.versions)==null?void 0:re.find(N=>N.commit===Y);if(!V)return null;const B=new Date().toISOString(),Re=(J.currentCommit||1)+1,Te=J.versions||[],me={...J,currentCommit:Re,versions:[{commit:Re,code:V.code,createdAt:B,createdBy:"user_revert"},...Te].slice(0,10),updatedAt:B},ae=n.map(N=>N.id===F?me:N);return r(ae),await $r(ae),me}catch(J){return console.error("Error restoring version:",J),null}},[n]),z=H.useCallback(async F=>{try{const Y=n.find(Te=>Te.id===F);if(!Y)return null;const re=new Date().toISOString(),J=(Y.currentCommit||1)+1,V=Y.versions||[],B={...Y,currentCommit:J,versions:[{commit:J,code:Fr(Y),createdAt:re,createdBy:"user_upversion"},...V].slice(0,10),updatedAt:re},Re=n.map(Te=>Te.id===F?B:Te);return r(Re),await $r(Re),B}catch(Y){return console.error("Error creating new version:",Y),null}},[n]),Q=H.useCallback(async()=>{await $r([]),r([]),g(null)},[g]),$=H.useCallback(async F=>{const Y=[],re=new Date().toISOString();for(let V=0;V<F;V++){const B=`Synthetic Script ${V+1}`,Re=`// ==UserScript==
// @name        ${B}
// @match       *://example${V%5}.com/*
// @version     1.0
// ==/UserScript==

console.log("Synthetic script ${V+1} running");
`,Te={id:crypto.randomUUID(),name:B,currentCommit:1,versions:[{commit:1,code:Re,createdAt:re,createdBy:"user_create"}],enabled:V%2===0,urlMatchInclude:[`*://example${V%5}.com/*`],createdAt:re,updatedAt:re};Y.push(Te)}const J=[...n,...Y];r(J),await $r(J)},[n]),se=H.useCallback(()=>{var Y;const F=l==="chat";s(null),F&&((Y=t==null?void 0:t.onBackToChat)==null||Y.call(t))},[l,t]);return{scripts:n,editingScript:c,setEditingScript:g,scriptNavSource:l,closeScriptEditor:se,loadScripts:m,setScriptEnabled:v,handleBulkToggle:x,handleBulkDelete:w,handleDeleteScript:E,handleApplyScript:R,handleUpdateScript:S,addScript:k,createBlankScript:M,handleGoToScript:P,restoreVersion:W,createNewVersion:z,deleteAllScripts:Q,createSyntheticScripts:$}}function n$({conversations:e,conversationsLoaded:t,selectConversation:n,createNewConversation:r,addDomainFromTab:i,defaultModel:s,defaultToolPermissions:l,currentTabId:u}){const c=H.useRef(!1),[h]=H.useState(()=>({newConversation:new URLSearchParams(window.location.search).get("newConversation")==="true"}));H.useEffect(()=>{if(c.current||u===null)return;const g=async()=>{const m=await r(s,u,l);await i(m,u)};if(t){if(c.current=!0,h.newConversation||e.length===0){g();return}chrome.tabs.get(u).then(async m=>{if(!m.url)return;let v;try{v=new URL(m.url).hostname}catch{return}const x=e.find(w=>{var E;return(E=w.domains)==null?void 0:E.some(R=>R===v||R.endsWith(`.${v}`)||v.endsWith(`.${R}`))});x?n(x):await g()})}},[e,t,n,r,i,s,l,u,h.newConversation])}const Rx="storage_migration_version",RM=4;async function r$(){const t=(await chrome.storage.local.get(Rx))[Rx]||0;if(t<RM){if(t<4){const r=(await chrome.storage.local.get("conversations")).conversations||[];r.length>0&&(await Ct.conversationMetas.count()===0&&(await Ct.conversationMetas.bulkPut(r),console.log(`[QuillMonkey] Migrated ${r.length} conversation metas to Dexie`)),await chrome.storage.local.remove("conversations"))}await chrome.storage.local.set({[Rx]:RM})}}function i$(){const{c:e}=Tt(),t=window.location.pathname.includes("sidepanel")?"chat":"scripts",[n,r]=H.useState(t),[i,s]=H.useState(!1),[l,u]=H.useState([]),{currentTabId:c,sidePanelPage:h,isFullPage:g}=H.useMemo(()=>{const k=new URLSearchParams(window.location.search),M=k.get("tabId"),P=k.get("sidePanelPage");return{currentTabId:M?parseInt(M,10):null,sidePanelPage:P,isFullPage:!window.location.pathname.includes("sidepanel")}},[]),m=pQ(),v=XQ(),x=H.useCallback(()=>{m.hideDisableScriptToast||s(!0)},[m.hideDisableScriptToast]),w=t$(c,{onScriptDisabled:x,onBackToChat:()=>r("chat")}),{models:E,isLoading:R}=bP();H.useEffect(()=>{(async()=>{await r$(),m.loadSettings(),w.loadScripts(),v.loadConversationList()})()},[]),n$({conversations:v.conversations,conversationsLoaded:v.conversationsLoaded,selectConversation:v.selectConversation,createNewConversation:v.createNewConversation,addDomainFromTab:v.addDomainFromTab,defaultModel:m.defaultModel,defaultToolPermissions:m.toolUsePermissions,currentTabId:c}),H.useEffect(()=>{if(g)return;const k=()=>chrome.runtime.sendMessage({type:"keepalive"}).catch(()=>{});k();const M=setInterval(k,25e3);return()=>clearInterval(M)},[g]),H.useEffect(()=>{if(g)return;const k=chrome.runtime.connect({name:"sidePanel"});return()=>k.disconnect()},[g]),H.useEffect(()=>{if(g||!c)return;const k=`panelOpen:${c}`;return chrome.storage.session.set({[k]:!0}),()=>{chrome.storage.session.remove(k)}},[g,c]),H.useEffect(()=>{if(g)return;const k=(M,P,W)=>M.action==="pingPanel"?(W({success:!0}),!0):!1;return chrome.runtime.onMessage.addListener(k),()=>chrome.runtime.onMessage.removeListener(k)},[g]),H.useEffect(()=>{const k=P=>{r("chat"),u(W=>[...W,P.xpath])};chrome.storage.session.get("pendingElementSelection").then(P=>{const W=P.pendingElementSelection;W!=null&&W.selectors&&(k(W.selectors),chrome.storage.session.remove("pendingElementSelection"),chrome.action.setBadgeText({text:""}))});const M=(P,W,z)=>(P.action==="elementSelected"&&P.selectors?(k(P.selectors),z({success:!0})):P.action==="elementPickerCancelled"&&z({success:!0}),!0);return chrome.runtime.onMessage.addListener(M),()=>chrome.runtime.onMessage.removeListener(M)},[]),H.useEffect(()=>{c&&Q9(c)},[c]),H.useEffect(()=>{K9({deleteAllConversations:v.deleteAllConversations,deleteAllScripts:w.deleteAllScripts,createSyntheticConversations:v.createSyntheticConversations,createContextOverflowConversation:v.createContextOverflowConversation,createSyntheticScripts:w.createSyntheticScripts,conversations:v.conversations,currentConversationId:v.currentConversationId,scripts:w.scripts})},[v.deleteAllConversations,v.createSyntheticConversations,v.createContextOverflowConversation,v.conversations,v.currentConversationId,w.deleteAllScripts,w.createSyntheticScripts,w.scripts]);const S=k=>{w.loadScripts().then(()=>{w.handleGoToScript(k)&&r("scripts")})};return h==="shortcuts"?T.jsx(fQ,{}):h==="enableUserscripts"?T.jsx(dQ,{}):T.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",height:"100vh",backgroundColor:e("bg","secondary")},children:[T.jsx("div",{style:{backgroundColor:e("bg","primary"),borderBottom:`1px solid ${e("border","primary")}`,boxShadow:`0 2px 4px ${e("shadow","subtle")}`},children:T.jsxs("div",{style:{display:"flex",gap:"0"},children:[[{id:"chat",label:"Chat",icon:GP},{id:"conversations",label:"All Chats",icon:_P},{id:"scripts",label:"Changes",icon:PP},{id:"settings",label:"Settings",icon:EC}].map(k=>T.jsxs("button",{className:`tab-btn ${n===k.id?"active":""}`,onMouseDown:()=>{r(k.id),k.id==="scripts"&&w.setEditingScript(null)},children:[T.jsx(k.icon,{size:14}),k.label]},k.id)),!g&&T.jsx("button",{style:{display:"flex",alignItems:"center",justifyContent:"center",background:"none",border:"none",cursor:"pointer",padding:"0 10px",color:e("text","secondary")},title:"Open in full page",onClick:()=>{chrome.tabs.create({url:chrome.runtime.getURL("fullpage.html")})},children:T.jsx(HP,{size:16})})]})}),i&&T.jsx(hQ,{message:"You may need to refresh the page to undo the script's changes.",onClose:()=>s(!1),onDontShowAgain:()=>{m.setHideDisableScriptToast(!0),s(!1)}}),T.jsx(ZP,{activeTab:n,conversations:v,currentTabId:c,createNewConversation:async()=>{await v.createNewConversation(m.defaultModel,c,m.toolUsePermissions),r("chat")},selectConversation:k=>{v.selectConversation(k),r("chat")}}),T.jsx(S_,{activeTab:n,settings:m,quillmonkeyModels:E,quillmonkeyModelsLoading:R,onScriptsReload:()=>w.loadScripts()}),T.jsx(V9,{activeTab:n,convos:v,onRename:async k=>{v.currentConversationId&&await v.renameConversation(v.currentConversationId,k)},onDelete:async()=>{v.currentConversationId&&(await v.deleteConversation(v.currentConversationId),r("conversations"))},onExport:async()=>{v.currentConversationId&&await v.exportConversation(v.currentConversationId)},onClone:async()=>{v.currentConversationId&&await v.cloneConversation(v.currentConversationId)},onTogglePin:async()=>{v.currentConversationId&&await v.togglePinConversation(v.currentConversationId)},onSetModel:async k=>{v.currentConversationId&&await v.setConversationModel(v.currentConversationId,k)},onSetToolPermissions:async k=>{v.currentConversationId&&await v.setConversationToolPermissions(v.currentConversationId,k)},onNewChat:async()=>{await v.createNewConversation(m.defaultModel,c,m.toolUsePermissions)},settings:m,currentTabId:c,quillmonkeyModels:E,onScriptsReload:()=>w.loadScripts(),onGoToScript:S,pendingXPaths:l,clearPendingXPaths:()=>u([]),onRemoveXPath:k=>u(M=>M.filter((P,W)=>W!==k))}),T.jsx(cQ,{activeTab:n,scriptsHook:w,currentTabId:c})]})}const o$=new JL;function s$(){return T.jsx(qL,{client:o$,children:T.jsx(xP,{children:T.jsx(fP,{children:T.jsx(gP,{children:T.jsx(i$,{})})})})})}const TM=document.getElementById("root");TM&&Bm.createRoot(TM).render(T.jsx(s$,{}))})();
